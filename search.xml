<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Ajax</title>
    <url>/2022/02/17/Ajax/</url>
    <content><![CDATA[<h1 id="Ajax"><a href="#Ajax" class="headerlink" title="Ajax"></a>Ajax</h1><h2 id="一、概念"><a href="#一、概念" class="headerlink" title="一、概念"></a>一、概念</h2><p>Ajax即<strong>A</strong>synchronous <strong>J</strong>avascript <strong>A</strong>nd <strong>X</strong>ML（异步JavaScript和<a href="https://baike.baidu.com/item/XML/86251">XML</a>）</p>
<p>​        使用Ajax的最大优点，就是能在不更新整个页面的前提下维护数据。这使得Web应用程序更为迅捷地回应用户动作，并避免了在网络上发送那些没有改变的信息。</p>
<p>​        Ajax不需要任何浏览器插件，但需要用户<strong>允许JavaScript在浏览器上执行</strong>。</p>
<ul>
<li><p>同步和异步的概念</p>
<p><img src="/2022/02/17/Ajax/1.png" alt></p>
</li>
</ul>
<h2 id="二、实现方式"><a href="#二、实现方式" class="headerlink" title="二、实现方式"></a>二、实现方式</h2><ol>
<li><p>原生的js实现方式(了解)</p>
<p>页面代码</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>$Title$<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;res/js/jquery-3.4.1.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;res/js/bootstrap.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;resources/css/bootstrap.min.css&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">abc</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">//发送异步请求</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//创建核心参数xhttp</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> xhttp;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">if</span> (<span class="built_in">window</span>.XMLHttpRequest) &#123;</span></span><br><span class="line"><span class="javascript">        xhttp = <span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line"><span class="javascript">      &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// code for IE6, IE5</span></span></span><br><span class="line"><span class="javascript">        xhttp = <span class="keyword">new</span> ActiveXObject(<span class="string">&quot;Microsoft.XMLHTTP&quot;</span>);</span></span><br><span class="line"><span class="javascript">      &#125;</span></span><br><span class="line"><span class="javascript">      <span class="comment">//1.建立链接 xhttp.open(&quot;GET&quot;,&quot;text.txt&quot;,true);</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//参数1：请求方式</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//参数2：请求路径（URL）（get方式参数在URL后拼接，post在发送请求时传入）</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//参数3：请求同步还是异步（true为异步，false为同步）</span></span></span><br><span class="line"><span class="javascript">      xhttp.open(<span class="string">&quot;GET&quot;</span>,<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/nicepage?name=tom&quot;</span>,<span class="literal">true</span>);</span></span><br><span class="line"><span class="javascript">      <span class="comment">//2.发送请求xhttp.send()----如果是post方法可以在次传递参数send(&quot;name=123&quot;)</span></span></span><br><span class="line"><span class="javascript">      xhttp.send();</span></span><br><span class="line"><span class="javascript">      <span class="comment">//3.接受并处理服务器请求</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//判断xhttp对象就绪状态是否改变</span></span></span><br><span class="line"><span class="javascript">      xhttp.onreadystatechange=<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//判断就绪状态是否为4（请求已完成，响应就绪），status200表示响应成功就绪</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span>(xhttp.readyState==<span class="number">4</span>&amp;&amp;xhttp.status==<span class="number">200</span>)&#123;</span></span><br><span class="line"><span class="javascript">          $(<span class="string">&quot;#text1&quot;</span>).val(xhttp.responseText);</span></span><br><span class="line"><span class="javascript">          $(<span class="string">&quot;#p1&quot;</span>).html(xhttp.responseText);</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">      &#125;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      $(<span class="string">&quot;#b1&quot;</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        abc();</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;b1&quot;</span>&gt;</span>点击链接<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;text1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;p1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>jQuery实现方式(三种方式)</p>
<ul>
<li><p>$.ajax()</p>
<ul>
<li><p>语法：$.ajax(url,[settings])；</p>
<ul>
<li><p>一般写法$.ajax({键值对})；</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">eg:$.ajax(&#123;</span><br><span class="line">键值对</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><img src="/2022/02/17/Ajax/2.png" alt></p>
</li>
</ul>
</li>
<li><p>实例</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">abc</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        $.ajax(&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">url</span>:<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/nicepage&quot;</span>,<span class="comment">//请求路径</span></span></span><br><span class="line"><span class="javascript">            <span class="attr">type</span>:<span class="string">&quot;post&quot;</span>,<span class="comment">//请求方式</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//data:&quot;name=jack&amp;age=21&quot;,//请求参数</span></span></span><br><span class="line"><span class="javascript">            <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="string">&quot;name&quot;</span>:<span class="string">&quot;tom&quot;</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">&quot;age&quot;</span>:<span class="number">21</span></span></span><br><span class="line"><span class="javascript">            &#125;,<span class="comment">//请求参数json格式</span></span></span><br><span class="line"><span class="javascript">            <span class="attr">success</span>:<span class="function"><span class="keyword">function</span> (<span class="params">date</span>) </span>&#123;<span class="comment">//参数接受返回的数据</span></span></span><br><span class="line"><span class="javascript">                alert(date);</span></span><br><span class="line"><span class="javascript">                $(<span class="string">&quot;#text1&quot;</span>).val(date);</span></span><br><span class="line"><span class="javascript">                $(<span class="string">&quot;#p1&quot;</span>).html(date);</span></span><br><span class="line"><span class="javascript">            &#125;,<span class="comment">//响应成功后的回调函数</span></span></span><br><span class="line"><span class="javascript">            <span class="attr">error</span>:<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                alert(<span class="string">&quot;出错了&quot;</span>);</span></span><br><span class="line"><span class="javascript">            &#125;,<span class="comment">//表示如果请求出错会执行的回调函数</span></span></span><br><span class="line"><span class="javascript">            <span class="attr">dataType</span>:<span class="string">&quot;text&quot;</span> <span class="comment">//设置服务器响应的数据类型</span></span></span><br><span class="line"><span class="javascript">        &#125;)</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">       $(<span class="string">&quot;#b1&quot;</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">           abc();</span></span><br><span class="line"><span class="javascript">       &#125;);</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;b1&quot;</span>&gt;</span>点击链接<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;text1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;p1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<ul>
<li><p>$.get(url,响应参数,回调函数，响应类型)</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">abc</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//$.get方式</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//$.get(url,响应参数,回调函数，响应类型)</span></span></span><br><span class="line"><span class="javascript">        $.get(<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/nicepage&quot;</span>,&#123;<span class="attr">name</span>:<span class="string">&quot;jack123&quot;</span>&#125;,<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            alert(data);</span></span><br><span class="line"><span class="javascript">        &#125;,<span class="string">&quot;text&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="comment">//$.post方式与$.get方式，使用方式只有名字不一样</span></span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">&quot;#b1&quot;</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            abc();</span></span><br><span class="line"><span class="javascript">        &#125;);</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;b1&quot;</span>&gt;</span>点击链接<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;text1&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;p1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>$.post(url,响应参数,回调函数，响应类型)</p>
<ul>
<li>使用方式同$.get()</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>Ajax</category>
      </categories>
      <tags>
        <tag>Ajax</tag>
      </tags>
  </entry>
  <entry>
    <title>ELandJSTL</title>
    <url>/2021/12/23/ELandJSTL/</url>
    <content><![CDATA[<h3 id="一、EL表达式基础"><a href="#一、EL表达式基础" class="headerlink" title="一、EL表达式基础"></a>一、EL表达式基础</h3><h5 id="1-概念：（不用导入，jsp自带）"><a href="#1-概念：（不用导入，jsp自带）" class="headerlink" title="1. 概念：（不用导入，jsp自带）"></a>1. 概念：（不用导入，jsp自带）</h5><p>​    Expression Language 表达式语言</p>
<h5 id="2-作用："><a href="#2-作用：" class="headerlink" title="2. 作用："></a>2. 作用：</h5><p>​    替换和简化jsp中的java代码</p>
<h5 id="3-语法：-输出表达式的结果"><a href="#3-语法：-输出表达式的结果" class="headerlink" title="3. 语法：(输出表达式的结果)"></a>3. 语法：(输出表达式的结果)</h5><p>​    ${表达式}</p>
<h5 id="4-忽略el表达式"><a href="#4-忽略el表达式" class="headerlink" title="4. 忽略el表达式"></a>4. 忽略el表达式</h5><figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span> 忽略全部</span><br><span class="line"><span class="comment">//设置isELIgnored值为true</span></span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> isELIgnored=<span class="string">&quot;true&quot;</span>%&gt;</span><br><span class="line"><span class="number">2.</span> 忽略单个(使用“\”进行转义)</span><br><span class="line">\$&#123;<span class="number">3</span> &gt; <span class="number">4</span>&#125;</span><br></pre></td></tr></table></figure>
<h3 id="二、EL表达式使用"><a href="#二、EL表达式使用" class="headerlink" title="二、EL表达式使用"></a>二、EL表达式使用</h3><h5 id="1-运算："><a href="#1-运算：" class="headerlink" title="1. 运算："></a>1. 运算：</h5><ul>
<li>运算符<ul>
<li>1．算数运算符∶+、-、/(div)、%( mod)</li>
<li>2．比较运算符∶&gt;、&lt;、&gt;=、&lt;=、== 、!=</li>
<li>3．逻辑运算符: &amp;&amp;( and)、ll(or)、 ! (not)</li>
<li>4．空运算符: empty<ul>
<li>功能∶用于判断字符串、集合、数组对象是否为null、长度是否为0</li>
<li>${ empty list)判断字符串、集合、数组对象是否为null或者长度是否为0</li>
<li>${ not empty list)判断字符串、集合、数组对象是否不为null并且长度不为0</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="2-获取值："><a href="#2-获取值：" class="headerlink" title="2. 获取值："></a>2. 获取值：</h5><ol>
<li><p>el表达式只能从域对象中获取值</p>
<ul>
<li><p>语法：</p>
<ol>
<li><p>${域名称.键名}：从指定域中获取指定键的值</p>
<ul>
<li>域名称：<ol>
<li>pagescope             —&gt; pagecontext</li>
<li>requestscope        —&gt; request</li>
<li>sessionscope        —&gt; session</li>
<li>applicationscope  —&gt; application (ServletContext)</li>
</ol>
</li>
</ul>
</li>
<li><p>${键名}：表示依次从最小的域中查找是否有改建对应的值，直到找到对应键的值。</p>
</li>
<li><p>如果域对象中存储的不是基本数据类型，而是对象、List集合、Map集合</p>
<ul>
<li><p>对象${域对象.get方法去掉get首字母小写）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//可以使用setter或getter方法，去掉set或get，在将剩余部分，首字母变为小写。</span><br><span class="line">//setName --&gt; Name --&gt; name</span><br><span class="line">$&#123;user.name&#125;</span><br><span class="line">//获取日期</span><br><span class="line">在user bean类中，定义String getBirStr() 方法，在方法中格式化日期类，并返回。</span><br><span class="line">$&#123;user.birStr&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>List</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$&#123;域名称.键名[索引]&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Map</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. $&#123;域名.键名.Map键&#125;</span><br><span class="line">2. $&#123;域名.键名[&quot;Map键名&quot;]&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
</ol>
<h5 id="3-隐式对象："><a href="#3-隐式对象：" class="headerlink" title="3. 隐式对象："></a>3. 隐式对象：</h5><p>el表达式中有11个隐式对象</p>
<ol>
<li><p>pageContext:</p>
<ul>
<li><p>获取jsp中其他8个隐式对象</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. pageContext.request</span><br><span class="line">//eg:动态获取虚拟目录</span><br><span class="line">pageContext.request.contextPath</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<h3 id="三、JSTL基础"><a href="#三、JSTL基础" class="headerlink" title="三、JSTL基础"></a>三、JSTL基础</h3><p>概念：JavaServer Pages Tag Library    —-  jsp标准标签库</p>
<p>作用：用于简化和替换jsp页面上的java代码</p>
<p>使用步骤：</p>
<ol>
<li>导入jstl相关jar包</li>
<li>引入标签库：taglib指令：&lt;%@ taglib%&gt;</li>
</ol>
<h5 id="1-常用的-STL标签"><a href="#1-常用的-STL标签" class="headerlink" title="1. 常用的]STL标签"></a>1. 常用的]STL标签</h5><p>if:相当于java代码的if语句</p>
<ol>
<li><p>属性:</p>
<ul>
<li><p>test 必须属性，接受boolean表达式</p>
<ul>
<li><p>如果表达式为true，则显示if标签体内容，如果为false，则不显示标签体内容。</p>
</li>
<li><p>—般情况下, test属性值会结合el表达式一起使用。</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>注意：</p>
<ul>
<li>c:if标签没有else情况，想要else情况，则可以再定义一个c:if标签</li>
</ul>
</li>
</ol>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;%@ taglib uri=<span class="string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> prefix=<span class="string">&quot;c&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;title&gt;c:<span class="keyword">if</span> 标签实例&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;c:set <span class="keyword">var</span>=<span class="string">&quot;salary&quot;</span> scope=<span class="string">&quot;session&quot;</span> value=<span class="string">&quot;$&#123;2000*2&#125;&quot;</span>/&gt;</span><br><span class="line">&lt;c:<span class="keyword">if</span> test=<span class="string">&quot;$&#123;salary &gt; 2000&#125;&quot;</span>&gt;</span><br><span class="line">   &lt;p&gt;我的工资为: &lt;c:out value=<span class="string">&quot;$&#123;salary&#125;&quot;</span>/&gt;&lt;p&gt;</span><br><span class="line">&lt;/c:<span class="keyword">if</span>&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>choose:相当于java代码的switch语句</p>
<ol>
<li><p>使用choose标签声明 ——- 相当于switch声明</p>
</li>
<li><p>使用when标签做判断——-相当于case</p>
</li>
<li><p>使用otherwise标签做其他情况的声明——-相当于default</p>
</li>
</ol>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;%@ taglib uri=<span class="string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> prefix=<span class="string">&quot;c&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;title&gt;c:choose 标签实例&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;c:set <span class="keyword">var</span>=<span class="string">&quot;salary&quot;</span> scope=<span class="string">&quot;session&quot;</span> value=<span class="string">&quot;$&#123;2000*2&#125;&quot;</span>/&gt;</span><br><span class="line">&lt;p&gt;你的工资为 : &lt;c:out value=<span class="string">&quot;$&#123;salary&#125;&quot;</span>/&gt;&lt;/p&gt;</span><br><span class="line">&lt;c:choose&gt;</span><br><span class="line">    &lt;c:when test=<span class="string">&quot;$&#123;salary &lt;= 0&#125;&quot;</span>&gt;</span><br><span class="line">       太惨了。</span><br><span class="line">    &lt;/c:when&gt;</span><br><span class="line">    &lt;c:when test=<span class="string">&quot;$&#123;salary &gt; 1000&#125;&quot;</span>&gt;</span><br><span class="line">       不错的薪水，还能生活。</span><br><span class="line">    &lt;/c:when&gt;</span><br><span class="line">    &lt;c:otherwise&gt;</span><br><span class="line">        什么都没有。</span><br><span class="line">    &lt;/c:otherwise&gt;</span><br><span class="line">&lt;/c:choose&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h5 id="2-c-forEach-c-forTokens标签"><a href="#2-c-forEach-c-forTokens标签" class="headerlink" title="2. c:forEach, c:forTokens标签"></a>2. c:forEach, c:forTokens标签</h5><p>foreach:相当于java代码的for语句</p>
<p>这些标签封装了Java中的for，while，do-while循环。</p>
<p>相比而言，c:forEach标签是更加通用的标签，因为它迭代一个集合中的对象。</p>
<p>c:forTokens标签通过指定分隔符将字符串分隔为一个数组然后迭代它们。</p>
<ul>
<li>forEach 语法格式</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;c:forEach</span><br><span class="line">    items=&quot;&lt;object&gt;&quot;</span><br><span class="line">    begin=&quot;&lt;int&gt;&quot;</span><br><span class="line">    end=&quot;&lt;int&gt;&quot;</span><br><span class="line">    step=&quot;&lt;int&gt;&quot;</span><br><span class="line">    var=&quot;&lt;string&gt;&quot;</span><br><span class="line">    varStatus=&quot;&lt;string&gt;&quot;&gt;</span><br><span class="line"></span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>
<ul>
<li>forTokens 语法格式</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;c:forTokens</span><br><span class="line">    items=&quot;&lt;string&gt;&quot;</span><br><span class="line">    delims=&quot;&lt;string&gt;&quot;</span><br><span class="line">    begin=&quot;&lt;int&gt;&quot;</span><br><span class="line">    end=&quot;&lt;int&gt;&quot;</span><br><span class="line">    step=&quot;&lt;int&gt;&quot;</span><br><span class="line">    var=&quot;&lt;string&gt;&quot;</span><br><span class="line">    varStatus=&quot;&lt;string&gt;&quot;&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>属性</li>
</ul>
<p>c:forEach标签有如下属性：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left"><strong>属性</strong></th>
<th style="text-align:left"><strong>描述</strong></th>
<th style="text-align:left"><strong>是否必要</strong></th>
<th style="text-align:left"><strong>默认值</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">items</td>
<td style="text-align:left">要被循环的信息</td>
<td style="text-align:left">否</td>
<td style="text-align:left">无</td>
</tr>
<tr>
<td style="text-align:left">begin</td>
<td style="text-align:left">开始的元素（0=第一个元素，1=第二个元素）</td>
<td style="text-align:left">否</td>
<td style="text-align:left">0</td>
</tr>
<tr>
<td style="text-align:left">end</td>
<td style="text-align:left">最后一个元素（0=第一个元素，1=第二个元素）</td>
<td style="text-align:left">否</td>
<td style="text-align:left">Last element</td>
</tr>
<tr>
<td style="text-align:left">step</td>
<td style="text-align:left">每一次迭代的步长</td>
<td style="text-align:left">否</td>
<td style="text-align:left">1</td>
</tr>
<tr>
<td style="text-align:left">var</td>
<td style="text-align:left">代表当前条目的变量名称</td>
<td style="text-align:left">否</td>
<td style="text-align:left">无</td>
</tr>
<tr>
<td style="text-align:left">varStatus</td>
<td style="text-align:left">代表循环状态的变量名称</td>
<td style="text-align:left">否</td>
<td style="text-align:left">无</td>
</tr>
</tbody>
</table>
</div>
<p><strong>c:forEach varStatus 属性</strong></p>
<ul>
<li><strong>current</strong>: 当前这次迭代的（集合中的）项</li>
<li><strong>index</strong>: 当前这次迭代从 0 开始的迭代索引</li>
<li><strong>count</strong>: 当前这次迭代从 1 开始的迭代计数</li>
<li><strong>first</strong>: 用来表明当前这轮迭代是否为第一次迭代的标志</li>
<li><strong>last</strong>: 用来表明当前这轮迭代是否为最后一次迭代的标志</li>
<li><strong>begin</strong>: 属性值</li>
<li><strong>end</strong>: 属性值</li>
<li><strong>step</strong>: 属性值</li>
</ul>
<p>c:forTokens标签与c:forEach标签有相似的属性，不过c:forTokens还有另一个属性：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left"><strong>属性</strong></th>
<th style="text-align:left"><strong>描述</strong></th>
<th style="text-align:left"><strong>是否必要</strong></th>
<th style="text-align:left"><strong>默认值</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">delims</td>
<td style="text-align:left">分隔符</td>
<td style="text-align:left">是</td>
<td style="text-align:left">无</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>c:forEach实例演示</li>
</ul>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;%@ taglib uri=<span class="string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> prefix=<span class="string">&quot;c&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;title&gt;c:forEach 标签实例&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;c:forEach <span class="keyword">var</span>=<span class="string">&quot;i&quot;</span> begin=<span class="string">&quot;1&quot;</span> end=<span class="string">&quot;5&quot;</span>&gt;</span><br><span class="line">   Item &lt;c:out value=<span class="string">&quot;$&#123;i&#125;&quot;</span>/&gt;&lt;p&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>运行结果如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Item 1</span><br><span class="line">Item 2</span><br><span class="line">Item 3</span><br><span class="line">Item 4</span><br><span class="line">Item 5</span><br></pre></td></tr></table></figure>
<ul>
<li>c:forTokens演示实例</li>
</ul>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;%@ taglib uri=<span class="string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> prefix=<span class="string">&quot;c&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;title&gt;c:forTokens 标签实例&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;c:forTokens items=<span class="string">&quot;google,runoob,taobao&quot;</span> delims=<span class="string">&quot;,&quot;</span> <span class="keyword">var</span>=<span class="string">&quot;name&quot;</span>&gt;</span><br><span class="line">   &lt;c:out value=<span class="string">&quot;$&#123;name&#125;&quot;</span>/&gt;&lt;p&gt;</span><br><span class="line">&lt;/c:forTokens&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>运行结果如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">google</span><br><span class="line">runoob</span><br><span class="line">taobao</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>jsp</category>
      </categories>
      <tags>
        <tag>el</tag>
        <tag>jstl</tag>
      </tags>
  </entry>
  <entry>
    <title>Git</title>
    <url>/2022/02/22/Git/</url>
    <content><![CDATA[<h1 id="Git学习"><a href="#Git学习" class="headerlink" title="Git学习"></a>Git学习</h1><h2 id="一、概念"><a href="#一、概念" class="headerlink" title="一、概念"></a>一、概念</h2><p>git是分布式版本控制系统</p>
<p>svn是集中化版本控制系统</p>
<h2 id="二、安装"><a href="#二、安装" class="headerlink" title="二、安装"></a>二、安装</h2><p>官网安装</p>
<h2 id="三、本地结构"><a href="#三、本地结构" class="headerlink" title="三、本地结构"></a>三、本地结构</h2><p><img src="/2022/02/22/Git/1.png" alt></p>
<h2 id="四、初始化本地库"><a href="#四、初始化本地库" class="headerlink" title="四、初始化本地库"></a>四、初始化本地库</h2><ol>
<li><p>创建文件夹</p>
</li>
<li><p>打开Git终端</p>
</li>
<li><p>右键选中option，设置字符集</p>
<p><img src="/2022/02/22/Git/2.png" alt></p>
<p><img src="/2022/02/22/Git/3.png" alt></p>
</li>
<li><p>git version查看git版本，判断否安装成功</p>
<p><img src="/2022/02/22/Git/4.png" alt></p>
</li>
<li><p>git config —global user.name “” ——设置全局用户名</p>
<ul>
<li>（全局的存储在C:\Users\用户名.gitconfig 文件）</li>
<li>（局部的存储在对应仓库文件下的.git文件夹下的config文件）</li>
</ul>
</li>
<li><p>git config —global user.email “” ——设置全局邮箱</p>
</li>
<li><p>本地仓库初始化</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure>
</li>
<li><p>注意：.git目录下的本地仓库相关的子目录和子文件不要删除和修改</p>
</li>
</ol>
<h2 id="五、常用命令"><a href="#五、常用命令" class="headerlink" title="五、常用命令"></a>五、常用命令</h2><ul>
<li><p>git add 文件名 （将文件放入暂存区）</p>
</li>
<li><p>git commit -m “注释” （将暂存区文件提交到本地库）</p>
<ul>
<li><p>已提交文件修改后要重新add和commit</p>
</li>
<li><p>如果你觉得 git add 提交缓存的流程太过繁琐，Git 也允许你用 -a 选项跳过这一步。命令格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git commit -am [注释]</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>git status (查看仓库状态)</p>
<p><img src="/2022/02/22/Git/5.png" alt></p>
</li>
<li><p>git log（展示操作日志：历史仓库记录对应的索引，操作人，操作时间，操作注释）</p>
<ul>
<li>git log —pretty=oneline (在一行展示一条操作日志)</li>
<li>git reflog (多了HEAD@{数字}信息，表示到此版本要走几步)</li>
<li>如果操作过多会分屏显示<ul>
<li>空格：向下翻页</li>
<li>b：向上翻页</li>
<li>q：退出</li>
</ul>
</li>
</ul>
<p><img src="/2022/02/22/Git/6.png" alt></p>
</li>
<li><p>git reset —hard  [历史仓库记录对应的索引]（前进或后退历史版本）</p>
<ul>
<li>reset 和 git reflog 结合使用</li>
<li>—hard 参数表示暂存区，工作区，本地库全部发生变化（一般只使用hard）</li>
<li>—mixed 参数表示暂存区，本地库发生变化，工作区不变（文件不变）</li>
<li>—soft 参数表示本地库发生变化，其他都不变</li>
</ul>
<p><img src="/2022/02/22/Git/7.png" alt></p>
</li>
<li><p>删除文件，和恢复文件</p>
<ul>
<li><p>删除（直接删除文件，在重新add，commit）</p>
<p><img src="/2022/02/22/Git/8.png" alt></p>
</li>
<li><p>恢复reset —hard [索引]</p>
<p><img src="/2022/02/22/Git/9.png" alt></p>
</li>
</ul>
</li>
<li><p>git diff （比对所有暂存区文件和工作区文件）</p>
<ul>
<li>git diff [文件名] 比对单个文件</li>
<li>git diff HEAD [文件名] 暂存区和当前指针对应的本地库文件进行比对。（HEAD 改为索引号，指定对应版本比较）</li>
</ul>
<p><img src="/2022/02/22/Git/10.png" alt></p>
</li>
</ul>
<h2 id="六、分支"><a href="#六、分支" class="headerlink" title="六、分支"></a>六、分支</h2><h3 id="1-分支概念"><a href="#1-分支概念" class="headerlink" title="1.分支概念"></a>1.分支概念</h3><p><img src="/2022/02/22/Git/11.png" alt></p>
<h3 id="2-查看分支"><a href="#2-查看分支" class="headerlink" title="2. 查看分支"></a>2. 查看分支</h3><ul>
<li><p>git branch -v  (查看所有分支)</p>
<p><img src="/2022/02/22/Git/12.png" alt></p>
</li>
</ul>
<h3 id="3-创建分支"><a href="#3-创建分支" class="headerlink" title="3. 创建分支"></a>3. 创建分支</h3><ul>
<li><p>git branch [分支名称]</p>
<p><img src="/2022/02/22/Git/13.png" alt></p>
</li>
</ul>
<h3 id="4-切换分支"><a href="#4-切换分支" class="headerlink" title="4. 切换分支"></a>4. 切换分支</h3><ul>
<li><p>git checkout [分支名称]</p>
<p><img src="/2022/02/22/Git/14.png" alt></p>
</li>
</ul>
<h3 id="5-将分支合并到主分支"><a href="#5-将分支合并到主分支" class="headerlink" title="5. 将分支合并到主分支"></a>5. 将分支合并到主分支</h3><ol>
<li><p>切换到主分支</p>
</li>
<li><p>合并</p>
<ul>
<li><p>git merge [分支名称] （可能产生冲突:当不同分支修改同一个文件的同一行时）</p>
<p><img src="/2022/02/22/Git/15.png" alt></p>
<p><img src="/2022/02/22/Git/16.png" alt></p>
</li>
<li><p>如果有冲突，人工商议处理</p>
<ul>
<li><p>人工查看冲突文件并解决</p>
</li>
<li><p>重新add冲突文件</p>
<p><img src="/2022/02/22/Git/17.png" alt></p>
</li>
<li><p>重新commit（此时commit不可以带文件名）</p>
<p><img src="/2022/02/22/Git/18.png" alt></p>
</li>
<li><p>冲突解决，退出合并状态</p>
</li>
</ul>
</li>
</ul>
</li>
</ol>
]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>GitHub</title>
    <url>/2022/02/23/GitHub/</url>
    <content><![CDATA[<h1 id="GitHub"><a href="#GitHub" class="headerlink" title="GitHub"></a>GitHub</h1><h2 id="一、本地库与远程库连接"><a href="#一、本地库与远程库连接" class="headerlink" title="一、本地库与远程库连接"></a>一、本地库与远程库连接</h2><h3 id="1、初始本地库"><a href="#1、初始本地库" class="headerlink" title="1、初始本地库"></a>1、初始本地库</h3><ol>
<li>git init</li>
<li>git add [文件名]</li>
<li>git commit -m “注释” [文件名]</li>
</ol>
<h3 id="2、创建github远程仓库"><a href="#2、创建github远程仓库" class="headerlink" title="2、创建github远程仓库"></a>2、创建github远程仓库</h3><p><img src="/2022/02/23/GitHub/1.png" alt></p>
<h3 id="3、在本地创建远程库地址的别名"><a href="#3、在本地创建远程库地址的别名" class="headerlink" title="3、在本地创建远程库地址的别名"></a>3、在本地创建远程库地址的别名</h3><ul>
<li><p>本地仓库每次与远程仓库交互需要知道远程仓库url地址（其地址一般很长）</p>
<ul>
<li><p>远程仓库url地址</p>
<ul>
<li><p>点击进入仓库</p>
<p><img src="/2022/02/23/GitHub/2.png" alt></p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>可以给远程仓库起别名，简化操作</p>
<ul>
<li>git remote -v （查看当前仓库远程库别名）</li>
<li>git remote add [别名] [远程地址]  （添加别名）<ul>
<li><img src="/2022/02/23/GitHub/3.png" alt></li>
<li><img src="/2022/02/23/GitHub/4.png" alt></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="4、推送操作"><a href="#4、推送操作" class="headerlink" title="4、推送操作"></a>4、推送操作</h3><ul>
<li><p>git push [别名] [分支]</p>
<p><img src="/2022/02/23/GitHub/5.png" alt></p>
<ul>
<li><p>推送后，第一次会提示输入github（或其他远程仓库）账号密码</p>
<p><img src="/2022/02/23/GitHub/6.png" alt></p>
</li>
<li><p>（github在2021/8/13日移除了账号密码远程推送的方式，改为personal access token）</p>
<ul>
<li><ol>
<li><p>进入GitHub（点击setting）</p>
<p><img src="/2022/02/23/GitHub/7.png" alt></p>
</li>
</ol>
</li>
<li><ol>
<li><p>点击developer setting</p>
<p><img src="/2022/02/23/GitHub/8.png" alt></p>
</li>
</ol>
</li>
<li><ol>
<li><p>点击personal access token</p>
<p><img src="/2022/02/23/GitHub/9.png" alt></p>
</li>
</ol>
</li>
<li><ol>
<li><p>选中repo</p>
<p><img src="/2022/02/23/GitHub/10.png" alt></p>
</li>
</ol>
</li>
</ul>
</li>
<li><p>使用token后成功推送</p>
<p><img src="/2022/02/23/GitHub/11.png" alt></p>
</li>
</ul>
</li>
</ul>
<h3 id="5、克隆操作"><a href="#5、克隆操作" class="headerlink" title="5、克隆操作"></a>5、克隆操作</h3><ul>
<li><p>git clone [地址]（地址到github对应仓库复制）</p>
<ul>
<li><img src="/2022/02/23/GitHub/12.png" alt></li>
<li><img src="/2022/02/23/GitHub/13.png" alt></li>
</ul>
</li>
<li><p>clone命令完成操作：</p>
<ol>
<li>初始化本地库</li>
<li>将远程库内容完整的克隆到本地</li>
<li>替我们clone创建远程库别名</li>
</ol>
</li>
</ul>
<h2 id="二、团队开发"><a href="#二、团队开发" class="headerlink" title="二、团队开发"></a>二、团队开发</h2><p>如果是本机操作，会存在缓存，使得clone下来的仓库修改后，无需验证直接就可以push到远程仓库</p>
<ul>
<li><p>搜索windows 凭证</p>
<p><img src="/2022/02/23/GitHub/14.png" alt></p>
</li>
<li><p>删除github凭证</p>
<p><img src="/2022/02/23/GitHub/15.png" alt></p>
</li>
</ul>
<p>切换账号再push会出错，需要加入团队</p>
<h3 id="1-邀请成员加入"><a href="#1-邀请成员加入" class="headerlink" title="1. 邀请成员加入"></a>1. 邀请成员加入</h3><ul>
<li><p>登录项目创建者账号，进入共同开发仓库，点击settings</p>
</li>
<li><p>点击collaborators，点击add people</p>
<p><img src="/2022/02/23/GitHub/16.png" alt></p>
<p><img src="/2022/02/23/GitHub/17.png" alt></p>
</li>
<li><p>复制邀请链接</p>
<p><img src="/2022/02/23/GitHub/18.png" alt></p>
</li>
<li><p>登录被邀请人账号，复制链接到url地址栏，回车</p>
<ul>
<li>点击接受邀请</li>
</ul>
</li>
</ul>
<h3 id="2-远程库修改拉取（远程库变动后拉取）"><a href="#2-远程库修改拉取（远程库变动后拉取）" class="headerlink" title="2. 远程库修改拉取（远程库变动后拉取）"></a>2. 远程库修改拉取（远程库变动后拉取）</h3><h4 id="一、git-pull-远程库别名-分支"><a href="#一、git-pull-远程库别名-分支" class="headerlink" title="一、git pull [远程库别名] [分支]"></a>一、git pull [远程库别名] [分支]</h4><p>pull操作相当于fetch + merge</p>
<ul>
<li>git fetch [远程库别名] [分支]<ul>
<li>此操作只是将远程库内容下载到本地库，工作区中文件不变</li>
</ul>
</li>
<li>git checkout [远程库别名] /[分支]<ul>
<li>git fetch后此操作可以进入本地拉取的远程库查看远程库文件</li>
</ul>
</li>
<li>git merge [远程库别名]/[分支]<ul>
<li>此操作合并当前分支和远程库分支</li>
</ul>
</li>
</ul>
<h4 id="二、协同开发冲突问题"><a href="#二、协同开发冲突问题" class="headerlink" title="二、协同开发冲突问题"></a>二、协同开发冲突问题</h4><p>流程：</p>
<ol>
<li><p>A创建仓库，邀请B加入</p>
</li>
<li><p>A push文件1.txt</p>
</li>
<li><p>B pull文件1.txt</p>
</li>
<li><p>A 修改文件1.txt第一行，push</p>
</li>
<li><p>B 修改文件1.txt第一行，push（此时产生冲突）</p>
</li>
<li><p>发现冲突，push失败</p>
</li>
<li><p>此时应该先拉取，然后人为解决冲突</p>
<p><img src="/2022/02/23/GitHub/19.png" alt></p>
<p><img src="/2022/02/23/GitHub/20.png" alt></p>
</li>
<li><p>解决冲突后提交到本地库</p>
</li>
<li><p>推送到服务端</p>
</li>
</ol>
<h2 id="三、跨团队开发"><a href="#三、跨团队开发" class="headerlink" title="三、跨团队开发"></a>三、跨团队开发</h2><h3 id="步骤："><a href="#步骤：" class="headerlink" title="步骤："></a>步骤：</h3><ol>
<li><p>进入A团队项目仓库，复制仓库地址</p>
</li>
<li><p>登录B团队项目仓库，进行fork操作：</p>
<ul>
<li><p>将复制的地址，复制到地址栏，回车</p>
</li>
<li><p>点击fork</p>
<p><img src="/2022/02/23/GitHub/21.png" alt></p>
</li>
</ul>
</li>
<li><p>B团队从B团队项目仓库clone项目到本地</p>
</li>
<li><p>更改数据</p>
</li>
<li><p>添加到暂存区，提交到本地库</p>
</li>
<li><p>将修改push到服务端B团队项目仓库</p>
</li>
<li><p>回到B团队项目仓库，点击Pull requests</p>
<p><img src="/2022/02/23/GitHub/22.png" alt></p>
</li>
<li><p>点击new pull request，输入请求信息</p>
<p><img src="/2022/02/23/GitHub/23.png" alt></p>
<p><img src="/2022/02/23/GitHub/24.png" alt></p>
<p><img src="/2022/02/23/GitHub/25.png" alt></p>
</li>
<li><p>登录A团队仓库，点击pull request，，点击commit回复消息</p>
<p><img src="/2022/02/23/GitHub/26.png" alt></p>
<p><img src="/2022/02/23/GitHub/27.png" alt></p>
</li>
<li><p>查看消息（file changed），点击merge pull request 合并分支</p>
<p><img src="/2022/02/23/GitHub/28.png" alt></p>
</li>
</ol>
<h2 id="四、ssh免密登录"><a href="#四、ssh免密登录" class="headerlink" title="四、ssh免密登录"></a>四、ssh免密登录</h2><h3 id="1-进入用户主目录（git-bash）"><a href="#1-进入用户主目录（git-bash）" class="headerlink" title="1. 进入用户主目录（git bash）"></a>1. 进入用户主目录（git bash）</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd ~  //进入主目录</span><br></pre></td></tr></table></figure>
<h3 id="2-执行命令，生成-ssh目录"><a href="#2-执行命令，生成-ssh目录" class="headerlink" title="2. 执行命令，生成.ssh目录"></a>2. 执行命令，生成.ssh目录</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C [邮箱]</span><br></pre></td></tr></table></figure>
<p>三次回车确认，生成.ssh目录</p>
<h3 id="3-C-Users-用户名-ssh目录下，打开id-rsa-pub文件，复制内容"><a href="#3-C-Users-用户名-ssh目录下，打开id-rsa-pub文件，复制内容" class="headerlink" title="3. C:\Users[用户名]\.ssh目录下，打开id_rsa.pub文件，复制内容"></a>3. C:\Users[用户名]\.ssh目录下，打开id_rsa.pub文件，复制内容</h3><p><img src="/2022/02/23/GitHub/29.png" alt></p>
<h3 id="4-进入github，点击setting，选择ssh-and-gpg-keys"><a href="#4-进入github，点击setting，选择ssh-and-gpg-keys" class="headerlink" title="4. 进入github，点击setting，选择ssh and gpg keys"></a>4. 进入github，点击setting，选择ssh and gpg keys</h3><p><img src="/2022/02/23/GitHub/30.png" alt></p>
<h3 id="5-点击new-SSH-key"><a href="#5-点击new-SSH-key" class="headerlink" title="5. 点击new SSH key"></a>5. 点击new SSH key</h3><p><img src="/2022/02/23/GitHub/31.png" alt></p>
<h3 id="6-添加ssh别名"><a href="#6-添加ssh别名" class="headerlink" title="6. 添加ssh别名"></a>6. 添加ssh别名</h3><p>git remote add [别名] [ssh地址]</p>
<p><img src="/2022/02/23/GitHub/32.png" alt></p>
]]></content>
      <categories>
        <category>GitHub</category>
      </categories>
      <tags>
        <tag>GitHub</tag>
      </tags>
  </entry>
  <entry>
    <title>JSON</title>
    <url>/2022/02/18/JSON/</url>
    <content><![CDATA[<h1 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h1><h2 id="一、概念"><a href="#一、概念" class="headerlink" title="一、概念"></a>一、概念</h2><p>JSON(JavaScript Object Notation, JS 对象简谱) 是一种轻量级的数据交换格式。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">a</span>: <span class="string">&#x27;Hello&#x27;</span>, <span class="attr">b</span>: <span class="string">&#x27;World&#x27;</span>&#125;; <span class="comment">//这是一个对象，注意键名也是可以使用引号包裹的</span></span><br><span class="line"><span class="keyword">var</span> json = <span class="string">&#x27;&#123;&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;World&quot;&#125;&#x27;</span>; <span class="comment">//这是一个 JSON 字符串，本质是一个字符串</span></span><br></pre></td></tr></table></figure>
<h3 id="JSON-格式评估为-JavaScript-对象"><a href="#JSON-格式评估为-JavaScript-对象" class="headerlink" title="JSON 格式评估为 JavaScript 对象"></a>JSON 格式评估为 JavaScript 对象</h3><p>JSON 格式在语法上与创建 JavaScript 对象的代码相同。</p>
<p>由于这种相似性，JavaScript 程序可以很容易地将 JSON 数据转换成本地的 JavaScript 对象。</p>
<h3 id="JSON实例"><a href="#JSON实例" class="headerlink" title="JSON实例"></a>JSON实例</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="string">&quot;employees&quot;</span>:[</span><br><span class="line">    &#123;<span class="string">&quot;firstName&quot;</span>:<span class="string">&quot;Bill&quot;</span>, <span class="string">&quot;lastName&quot;</span>:<span class="string">&quot;Gates&quot;</span>&#125;, </span><br><span class="line">    &#123;<span class="string">&quot;firstName&quot;</span>:<span class="string">&quot;Steve&quot;</span>, <span class="string">&quot;lastName&quot;</span>:<span class="string">&quot;Jobs&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;firstName&quot;</span>:<span class="string">&quot;Alan&quot;</span>, <span class="string">&quot;lastName&quot;</span>:<span class="string">&quot;Turing&quot;</span>&#125;</span><br><span class="line">]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="二、语法"><a href="#二、语法" class="headerlink" title="二、语法"></a>二、语法</h2><h3 id="1-基本规则"><a href="#1-基本规则" class="headerlink" title="1. 基本规则"></a>1. 基本规则</h3><ul>
<li>数据是名称/值对：数据由键值对构成<ul>
<li>JSON 键名称需要双引号。JavaScript 名称不需要。</li>
<li>取值类型：<ul>
<li>数字</li>
<li>字符串</li>
<li>bool</li>
<li>数组：{“person”:[{“name”:”dd”},{“name”:”asd”}]}</li>
<li>对象：{“address”:{“province”:”asd”,”country”:”china”}}</li>
<li>null</li>
</ul>
</li>
</ul>
</li>
<li>数据由逗号分隔：多键值对，分割</li>
<li>花括号保存对象：{}定义json格式</li>
<li>方括号保存数组：[]</li>
</ul>
<h3 id="2-交换数据"><a href="#2-交换数据" class="headerlink" title="2. 交换数据"></a>2. 交换数据</h3><p>当数据在浏览器与服务器之间进行交换时，这些数据只能是文本。</p>
<p>JSON 属于文本，并且我们能够把任何 JavaScript 对象转换为 JSON，然后将 JSON 发送到服务器。</p>
<p>我们也能把从服务器接收到的任何 JSON 转换为 JavaScript 对象。</p>
<p>以这样的方式，我们能够把数据作为 JavaScript 对象来处理，无需复杂的解析和转译。</p>
<h3 id="3-发送数据（json对象转json字符串）"><a href="#3-发送数据（json对象转json字符串）" class="headerlink" title="3. * 发送数据（json对象转json字符串）"></a>3. * 发送数据（json对象转json字符串）</h3><p>​        如果您的数据存储在 JavaScript 对象中，您可以把该对象转换为 JSON，然后将其发送到服务器。</p>
<p>实例</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> myObj = &#123; <span class="attr">name</span>:<span class="string">&quot;Bill Gates&quot;</span>,  <span class="attr">age</span>:<span class="number">62</span>, <span class="attr">city</span>:<span class="string">&quot;Seattle&quot;</span> &#125;;</span><br><span class="line"><span class="keyword">var</span> myJSON =  <span class="built_in">JSON</span>.stringify(myObj);</span><br><span class="line"><span class="built_in">window</span>.location = <span class="string">&quot;demo_json.php?x=&quot;</span> + myJSON;</span><br></pre></td></tr></table></figure>
<h3 id="4-接收数据（json字符串转json对象）"><a href="#4-接收数据（json字符串转json对象）" class="headerlink" title="4. * 接收数据（json字符串转json对象）"></a>4. * 接收数据（json字符串转json对象）</h3><p>​        如果您以 JSON 格式接收到数据，您能够将其转换为 JavaScript 对象：</p>
<p>实例</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> myJSON = <span class="string">&#x27;&#123; &quot;name&quot;:&quot;Bill Gates&quot;,  &quot;age&quot;:62, &quot;city&quot;:&quot;Seattle&quot; &#125;&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> myObj =  <span class="built_in">JSON</span>.parse(myJSON);</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&quot;demo&quot;</span>).innerHTML = myObj.name;</span><br></pre></td></tr></table></figure>
<h3 id="5-存储数据"><a href="#5-存储数据" class="headerlink" title="5. * 存储数据"></a>5. * 存储数据</h3><p>​        在存储数据时，数据必须是某种具体的格式，并且无论您选择在何处存储它，文本永远是合法格式之一。</p>
<p>JSON 让 JavaScript 对象存储为文本成为可能。</p>
<p>实例</p>
<p>把数据存储在本地存储中</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//存储数据：</span></span><br><span class="line">myObj = &#123; <span class="attr">name</span>:<span class="string">&quot;Bill Gates&quot;</span>,  <span class="attr">age</span>:<span class="number">62</span>, <span class="attr">city</span>:<span class="string">&quot;Seattle&quot;</span> &#125;;</span><br><span class="line">myJSON =  <span class="built_in">JSON</span>.stringify(myObj);</span><br><span class="line"><span class="built_in">localStorage</span>.setItem(<span class="string">&quot;testJSON&quot;</span>, myJSON);</span><br><span class="line"></span><br><span class="line"><span class="comment">//接收数据：</span></span><br><span class="line">text = <span class="built_in">localStorage</span>.getItem(<span class="string">&quot;testJSON&quot;</span>);</span><br><span class="line">obj =  <span class="built_in">JSON</span>.parse(text);</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&quot;demo&quot;</span>).innerHTML = obj.name;</span><br></pre></td></tr></table></figure>
<h3 id="6-遍历访问"><a href="#6-遍历访问" class="headerlink" title="6. * 遍历访问"></a>6. * 遍历访问</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1.直接访问有两种方式</span></span><br><span class="line">    <span class="comment">//1.json1.键</span></span><br><span class="line">    <span class="comment">//2.json1[&quot;键&quot;]</span></span><br><span class="line"><span class="comment">//2.遍历对象得到的是键值字符串</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> json1 = &#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;lx&quot;</span>,<span class="string">&quot;age&quot;</span>:<span class="number">12</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> json1) &#123;</span><br><span class="line">        <span class="comment">//i是键值&quot;name&quot; 和 &quot;age&quot;</span></span><br><span class="line">        alert(i+<span class="string">&quot;:&quot;</span>+json1[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//3.数组遍历：两层for循环</span></span><br><span class="line"><span class="comment">//json1[index][key]取值</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> json1 = [&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;lx&quot;</span>,<span class="string">&quot;age&quot;</span>:<span class="number">12</span>&#125;,&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;lx1&quot;</span>,<span class="string">&quot;age&quot;</span>:<span class="number">12</span>&#125;,&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;lx2&quot;</span>,<span class="string">&quot;age&quot;</span>:<span class="number">12</span>&#125;];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;json1.length;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> json1[i])&#123;</span><br><span class="line">            alert(key+<span class="string">&quot;:&quot;</span>+json1[i][key]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="三、JSON数据和Java对象的相互转换"><a href="#三、JSON数据和Java对象的相互转换" class="headerlink" title="三、JSON数据和Java对象的相互转换"></a>三、JSON数据和Java对象的相互转换</h2><h3 id="1-JSON常见解析器："><a href="#1-JSON常见解析器：" class="headerlink" title="1. JSON常见解析器："></a>1. JSON常见解析器：</h3><ul>
<li>常见的解析器：Jsonlib，Gson，fastjson，jackson</li>
</ul>
<h3 id="2-jackson使用"><a href="#2-jackson使用" class="headerlink" title="2. jackson使用"></a>2. jackson使用</h3><ul>
<li><p>JSON转Java对象</p>
<ul>
<li><p>导入jackson相关jar包</p>
</li>
<li><p>创建jackson核心对象ObjecMapper</p>
</li>
<li><p>调ObjectMapper相关方法</p>
<ul>
<li><p>方法1：readValue(json字符串数据，Class)</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">jack_test3</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        String json1 = <span class="string">&quot;&#123;\&quot;name\&quot;:\&quot;asda\&quot;,\&quot;age\&quot;:12,\&quot;hobby\&quot;:\&quot;跑步\&quot;,\&quot;birthday\&quot;:\&quot;2022-2-18\&quot;&#125;&quot;</span>;</span><br><span class="line">        ObjectMapper objectMapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">        person p = objectMapper.readValue(json1, person.class);</span><br><span class="line">        System.out.println(p);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><p>Java对象转JSON</p>
<ul>
<li><p>使用步骤：</p>
<ol>
<li><p>导入jackson相关jar包</p>
</li>
<li><p>创建jackson核心对象ObjecMapper</p>
</li>
<li><p>调ObjectMapper相关方法</p>
<ul>
<li><p>方法1：writeValue(参数1，obj):</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*方法1：writeValue(参数1，obj):</span></span><br><span class="line"><span class="comment">* 参数1:</span></span><br><span class="line"><span class="comment">*  File:将obj对d象转换为JSON字符串，并保存到指定的文件File中</span></span><br><span class="line"><span class="comment">*  writer:将obj对象转换为JSON字符串，并将json数据填充到字符输出流writer中</span></span><br><span class="line"><span class="comment">*  outputStream:将obj对象转换为JSON字符串，并将json数据填充到字节输出流outputStream中</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">jack_test</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        String json1 = <span class="string">&quot;&#123;&#x27;name&#x27;:&#x27;asda&#x27;,&#x27;age&#x27;:12&#125;&quot;</span>;</span><br><span class="line">        person p = <span class="keyword">new</span> person();</span><br><span class="line">        p.setAge(<span class="number">12</span>);</span><br><span class="line">        p.setHobby(<span class="string">&quot;跑步&quot;</span>);</span><br><span class="line">        p.setName(<span class="string">&quot;lx&quot;</span>);</span><br><span class="line">        ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">        mapper.writeValue(<span class="keyword">new</span> File(<span class="string">&quot;f://a.txt&quot;</span>),p);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
</ul>
<pre><code>   * 方法2：writeValueAsString(obj):将对象转为JSON字符串

     <figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">jack_test</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        String json1 = <span class="string">&quot;&#123;&#x27;name&#x27;:&#x27;asda&#x27;,&#x27;age&#x27;:12&#125;&quot;</span>;</span><br><span class="line">        person p = <span class="keyword">new</span> person();</span><br><span class="line">        p.setAge(<span class="number">12</span>);</span><br><span class="line">        p.setHobby(<span class="string">&quot;跑步&quot;</span>);</span><br><span class="line">        p.setName(<span class="string">&quot;lx&quot;</span>);</span><br><span class="line">        ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">        String s = mapper.writeValueAsString(p);</span><br><span class="line">    	System.out.println(s);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</code></pre><ul>
<li><p>注解学习：</p>
<ol>
<li><p>@JsonIgnore：排除属性（添加到属性或者get方法上）</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">person</span> </span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    String hobby;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    <span class="meta">@JsonIgnore</span></span><br><span class="line">    Date birthday;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>@JsonFormat：属性格式化</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">person</span> </span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    String hobby;</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    <span class="meta">@JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)</span></span><br><span class="line">    Date birthday;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>复杂java对象转换</p>
<ol>
<li><p>List（数组）</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">jack_test1</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        String json1 = <span class="string">&quot;&#123;&#x27;name&#x27;:&#x27;asda&#x27;,&#x27;age&#x27;:12&#125;&quot;</span>;</span><br><span class="line">        person p = <span class="keyword">new</span> person();</span><br><span class="line">        p.setAge(<span class="number">12</span>);</span><br><span class="line">        p.setHobby(<span class="string">&quot;跑步&quot;</span>);</span><br><span class="line">        p.setName(<span class="string">&quot;lx&quot;</span>);</span><br><span class="line">        p.setBirthday(<span class="keyword">new</span> Date());</span><br><span class="line">        person p1 = <span class="keyword">new</span> person();</span><br><span class="line">        p1.setAge(<span class="number">12</span>);</span><br><span class="line">        p1.setHobby(<span class="string">&quot;跑步&quot;</span>);</span><br><span class="line">        p1.setName(<span class="string">&quot;lx&quot;</span>);</span><br><span class="line">        p1.setBirthday(<span class="keyword">new</span> Date());</span><br><span class="line">        person p2 = <span class="keyword">new</span> person();</span><br><span class="line">        p2.setAge(<span class="number">12</span>);</span><br><span class="line">        p2.setHobby(<span class="string">&quot;跑步&quot;</span>);</span><br><span class="line">        p2.setName(<span class="string">&quot;lx&quot;</span>);</span><br><span class="line">        p2.setBirthday(<span class="keyword">new</span> Date());</span><br><span class="line">        ArrayList&lt;person&gt; plist = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        plist.add(p);</span><br><span class="line">        plist.add(p1);</span><br><span class="line">        plist.add(p2);</span><br><span class="line">        ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">        String s = mapper.writeValueAsString(plist);</span><br><span class="line">        System.out.println(s);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
<pre><code>2. Map（对象）

   <figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">jack_test2</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        Map&lt;String,String&gt; mam1 = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        mam1.put(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;lx&quot;</span>);</span><br><span class="line">        mam1.put(<span class="string">&quot;age&quot;</span>,<span class="string">&quot;12&quot;</span>);</span><br><span class="line">        ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">        String s = mapper.writeValueAsString(mam1);</span><br><span class="line">        System.out.println(s);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</code></pre><h2 id="四、案例"><a href="#四、案例" class="headerlink" title="四、案例"></a>四、案例</h2><ol>
<li><p>判断用户名是否存在</p>
<ul>
<li><p>服务器响应的数据，在客户端使用时想要当作json数据格式使用</p>
<ol>
<li><p>$.get(…,”json”):设置最后一个参数为“json”</p>
</li>
<li><p>或者设置respond的MIME类型：application/json</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">response.setContentType(<span class="string">&quot;application/json;charset=utf-8&quot;</span>);</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
</li>
</ol>
]]></content>
      <categories>
        <category>JSON</category>
      </categories>
      <tags>
        <tag>JSON</tag>
      </tags>
  </entry>
  <entry>
    <title>RNN</title>
    <url>/2022/03/06/RNN/</url>
    <content><![CDATA[<h1 id="RNN学习"><a href="#RNN学习" class="headerlink" title="RNN学习"></a>RNN学习</h1><h2 id="一、RNN基础概念"><a href="#一、RNN基础概念" class="headerlink" title="一、RNN基础概念"></a>一、RNN基础概念</h2><p><img src="/2022/03/06/RNN/1.png" alt></p>
<h2 id="二、自然语言处理与词嵌入"><a href="#二、自然语言处理与词嵌入" class="headerlink" title="二、自然语言处理与词嵌入"></a>二、自然语言处理与词嵌入</h2><h2 id="2-1词汇表征"><a href="#2-1词汇表征" class="headerlink" title="2.1词汇表征"></a>2.1词汇表征</h2><p>（1）使用one-hot方法表示词汇有两个主要的缺点，以10000个词为例，每个单词需要用10000维来表示，而且只有一个数是零，其他维度都是1，造成表示非常冗余，存储量大；第二每个单词表示的向量相乘都为零（正交），导致没能够表示是词汇之间的联系，比如oriange和apple,queen和king应该是联系比价紧密的，但是用上面的词典表示无法体现出这一点。</p>
<p>（2）使用新的特征表示法，如下图所示，特征比如有性别、高贵、年龄、颜色、尺寸、食物等等作为特征，那么一个词汇符合一个特征将会取较大的值，完全没什么关系取接近于0，加入设置了300个特征，那么每个单词就可以用300维的向量表示（解决了表示太冗余），而且相似的词（比如apple和oriange）在不同特征可能都非常类似的值（即相似性高），从而使得词汇之间有了联系。</p>
<p><img src="https://images2018.cnblogs.com/blog/1326691/201807/1326691-20180721182745477-945424305.png" alt="img"></p>
<p>（3）在上面提到那些特征，在实际中是通过网络来学习得到的，具体表示什么特征是没人知道的。</p>
<h2 id="2-2使用词嵌入"><a href="#2-2使用词嵌入" class="headerlink" title="2.2使用词嵌入"></a>2.2使用词嵌入</h2><p>（1）如何用词嵌入做迁移学习的步骤：</p>
<p>1.先从大量的文本机中学习词嵌入（词嵌入其实就是用一些特征来表示一个词汇，而不是通过one-hot表示），当然也可以直接使用别人训练好的词嵌入。</p>
<p>2.然后根据你新任务的数据量来决定是否还要调整这些词嵌入，如果数据量很少的话，直接使用之前的词嵌入。数据多的话可以进行微调。</p>
<p>（3）词嵌入和之前讲过的人脸编码非常的类似，有一点区别就是：词嵌入，是有固定的词汇表的，而在人脸编码中可能会有一个完全没有见过的人脸，然后需要对他进行编码。</p>
<h2 id="2-3词嵌入的特性"><a href="#2-3词嵌入的特性" class="headerlink" title="2.3词嵌入的特性"></a>2.3词嵌入的特性</h2><p>（1）提出问题：man如果对应woman,那么King应该对应什么？方法是man的向量减去woman向量的值应该（约等于）等于King向量减去某个词汇的向量，式子如下所示：</p>
<p><img src="https://images2018.cnblogs.com/blog/1326691/201807/1326691-20180721190628314-198506669.png" alt="img"></p>
<p>移项之后即找到等式两边的相似度：</p>
<p><img src="https://images2018.cnblogs.com/blog/1326691/201807/1326691-20180721190654245-683716881.png" alt="img"></p>
<p>（2）使用余弦相似度（其实就是夹角的余弦值），值接近1是表明越相似：</p>
<p><img src="https://images2018.cnblogs.com/blog/1326691/201807/1326691-20180721190942685-272859069.png" alt="img"></p>
<p><img src="https://images2018.cnblogs.com/blog/1326691/201807/1326691-20180721191013210-2002169835.png" alt="img"></p>
<h2 id="2-4嵌入矩阵"><a href="#2-4嵌入矩阵" class="headerlink" title="2.4嵌入矩阵"></a>2.4嵌入矩阵</h2><p>（1）如果词汇量是10000，每个词汇由300个特征表示，那么嵌入矩阵就是一个300*10000的矩阵，嵌入矩阵与某个词汇的one-hot表示的向量相乘会会的该词汇的嵌入表示（即300维来表示），如下图所示：</p>
<p><img src="https://images2018.cnblogs.com/blog/1326691/201807/1326691-20180721192110555-850686371.png" alt="img"></p>
<p>（2）上面的相乘由于one-hot只有特定的值是1，所以其实相乘的本质是取出该词汇在嵌入矩阵的位置的那一列，所以实际中不会进行这么复杂的矩阵乘法运算，而是用一些方法直接取出那一列即可，如Keras中有一个嵌入层，我们用这个嵌入层可以有效的从嵌入矩阵中提出出你需要的列，而不是对矩阵进行很慢很复杂的乘法运算。</p>
<h2 id="2-5学习词嵌入"><a href="#2-5学习词嵌入" class="headerlink" title="2.5学习词嵌入"></a>2.5学习词嵌入</h2><p>（1）案例是：预测“I want a glass of oriange___”划线处的单词是什么？可以用one-hot的I然后输入到一个嵌入层，嵌入层会做的操作将嵌入矩阵与one-hot向量相乘得到该词汇的嵌入向量，然后再输入到后面的网络进行输出，所以通过训练这整个网络，也就可以学习了嵌入矩阵。</p>
<p><img src="https://images2018.cnblogs.com/blog/1326691/201807/1326691-20180721194202531-972418147.png" alt="img"></p>
<p>（2）后面有全连接层，所以输入的维度需要固定，这时有一个上下文的概念（context），比如用目标预测位置的前4个单词（这时嵌入层输出总共4*300=1200个输入输入到下一层网络中），或者目标位置前后各4个词汇，实践证明，在以训练嵌入矩阵时，只使用目标位置的前一个词汇作为上下文也是效果非常不错的。</p>
<h2 id="2-6Word2Vec"><a href="#2-6Word2Vec" class="headerlink" title="2.6Word2Vec"></a>2.6Word2Vec</h2><p>（1）使用Skip-Gram模型，其做法首先是上下文c进行采样，然后目标词就会在上下文c的正负10个词距内进行采样。换言之，在句子“I want a glass of orange juice to go alone with my cereal”,这时选择上下文c假设是orange,然后再距离orange10以内的词出现某个词的概率，<strong>比如选中glass,这时glass就是相当于(输出的标签)y,而orange是x</strong>。</p>
<p>（2）Skip-Gram可以理解为取一个词，然后在这个词周围出现什么词的概率比较大，用这样来构造一个监督学习，其目的就是为了学习嵌入矩阵。</p>
<p>（3）网络示意图和代价函数如下所示（其中y,y帽都是用one-hot表示的，y是上下文orange在一定词距范围内随机取到的一个词）：</p>
<p><img src="https://images2018.cnblogs.com/blog/1326691/201807/1326691-20180721202314072-2104022877.png" alt="img"></p>
<p><img src="https://images2018.cnblogs.com/blog/1326691/201807/1326691-20180721202329171-663569937.png" alt="img"></p>
<p><img src="https://images2018.cnblogs.com/blog/1326691/201807/1326691-20180721202340451-1301658230.png" alt="img"></p>
<p>（4）采用上述的算法有一个问题就是计算量非常大，因为根据损失函数来看，其求和操作很慢因为词汇量非常大可能达到百万。解决的办法有分级（hierarchical）的softmax分类器和负采样（Negative Sampling）。</p>
<p>（5）分级的思路是（以10000个词汇为例），第一个分类器先告诉你目标词在前5000还是后5000，然后第二个分类器告诉你是前2500还是后2500，这样计算复杂度是词汇输取对数，而不是线性的。另外所形成的树一般常见的词在比较浅的地方，少见的词在更深的地方，如下图所示。</p>
<p><img src="https://images2018.cnblogs.com/blog/1326691/201807/1326691-20180721203025842-471719386.png" alt="img"></p>
<h2 id="2-7负采样"><a href="#2-7负采样" class="headerlink" title="2.7负采样"></a>2.7负采样</h2><p>（1）负采样可以将上面的sotfmax变成一个二分类问题，这样可以大大减小计算量。</p>
<p>（2）负采样的做法是在选定上下文词，然后在上下文词限定的范围内（如10个词内）选取一个目标词，然后网络的输出为1，再在字典随机选取K个词当成负样本（即使选的词在上下文的限定范围内的词也没关系），然后网络的输出为0。如下图所示：</p>
<p><img src="https://images2018.cnblogs.com/blog/1326691/201807/1326691-20180722163912939-394914377.png" alt="img"></p>
<p>（3）一个样本对对应了一个二分类器（即输出只有一个神经元（实质上是只看softmax10000维中对应target词汇的那个维度），计算非常之简单），与之前的sotfmax（输出有10000个神经元）对比如下：</p>
<p><img src="https://images2018.cnblogs.com/blog/1326691/201807/1326691-20180722164241313-205426629.png" alt="img"></p>
<p><img src="https://images2018.cnblogs.com/blog/1326691/201807/1326691-20180722164300675-866462663.png" alt="img"></p>
<p>（4）如何选取样本按照以下的方式，其中f(wi)是观测到的在语料库中的某个英语词的词频率。</p>
<p><img src="https://images2018.cnblogs.com/blog/1326691/201807/1326691-20180722164556981-936601351.png" alt="img"></p>
<h2 id="2-8GloVe词向量"><a href="#2-8GloVe词向量" class="headerlink" title="2.8GloVe词向量"></a>2.8GloVe词向量</h2><p>（1）Xij表示单词i在单词j上下文中出现的次数，所以这里的i和j就和target和context的功能一样，所以可以认为Xij等于Xji。</p>
<p>（2）目标函数是最小化下面的式子（约定Xij为0时，f(Xij)也为0,约定0log0=0,f(Xij)是一个权重）：</p>
<p><img src="https://images2018.cnblogs.com/blog/1326691/201807/1326691-20180722174839291-293547348.png" alt="img"></p>
<h2 id="2-9情感分类"><a href="#2-9情感分类" class="headerlink" title="2.9情感分类"></a>2.9情感分类</h2><p>（1）案例1：输入x是一段文字，而输出y是你要预测的相应情感，比如说是对一个餐馆的评价的星级，分数为1-5。</p>
<p><img src="https://images2018.cnblogs.com/blog/1326691/201807/1326691-20180722184358930-1601780052.png" alt="img"></p>
<p>（2）直接下载使用别人用非常大数据集训练好的嵌入矩阵即可。</p>
<p>（3）方法一使用以下的网络，每个单词one-hot之后经过嵌入矩阵，形成词嵌入，然后将所有单词的特征进行平均，再将平均值送入到softmax中得到最终的评分。</p>
<p> <img src="https://images2018.cnblogs.com/blog/1326691/201807/1326691-20180722184418528-1362455367.png" alt="img"></p>
<p>（4）上一方法存在的问题是，没有考虑到单词的位置关系，所有在句子“Completely lacking in good taste, good service, and good ambiance.”中由于good非常多，所以最终预测得到一个较高的分数，但实际这句话是差评。所以第二种方法是使用循环神经网络RNN，这将是一个多对一问题，这样可以很好的得到一个情感分析的系统。</p>
<p><img src="https://images2018.cnblogs.com/blog/1326691/201807/1326691-20180722184720839-1073627363.png" alt="img"></p>
<h2 id="2-10词嵌入除偏"><a href="#2-10词嵌入除偏" class="headerlink" title="2.10词嵌入除偏"></a>2.10词嵌入除偏</h2><p>（1）当一个系统Father对应Doctor,Mother对应Nurse时这就是一个偏见的系统。</p>
<p>（2）以消除性别偏差为例，叙述消除偏差的主要步骤。首先第一步是将所以带写别的组（如he,she）做ehe-eshe,egirl-eboy然后将这些结果求和取平均，得到如下的轴：</p>
<p><img src="https://images2018.cnblogs.com/blog/1326691/201807/1326691-20180722191452371-869534114.png" alt="img"></p>
<p>（2）第二步是中和步骤，意思就是将应该无偏的词移动到轴上，如下图所示：</p>
<p><img src="https://images2018.cnblogs.com/blog/1326691/201807/1326691-20180722191623802-1352178348.png" alt="img"></p>
<p>（3）第三步是均衡步，即移动一对词将其关于轴对称（如上图中grandmother与grandfather并没有关于轴对称，所以grandmother与中和步骤之后的babysister距离更近一点），如下图所示</p>
<p><img src="https://images2018.cnblogs.com/blog/1326691/201807/1326691-20180722191908418-257241174.png" alt="img"></p>
<p>（5）有一点是，对于性别而言，有明确性别一一的词特别少，用一个二分类器来判断一个词是否是有明确的性别的，然后将所有其他词对这些有明确性别的词做上面的步骤即可解决偏见问题。关于其他偏见同样如此。</p>
]]></content>
      <categories>
        <category>deepLearning</category>
      </categories>
      <tags>
        <tag>RNN</tag>
      </tags>
  </entry>
  <entry>
    <title>attention1</title>
    <url>/2021/12/28/attention1/</url>
    <content><![CDATA[<h3 id="1、el表达式作为JavaScript参数"><a href="#1、el表达式作为JavaScript参数" class="headerlink" title="1、el表达式作为JavaScript参数"></a>1、el表达式作为JavaScript参数</h3><p>​    编写分页项目时，在实现每一行点击删除按钮实现删除功能时使用了el表达式向deletefun(id,nowPage)进行参数传递，发现参数为“undefined”。</p>
<p>（<strong>错误</strong>代码如下）</p>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;a href=<span class="string">&quot;javascript:deletefun($&#123;user.id&#125;,$&#123;nowPage&#125;)&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;btn btn-default&quot;</span> id=<span class="string">&quot;del3&quot;</span>&gt;删除&lt;/a&gt; </span><br></pre></td></tr></table></figure>
<p>​    <strong>查阅相关资料发现，使用el表达式进行JavaScript参数传递，需要将el表达式用引号包裹 </strong>eg: ‘${user.id}’</p>
<p>(修改后代码如下)</p>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;a href=<span class="string">&quot;javascript:deletefun(&#x27;$&#123;user.id&#125;&#x27;,&#x27;$&#123;nowPage&#125;&#x27;)&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;btn btn-default&quot;</span> id=<span class="string">&quot;del3&quot;</span>&gt;删除&lt;/a&gt; </span><br></pre></td></tr></table></figure>
<h3 id="2、修改用户表单中隐藏提交id（主键）"><a href="#2、修改用户表单中隐藏提交id（主键）" class="headerlink" title="2、修改用户表单中隐藏提交id（主键）"></a>2、修改用户表单中隐藏提交id（主键）</h3><p>​    在修改信息时，表单往往不会显示id值，但是后台在修改用户时要使用到其唯一标识，因此往往隐藏提交id</p>
<p>(使用input type=”hidden” value=”${user.id})。</p>
<p>（代码如下）</p>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;input type=<span class="string">&quot;hidden&quot;</span> name=<span class="string">&quot;id&quot;</span> value=<span class="string">&quot;$&#123;user.id&#125;&quot;</span>&gt;</span><br><span class="line">&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;username&quot;</span> id=<span class="string">&quot;username&quot;</span> placeholder=<span class="string">&quot;username&quot;</span> readonly=<span class="string">&quot;readonly&quot;</span>&gt;</span><br></pre></td></tr></table></figure>
<h3 id="3、前端div居中，和div中内容居中"><a href="#3、前端div居中，和div中内容居中" class="headerlink" title="3、前端div居中，和div中内容居中"></a>3、前端div居中，和div中内容居中</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--div居中--&gt;</span></span><br><span class="line">让div水准居中，设置css margin:0 auto;</span><br><span class="line"><span class="comment">&lt;!--内容居中--&gt;</span></span><br><span class="line">1、div内容水平居中CSS：</span><br><span class="line">text-align:center</span><br><span class="line">不论是p或其他div均能够对其设置此CSS完成对应对象内的形式水平居中。</span><br><span class="line"></span><br><span class="line">2、div模式垂直居中 行高属性：</span><br><span class="line">line-height</span><br><span class="line">要让div内只有一行的形式垂直居中，通常对div设置的height(高)与line-height(行高)相似，便可实现div形式垂直居中。</span><br></pre></td></tr></table></figure>
<h3 id="4-重定向连接参数中文乱码问题"><a href="#4-重定向连接参数中文乱码问题" class="headerlink" title="4. 重定向连接参数中文乱码问题"></a>4. 重定向连接参数中文乱码问题</h3><p>在使用response.sendRedirect(url)进行重定向时，遇到中文字符，如果不做任何处理，则在后台无法得到正确的中文字符，为了解决这一问题，今天尝试了好多次方法，这里记录一下我实测通过的方法： </p>
<p>使用response.sendredirect()时的处理 </p>
<p>（URLEncoder.encode转码为页面相应的编码）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">String encoder = &quot;utf-8&quot;;</span><br><span class="line">String s = URLEncoder.encode(&quot;中国必胜&quot;,encoder); </span><br><span class="line">String url = Util.newPath+&quot;/getDemandListInter.do?s=&quot;+s;</span><br><span class="line">		</span><br><span class="line">response.sendRedirect(url);</span><br></pre></td></tr></table></figure>
<p>接收端的处理： </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">String s = new String(request.getParameter(&quot;s&quot;).getBytes(&quot;iso-8859-1&quot;));</span><br></pre></td></tr></table></figure>
<p>浏览器端使用的编码风格是iso-8859-1，所以才会出现这种错误。</p>
]]></content>
      <categories>
        <category>遇到的问题</category>
      </categories>
      <tags>
        <tag>attention</tag>
        <tag>problem</tag>
      </tags>
  </entry>
  <entry>
    <title>bootstrap-1</title>
    <url>/2021/11/28/bootstrap-1/</url>
    <content><![CDATA[<h3 id="一、响应式布局"><a href="#一、响应式布局" class="headerlink" title="一、响应式布局"></a>一、响应式布局</h3><h5 id="引入"><a href="#引入" class="headerlink" title="引入"></a>引入</h5><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">注意：jquery 的引入要在bootstrap.min.js前</span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;resource/css/bootstrap.min.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;resource/js/jquery-3.4.1.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;resource/js/bootstrap.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>同一套页面可以兼容不同分辨率的设备。</li>
</ul>
<p>实现∶依赖于栅格系统∶将一行平均分成12个格子，可以指定元秦占几个格子</p>
<p>步骤∶</p>
<ol>
<li><p>定义容器。相当于之前的 table</p>
<ul>
<li><p>容器分类(样式)</p>
<ul>
<li><p>container</p>
<p>固定宽度</p>
</li>
<li><p>container-fluid</p>
<p>自适应宽度</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>定义行。相当于之前的 tr  </p>
<ul>
<li>样式：row</li>
</ul>
</li>
<li><p>定义元素。指定该元素秦在不同的设备上，所占的格子数目</p>
<ul>
<li>样式：col-设备代号-格子数目<ul>
<li>xs : 超小屏幕 （&lt;768px）</li>
<li>sm : 小屏幕平板(≥768px)</li>
<li>md :中等屏幕桌面显示器(&gt;992px)</li>
<li>lg :大屏幕大桌面显示器(≥1200px)</li>
</ul>
</li>
</ul>
</li>
</ol>
<p>eg:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;row&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-lg-1 col-md-2 col-sm-3 col-xs-4 inner&quot;</span>&gt;</span>格子<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-lg-1 col-md-2 col-sm-3 col-xs-4 inner&quot;</span>&gt;</span>格子<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-lg-1 col-md-2 col-sm-3 col-xs-4 inner&quot;</span>&gt;</span>格子<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-lg-1 col-md-2 col-sm-3 col-xs-4 inner&quot;</span>&gt;</span>格子<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-lg-1 col-md-2 col-sm-3 col-xs-4 inner&quot;</span>&gt;</span>格子<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-lg-1 col-md-2 col-sm-3 col-xs-4 inner&quot;</span>&gt;</span>格子<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-lg-1 col-md-2 col-sm-3 col-xs-4 inner&quot;</span>&gt;</span>格子<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-lg-1 col-md-2 col-sm-3 col-xs-4 inner&quot;</span>&gt;</span>格子<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-lg-1 col-md-2 col-sm-3 col-xs-4 inner&quot;</span>&gt;</span>格子<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-lg-1 col-md-2 col-sm-3 col-xs-4 inner&quot;</span>&gt;</span>格子<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-lg-1 col-md-2 col-sm-3 col-xs-4 inner&quot;</span>&gt;</span>格子<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-lg-1 col-md-2 col-sm-3 col-xs-4 inner&quot;</span>&gt;</span>格子<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="二、图片样式"><a href="#二、图片样式" class="headerlink" title="二、图片样式"></a>二、图片样式</h3><p>常用的全局css样式：</p>
<ul>
<li><p>按钮：class= “btn btn-default”</p>
</li>
<li><p>图片：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">class = &quot;img-responsive&quot;：图片在任意尺寸都占100%</span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;...&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;...&quot;</span> <span class="attr">class</span>=<span class="string">&quot;img-rounded&quot;</span>&gt;</span> 圆角</span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;...&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;...&quot;</span> <span class="attr">class</span>=<span class="string">&quot;img-circle&quot;</span>&gt;</span>  圆形</span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;...&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;...&quot;</span> <span class="attr">class</span>=<span class="string">&quot;img-thumbnail&quot;</span>&gt;</span> 正方形</span><br></pre></td></tr></table></figure>
</li>
<li><p>表格</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">&quot;table table-bordered&quot;</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>表单</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">class</span>=<span class="string">&quot;form-horizontal&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;inputEmail3&quot;</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-2 control-label&quot;</span>&gt;</span>Email<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-10&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;email&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">id</span>=<span class="string">&quot;inputEmail3&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;Email&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;inputPassword3&quot;</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-2 control-label&quot;</span>&gt;</span>Password<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-10&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">id</span>=<span class="string">&quot;inputPassword3&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;Password&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-offset-2 col-sm-10&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span> Remember me</span><br><span class="line">        <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-offset-2 col-sm-10&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-default&quot;</span>&gt;</span>Sign in<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="三、组件"><a href="#三、组件" class="headerlink" title="三、组件"></a>三、组件</h3><p>常用组件</p>
<ol>
<li><p>分页</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">nav</span> <span class="attr">aria-label</span>=<span class="string">&quot;Page navigation&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;pagination&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;Previous&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="symbol">&amp;laquo;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>4<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>5<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;Next&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="symbol">&amp;raquo;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line"></span><br><span class="line">禁用和激活状态</span><br><span class="line">链接在不同情况下可以定制。你可以给不能点击的链接添加 .disabled 类、给当前页添加 .active 类。</span><br><span class="line"><span class="tag">&lt;<span class="name">nav</span> <span class="attr">aria-label</span>=<span class="string">&quot;...&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;pagination&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;disabled&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;Previous&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="symbol">&amp;laquo;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;active&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>1 <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;sr-only&quot;</span>&gt;</span>(current)<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>轮播图</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">图片居中（将此部分添加到div,设置div class属性container）</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;carousel-example-generic&quot;</span> <span class="attr">class</span>=<span class="string">&quot;carousel slide&quot;</span> <span class="attr">data-ride</span>=<span class="string">&quot;carousel&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- Indicators --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ol</span> <span class="attr">class</span>=<span class="string">&quot;carousel-indicators&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-target</span>=<span class="string">&quot;#carousel-example-generic&quot;</span> <span class="attr">data-slide-to</span>=<span class="string">&quot;0&quot;</span> <span class="attr">class</span>=<span class="string">&quot;active&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-target</span>=<span class="string">&quot;#carousel-example-generic&quot;</span> <span class="attr">data-slide-to</span>=<span class="string">&quot;1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-target</span>=<span class="string">&quot;#carousel-example-generic&quot;</span> <span class="attr">data-slide-to</span>=<span class="string">&quot;2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- Wrapper for slides --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;carousel-inner&quot;</span> <span class="attr">role</span>=<span class="string">&quot;listbox&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item active&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;...&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;...&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;carousel-caption&quot;</span>&gt;</span></span><br><span class="line">        ...</span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;...&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;...&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;carousel-caption&quot;</span>&gt;</span></span><br><span class="line">        ...</span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- Controls --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;left carousel-control&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#carousel-example-generic&quot;</span> <span class="attr">role</span>=<span class="string">&quot;button&quot;</span> <span class="attr">data-slide</span>=<span class="string">&quot;prev&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;glyphicon glyphicon-chevron-left&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;sr-only&quot;</span>&gt;</span>Previous<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;right carousel-control&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#carousel-example-generic&quot;</span> <span class="attr">role</span>=<span class="string">&quot;button&quot;</span> <span class="attr">data-slide</span>=<span class="string">&quot;next&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;glyphicon glyphicon-chevron-right&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;sr-only&quot;</span>&gt;</span>Next<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>导航栏</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">nav</span> <span class="attr">class</span>=<span class="string">&quot;navbar navbar-default&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container-fluid&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Brand and toggle get grouped for better mobile display --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;navbar-header&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;navbar-toggle collapsed&quot;</span> <span class="attr">data-toggle</span>=<span class="string">&quot;collapse&quot;</span> <span class="attr">data-target</span>=<span class="string">&quot;#bs-example-navbar-collapse-1&quot;</span> <span class="attr">aria-expanded</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;sr-only&quot;</span>&gt;</span>Toggle navigation<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;icon-bar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;icon-bar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;icon-bar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;navbar-brand&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Brand<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Collect the nav links, forms, and other content for toggling --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;collapse navbar-collapse&quot;</span> <span class="attr">id</span>=<span class="string">&quot;bs-example-navbar-collapse-1&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;nav navbar-nav&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;active&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Link <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;sr-only&quot;</span>&gt;</span>(current)<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Link<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;dropdown&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;dropdown-toggle&quot;</span> <span class="attr">data-toggle</span>=<span class="string">&quot;dropdown&quot;</span> <span class="attr">role</span>=<span class="string">&quot;button&quot;</span> <span class="attr">aria-haspopup</span>=<span class="string">&quot;true&quot;</span> <span class="attr">aria-expanded</span>=<span class="string">&quot;false&quot;</span>&gt;</span>Dropdown <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;caret&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;dropdown-menu&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Action<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Another action<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Something else here<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">role</span>=<span class="string">&quot;separator&quot;</span> <span class="attr">class</span>=<span class="string">&quot;divider&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Separated link<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">role</span>=<span class="string">&quot;separator&quot;</span> <span class="attr">class</span>=<span class="string">&quot;divider&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>One more separated link<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">form</span> <span class="attr">class</span>=<span class="string">&quot;navbar-form navbar-left&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;Search&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-default&quot;</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;nav navbar-nav navbar-right&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Link<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;dropdown&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;dropdown-toggle&quot;</span> <span class="attr">data-toggle</span>=<span class="string">&quot;dropdown&quot;</span> <span class="attr">role</span>=<span class="string">&quot;button&quot;</span> <span class="attr">aria-haspopup</span>=<span class="string">&quot;true&quot;</span> <span class="attr">aria-expanded</span>=<span class="string">&quot;false&quot;</span>&gt;</span>Dropdown <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;caret&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;dropdown-menu&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Action<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Another action<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Something else here<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">role</span>=<span class="string">&quot;separator&quot;</span> <span class="attr">class</span>=<span class="string">&quot;divider&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Separated link<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="comment">&lt;!-- /.navbar-collapse --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="comment">&lt;!-- /.container-fluid --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
]]></content>
      <categories>
        <category>bootstrap</category>
      </categories>
      <tags>
        <tag>bootstrap</tag>
      </tags>
  </entry>
  <entry>
    <title>cookieAndSession</title>
    <url>/2021/12/12/cookieAndSession/</url>
    <content><![CDATA[<h3 id="一、servlet会话技术"><a href="#一、servlet会话技术" class="headerlink" title="一、servlet会话技术"></a>一、servlet会话技术</h3><p>概述：一次会话包含浏览器第一次给服务器发送请求（会话建立），到有一方断开（会话结束）</p>
<ul>
<li>一次会话中包含多次请求和响应。</li>
</ul>
<p>功能：</p>
<ul>
<li>在一次会话请求中的多次访问中共享数据</li>
</ul>
<p>方式：</p>
<p>cookie和session</p>
<h5 id="1-Cookie（客户端会话技术，将数据保存到客户端）"><a href="#1-Cookie（客户端会话技术，将数据保存到客户端）" class="headerlink" title="1. Cookie（客户端会话技术，将数据保存到客户端）"></a>1. Cookie（客户端会话技术，将数据保存到客户端）</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//创建cookie对象，绑定数据</span></span><br><span class="line"><span class="keyword">new</span> Cookie(String name,String value);</span><br><span class="line"><span class="comment">//发送cookie对象</span></span><br><span class="line">response.addCookie(Cookie cookie);</span><br><span class="line"><span class="comment">//获取Cookie数据</span></span><br><span class="line">Cookie[] request.getCookies();</span><br><span class="line"><span class="keyword">for</span>(Cookie c: CookieList)&#123;</span><br><span class="line">    String name = c.getName();</span><br><span class="line">    String value = c.getValue();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Cookie原理:</li>
</ul>
<p>基于响应头set-cookie和请求头cookie实现</p>
<p><img src="/2021/12/12/cookieAndSession/1.png" alt></p>
<ul>
<li><p>cookie细节</p>
<ol>
<li><p>一次可以发送多个cookie</p>
<ul>
<li>创建多个Cookie对象，使用response对象调用多次addCookie()方法</li>
</ul>
</li>
<li><p>cookie在浏览器中保存时间</p>
<ul>
<li><p>默认情况下，当浏览器关闭后，cookie数据被销毁</p>
</li>
<li><p>持久化存储：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//cookie对象的方法</span><br><span class="line">setMaxAge(int seconds)</span><br><span class="line">参数：</span><br><span class="line">	1. 正数：将cookie数据写入到硬盘文件中。持久化存储。cookie存活时间seconds。</span><br><span class="line">	2. 负数：默认值</span><br><span class="line">	3. 0：删除cookie信息</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>cookie能否存储中文（tomcat8之后可以直接存储中文，但是特殊字符仍要使用URLEncoder编码，URLDecoder解码）</p>
<ul>
<li><p>在tomcat8之前cookie中不能直存储中文数据。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">此时需要将中文进行转码--- 一般采用URL编码</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>cookie共享问题</p>
<ul>
<li><p>如果在一个tomcat服务器中部署了多个项目</p>
<ol>
<li><p>默认请况下cookie数据不能共享</p>
</li>
<li><p>如果需要共享则需要设置路径</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//cookie对象方法</span></span><br><span class="line">setPath(String path) <span class="comment">//设置cookie获取范围。默认情况下设置为当前的虚拟目录</span></span><br><span class="line"><span class="comment">//如果要共享则设置：path=&quot;/&quot;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>不同的tomcat服务器间的cookie共享问题</p>
<ol>
<li><p>调用cookie方法 setDomain(String path): 如果设置一级域名相同，那么多个服务器之间的cookie可以共享</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//eg:</span></span><br><span class="line">setDomain(<span class="string">&quot;.baidu.com&quot;</span>);</span><br><span class="line"><span class="comment">//则 tieba.baidu.com 和 news.baidu.com 中cookie可以共享</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
</li>
</ol>
</li>
<li><p>注意点：</p>
<ol>
<li>cookie存储数据在客户端，不安全</li>
<li>浏览器对单个cookie的大小有限制，对同一个域名下cookie存储个数有限制</li>
<li>cookie存储数据包含特殊字符如：空格等，则要进行url编解码操作</li>
<li>cookie存储数据同名，则会覆盖</li>
</ol>
</li>
<li><p>作用：</p>
<ol>
<li>用于存储少量的不太重要的数据到浏览器</li>
<li>在不登录的情况下，进行用户身份识别</li>
</ol>
</li>
<li><p>案例：记录上次访问时间</p>
<ol>
<li>访问一个servlet，如果是第一次访问，则提示：欢迎首次访问！</li>
<li>如果不是则提示：欢迎回来！，您上次访问时间为：…</li>
</ol>
<p>实现：</p>
<p>在服务器中的servlet判断是否有一个名为lastTime的cookie</p>
<p>有:不是第一次访问</p>
<ol>
<li>响应数据:欢迎回来，您上次访问时间为:显示时间字符串</li>
<li>写回cookie : lastTime=…</li>
</ol>
<p>没有∶是第一次访问</p>
<ol>
<li>响应数据∶您好，欢迎您首次访问</li>
<li>写回cookie : lastTime=…</li>
</ol>
</li>
</ul>
<h5 id="2-Session"><a href="#2-Session" class="headerlink" title="2. Session"></a>2. Session</h5><h6 id="概念："><a href="#概念：" class="headerlink" title="概念："></a>概念：</h6><p>服务器端会话技术，在一次会话的多次请求间共享数据，将数据保存在服务器的对象中。HttpSession</p>
<h6 id="快速入门："><a href="#快速入门：" class="headerlink" title="快速入门："></a>快速入门：</h6><ol>
<li><p>获取session</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">request.getSession();</span><br></pre></td></tr></table></figure>
</li>
<li><p>存储数据</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">session.setAttribute(String name,Object value);</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取数据</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Object session.getAttribute(String name);</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除数据</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">removeAttribute(String name);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h6 id="session对象唯一（cookie保证）"><a href="#session对象唯一（cookie保证）" class="headerlink" title="session对象唯一（cookie保证）"></a>session对象唯一（cookie保证）</h6><p>（客户端与服务器通过传递JSESSIONID找到对应id的session）</p>
<p>通过cookie传递JSESSIONID来确保每次会话的session唯一</p>
<p><img src="/2021/12/12/cookieAndSession/2.png" alt></p>
]]></content>
      <categories>
        <category>servlet</category>
      </categories>
      <tags>
        <tag>servlet</tag>
        <tag>cookie</tag>
        <tag>session</tag>
      </tags>
  </entry>
  <entry>
    <title>css-1</title>
    <url>/2021/11/23/css-1/</url>
    <content><![CDATA[<h3 id="css语法"><a href="#css语法" class="headerlink" title="css语法"></a>css语法</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">css语法:</span><br><span class="line"></span><br><span class="line">*格式:</span><br><span class="line">    选择器&#123;</span><br><span class="line">        属性名1:属性值1;属性名2:属性值2;</span><br><span class="line">    &#125;</span><br><span class="line">*选择器:筛选具有相似特征的元秦</span><br><span class="line">*注意:</span><br><span class="line">	每一对属性需要使用;隔开，最后一对属性可以不加;</span><br></pre></td></tr></table></figure>
<h3 id="css选择器"><a href="#css选择器" class="headerlink" title="css选择器"></a>css选择器</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">选择器︰筛选具有相似特征的元素</span><br><span class="line">分类︰</span><br><span class="line">一．基础选择器</span><br><span class="line">1.id选择器∶选择具体的id属性值的元秦.建议在一个html页面中id值唯一</span><br><span class="line">	语法:#id属性值&#123;&#125;</span><br><span class="line">	</span><br><span class="line">2．元素选择器∶选择具有相同标签名称的元素</span><br><span class="line">	*语法: 标签名称&#123;&#125;</span><br><span class="line">	*注意:id选择器优先级高于元素选择器</span><br><span class="line"></span><br><span class="line">3．类选择器∶选择具有相同的class属性值的元素。</span><br><span class="line">	*语法: .class属性值&#123;&#125;</span><br><span class="line">	*注意:类选择器选择器优先级高于元秦选择器</span><br><span class="line"></span><br><span class="line">二. 扩展选择器</span><br><span class="line"></span><br><span class="line">1．选择所有元素∶</span><br><span class="line">	语法︰ *&#123;&#125;2．</span><br><span class="line"></span><br><span class="line">2. 并集选择器︰</span><br><span class="line">	语法：选择器1,选择器2&#123;&#125;</span><br><span class="line"></span><br><span class="line">3．后代选择器: 筛选1元素下的2元素</span><br><span class="line">	语法: 选择器1 选择器2&#123;&#125;</span><br><span class="line"></span><br><span class="line">4．子元素选择器: 筛选父元素是1的2元素</span><br><span class="line">	语法: 选择器1&gt;选择器2&#123;&#125;</span><br><span class="line">	</span><br><span class="line">5. 属性选择器：选择元素名称，属性名称=属性值的元素</span><br><span class="line">	语法: 元素名称[属性名=&quot;属性值&quot;]&#123;&#125;</span><br><span class="line"></span><br><span class="line">6．伪类选择器∶选择一些元素具有的状态</span><br><span class="line">    语法: 元素:状态&#123;&#125;</span><br><span class="line">    如: &lt;a&gt;</span><br><span class="line">状态∶</span><br><span class="line">    link: 初始化的状态</span><br><span class="line">    visited: 被访问过的状态</span><br><span class="line">    active: 正在访问状态</span><br><span class="line">    hover: 鼠标悬浮状态</span><br><span class="line">    </span><br></pre></td></tr></table></figure>
<h3 id="css属性"><a href="#css属性" class="headerlink" title="css属性"></a>css属性</h3><ol>
<li><p>字体</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">font-size : 字体大小</span><br><span class="line">color : 文本颜色</span><br><span class="line">text-align : 对齐方式</span><br><span class="line">line-height : 行高</span><br></pre></td></tr></table></figure>
</li>
<li><p>背景</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">background: 设置背景，复合属性 </span><br><span class="line">eg:</span><br><span class="line">background: url(&quot;&quot;) no-repeat center;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>边框</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">border: 设置边框，复合属性（同时设置四边）</span><br><span class="line">eg:</span><br><span class="line">	border: 1px solid red;</span><br></pre></td></tr></table></figure>
</li>
<li><p>尺寸</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">height: 高度</span><br><span class="line">width: 宽度</span><br></pre></td></tr></table></figure>
</li>
<li><p>盒子模型</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">margin: 外边距</span><br><span class="line">padding: 内边距</span><br><span class="line">	默认情况下内边距会影响整个盒子的大小</span><br><span class="line"></span><br><span class="line">float: 浮动</span><br><span class="line">	left</span><br><span class="line">		eg:float:left</span><br><span class="line">	right</span><br></pre></td></tr></table></figure>
</li>
</ol>
]]></content>
      <categories>
        <category>css</category>
      </categories>
      <tags>
        <tag>css学习</tag>
      </tags>
  </entry>
  <entry>
    <title>database_1</title>
    <url>/2021/11/15/database-1/</url>
    <content><![CDATA[<h2 id="一、数据库基本概念"><a href="#一、数据库基本概念" class="headerlink" title="一、数据库基本概念"></a>一、数据库基本概念</h2><ol>
<li><p>数据库的基本概念</p>
<ul>
<li>数据库的英文单词:DataBase简称:DB。</li>
</ul>
</li>
<li><p>什么数据库?</p>
<ul>
<li>用于存储和管理数据的仓库。</li>
</ul>
</li>
<li><p>数据库的特点∶</p>
<ul>
<li><p>持久化存储数据的。其实数据库就是一个文件系统</p>
</li>
<li><p>方便存储和管理数据</p>
</li>
<li><p>使用了统一的方式操作数据库— SQL</p>
</li>
</ul>
</li>
<li><p>常见的数据库软件</p>
<ul>
<li>oracle:收费的大型数据库，Oracle公司的产品。Oracle收购SUN公司，收购MYSQL。</li>
<li>DB2 :IBM公司的数据库产品,收费的。常应用在银行系统中.</li>
<li>SQLServer: MicroSoft公司收费的中型的数据库。C#、.net等语言常使用。</li>
<li>SyBase:已经淡出历史舞台。提供了一个非常专业数据建模的工具PowerDesigner。</li>
<li>sQLite:嵌入式的小型数据库，应用在手机端。</li>
<li>常用数据库:MYSQL，Oracle</li>
</ul>
<h2 id="二、基础指令"><a href="#二、基础指令" class="headerlink" title="二、基础指令"></a>二、基础指令</h2></li>
</ol>
<ul>
<li>登录退出数据库</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">远程登陆：mysql -hyour_ip -uroot -p</span><br><span class="line">		mysql --host=ip --user=root --password=root</span><br><span class="line">登录：mysql -uroot -p</span><br><span class="line">退出：ctrl+c/exit/quit</span><br></pre></td></tr></table></figure>
<ul>
<li>卸载mysql</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1、去mysql的安装目录找到my.ini文件</span><br><span class="line">复制datadir=&quot;C: / ProgramData/MysQL/ MysQL Server 5.5/Data/&quot;</span><br><span class="line">2、直接卸载mysql（删除软件）</span><br><span class="line">3、到C:/ ProgramData/路径，删除MysQL文件（删除数据）</span><br></pre></td></tr></table></figure>
<ul>
<li>mysql配置</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">开启MySQL服务</span><br><span class="line">方法一、cmd 运行 services.msc 打开系统服务窗口，手动开关</span><br><span class="line">方法二、</span><br><span class="line">1. 管理员运行cmd</span><br><span class="line">2. cmd net stop mysql</span><br><span class="line">3. cmd net start mysql</span><br></pre></td></tr></table></figure>
<h2 id="三、mysql目录结构"><a href="#三、mysql目录结构" class="headerlink" title="三、mysql目录结构"></a>三、mysql目录结构</h2><h4 id="安装目录"><a href="#安装目录" class="headerlink" title="安装目录"></a>安装目录</h4><ol>
<li>bin目录<ul>
<li>二进制可执行文件</li>
</ul>
</li>
<li>data目录<ul>
<li>mysql日志文件，数据文件</li>
</ul>
</li>
<li>include目录<ul>
<li>c语言头信息</li>
</ul>
</li>
<li>lib目录<ul>
<li>运行所需的库文件</li>
</ul>
</li>
<li>share目录<ul>
<li>用于存放字符集、语言等信息</li>
</ul>
</li>
<li>my.ini 配置信息</li>
<li><p>my-huge.ini</p>
<ul>
<li>适合超大型数据库的配置文件</li>
</ul>
</li>
<li><p>my-large.ini</p>
<ul>
<li>适合大型数据库的配置文件。</li>
</ul>
</li>
<li><p>my-medium.ini</p>
<ul>
<li>适合中型数据库的配置文件。</li>
</ul>
</li>
<li><p>my-small.ini</p>
<ul>
<li>适合小型数据库的配置文件。</li>
</ul>
</li>
<li><p>my-template.ini</p>
<ul>
<li>是配置文件的模板，MySQL配置向导将该配置文件中选择项写入到my.ini文件。</li>
</ul>
</li>
<li><p>my-innodb-heavy-4G.ini</p>
<ul>
<li>表示该配置文件只对于InnoDB存储引擎有效，而且服务器的内存不能小于4GB。</li>
</ul>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">配置文件参数详解</span><br><span class="line">[client]</span><br><span class="line">port = 3306</span><br><span class="line">socket = /tmp/mysql.sock</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">port = 3306</span><br><span class="line">socket = /tmp/mysql.sock</span><br><span class="line"></span><br><span class="line">basedir = /usr/local/mysql</span><br><span class="line">datadir = /data/mysql</span><br><span class="line">pid-file = /data/mysql/mysql.pid</span><br><span class="line">user = mysql</span><br><span class="line">bind-address = 0.0.0.0</span><br><span class="line">server-id = 1 #表示是本机的序号为1,一般来讲就是master的意思</span><br><span class="line"></span><br><span class="line">skip-name-resolve</span><br><span class="line"># 禁止MySQL对外部连接进行DNS解析，使用这一选项可以消除MySQL进行DNS解析的时间。但需要注意，如果开启该选项，</span><br><span class="line"># 则所有远程主机连接授权都要使用IP地址方式，否则MySQL将无法正常处理连接请求</span><br><span class="line"></span><br><span class="line">#skip-networking</span><br><span class="line"></span><br><span class="line">back_log = 600</span><br><span class="line"># MySQL能有的连接数量。当主要MySQL线程在一个很短时间内得到非常多的连接请求，这就起作用，</span><br><span class="line"># 然后主线程花些时间(尽管很短)检查连接并且启动一个新线程。back_log值指出在MySQL暂时停止回答新请求之前的短时间内多少个请求可以被存在堆栈中。</span><br><span class="line"># 如果期望在一个短时间内有很多连接，你需要增加它。也就是说，如果MySQL的连接数据达到max_connections时，新来的请求将会被存在堆栈中，</span><br><span class="line"># 以等待某一连接释放资源，该堆栈的数量即back_log，如果等待连接的数量超过back_log，将不被授予连接资源。</span><br><span class="line"># 另外，这值（back_log）限于您的操作系统对到来的TCP/IP连接的侦听队列的大小。</span><br><span class="line"># 你的操作系统在这个队列大小上有它自己的限制（可以检查你的OS文档找出这个变量的最大值），试图设定back_log高于你的操作系统的限制将是无效的。</span><br><span class="line"></span><br><span class="line">max_connections = 1000</span><br><span class="line"># MySQL的最大连接数，如果服务器的并发连接请求量比较大，建议调高此值，以增加并行连接数量，当然这建立在机器能支撑的情况下，因为如果连接数越多，介于MySQL会为每个连接提供连接缓冲区，就会开销越多的内存，所以要适当调整该值，不能盲目提高设值。可以过&#x27;conn%&#x27;通配符查看当前状态的连接数量，以定夺该值的大小。</span><br><span class="line"></span><br><span class="line">max_connect_errors = 6000</span><br><span class="line"># 对于同一主机，如果有超出该参数值个数的中断错误连接，则该主机将被禁止连接。如需对该主机进行解禁，执行：FLUSH HOST。</span><br><span class="line"></span><br><span class="line">open_files_limit = 65535</span><br><span class="line"># MySQL打开的文件描述符限制，默认最小1024;当open_files_limit没有被配置的时候，比较max_connections*5和ulimit -n的值，哪个大用哪个，</span><br><span class="line"># 当open_file_limit被配置的时候，比较open_files_limit和max_connections*5的值，哪个大用哪个。</span><br><span class="line"></span><br><span class="line">table_open_cache = 128</span><br><span class="line"># MySQL每打开一个表，都会读入一些数据到table_open_cache缓存中，当MySQL在这个缓存中找不到相应信息时，才会去磁盘上读取。默认值64</span><br><span class="line"># 假定系统有200个并发连接，则需将此参数设置为200*N(N为每个连接所需的文件描述符数目)；</span><br><span class="line"># 当把table_open_cache设置为很大时，如果系统处理不了那么多文件描述符，那么就会出现客户端失效，连接不上</span><br><span class="line"></span><br><span class="line">max_allowed_packet = 4M</span><br><span class="line"># 接受的数据包大小；增加该变量的值十分安全，这是因为仅当需要时才会分配额外内存。例如，仅当你发出长查询或MySQLd必须返回大的结果行时MySQLd才会分配更多内存。</span><br><span class="line"># 该变量之所以取较小默认值是一种预防措施，以捕获客户端和服务器之间的错误信息包，并确保不会因偶然使用大的信息包而导致内存溢出。</span><br><span class="line"></span><br><span class="line">binlog_cache_size = 1M</span><br><span class="line"># 一个事务，在没有提交的时候，产生的日志，记录到Cache中；等到事务提交需要提交的时候，则把日志持久化到磁盘。默认binlog_cache_size大小32K</span><br><span class="line"></span><br><span class="line">max_heap_table_size = 8M</span><br><span class="line"># 定义了用户可以创建的内存表(memory table)的大小。这个值用来计算内存表的最大行数值。这个变量支持动态改变</span><br><span class="line"></span><br><span class="line">tmp_table_size = 16M</span><br><span class="line"># MySQL的heap（堆积）表缓冲大小。所有联合在一个DML指令内完成，并且大多数联合甚至可以不用临时表即可以完成。</span><br><span class="line"># 大多数临时表是基于内存的(HEAP)表。具有大的记录长度的临时表 (所有列的长度的和)或包含BLOB列的表存储在硬盘上。</span><br><span class="line"># 如果某个内部heap（堆积）表大小超过tmp_table_size，MySQL可以根据需要自动将内存中的heap表改为基于硬盘的MyISAM表。还可以通过设置tmp_table_size选项来增加临时表的大小。也就是说，如果调高该值，MySQL同时将增加heap表的大小，可达到提高联接查询速度的效果</span><br><span class="line"></span><br><span class="line">read_buffer_size = 2M</span><br><span class="line"># MySQL读入缓冲区大小。对表进行顺序扫描的请求将分配一个读入缓冲区，MySQL会为它分配一段内存缓冲区。read_buffer_size变量控制这一缓冲区的大小。</span><br><span class="line"># 如果对表的顺序扫描请求非常频繁，并且你认为频繁扫描进行得太慢，可以通过增加该变量值以及内存缓冲区大小提高其性能</span><br><span class="line"></span><br><span class="line">read_rnd_buffer_size = 8M</span><br><span class="line"># MySQL的随机读缓冲区大小。当按任意顺序读取行时(例如，按照排序顺序)，将分配一个随机读缓存区。进行排序查询时，</span><br><span class="line"># MySQL会首先扫描一遍该缓冲，以避免磁盘搜索，提高查询速度，如果需要排序大量数据，可适当调高该值。但MySQL会为每个客户连接发放该缓冲空间，所以应尽量适当设置该值，以避免内存开销过大</span><br><span class="line"></span><br><span class="line">sort_buffer_size = 8M</span><br><span class="line"># MySQL执行排序使用的缓冲大小。如果想要增加ORDER BY的速度，首先看是否可以让MySQL使用索引而不是额外的排序阶段。</span><br><span class="line"># 如果不能，可以尝试增加sort_buffer_size变量的大小</span><br><span class="line"></span><br><span class="line">join_buffer_size = 8M</span><br><span class="line"># 联合查询操作所能使用的缓冲区大小，和sort_buffer_size一样，该参数对应的分配内存也是每连接独享</span><br><span class="line"></span><br><span class="line">thread_cache_size = 8</span><br><span class="line"># 这个值（默认8）表示可以重新利用保存在缓存中线程的数量，当断开连接时如果缓存中还有空间，那么客户端的线程将被放到缓存中，</span><br><span class="line"># 如果线程重新被请求，那么请求将从缓存中读取,如果缓存中是空的或者是新的请求，那么这个线程将被重新创建,如果有很多新的线程，</span><br><span class="line"># 增加这个值可以改善系统性能.通过比较Connections和Threads_created状态的变量，可以看到这个变量的作用。(–&gt;表示要调整的值)</span><br><span class="line"># 根据物理内存设置规则如下：</span><br><span class="line"># 1G  —&gt; 8</span><br><span class="line"># 2G  —&gt; 16</span><br><span class="line"># 3G  —&gt; 32</span><br><span class="line"># 大于3G  —&gt; 64</span><br><span class="line"></span><br><span class="line">query_cache_size = 8M</span><br><span class="line">#MySQL的查询缓冲大小（从4.0.1开始，MySQL提供了查询缓冲机制）使用查询缓冲，MySQL将SELECT语句和查询结果存放在缓冲区中，</span><br><span class="line"># 今后对于同样的SELECT语句（区分大小写），将直接从缓冲区中读取结果。根据MySQL用户手册，使用查询缓冲最多可以达到238%的效率。</span><br><span class="line"># 通过检查状态值&#x27;Qcache_%&#x27;，可以知道query_cache_size设置是否合理：如果Qcache_lowmem_prunes的值非常大，则表明经常出现缓冲不够的情况，</span><br><span class="line"># 如果Qcache_hits的值也非常大，则表明查询缓冲使用非常频繁，此时需要增加缓冲大小；如果Qcache_hits的值不大，则表明你的查询重复率很低，</span><br><span class="line"># 这种情况下使用查询缓冲反而会影响效率，那么可以考虑不用查询缓冲。此外，在SELECT语句中加入SQL_NO_CACHE可以明确表示不使用查询缓冲</span><br><span class="line"></span><br><span class="line">query_cache_limit = 2M</span><br><span class="line">#指定单个查询能够使用的缓冲区大小，默认1M</span><br><span class="line"></span><br><span class="line">key_buffer_size = 4M</span><br><span class="line">#指定用于索引的缓冲区大小，增加它可得到更好处理的索引(对所有读和多重写)，到你能负担得起那样多。如果你使它太大，</span><br><span class="line"># 系统将开始换页并且真的变慢了。对于内存在4GB左右的服务器该参数可设置为384M或512M。通过检查状态值Key_read_requests和Key_reads，</span><br><span class="line"># 可以知道key_buffer_size设置是否合理。比例key_reads/key_read_requests应该尽可能的低，</span><br><span class="line"># 至少是1:100，1:1000更好(上述状态值可以使用SHOW STATUS LIKE &#x27;key_read%&#x27;获得)。注意：该参数值设置的过大反而会是服务器整体效率降低</span><br><span class="line"></span><br><span class="line">ft_min_word_len = 4</span><br><span class="line"># 分词词汇最小长度，默认4</span><br><span class="line"></span><br><span class="line">transaction_isolation = REPEATABLE-READ</span><br><span class="line"># MySQL支持4种事务隔离级别，他们分别是：</span><br><span class="line"># READ-UNCOMMITTED, READ-COMMITTED, REPEATABLE-READ, SERIALIZABLE.</span><br><span class="line"># 如没有指定，MySQL默认采用的是REPEATABLE-READ，ORACLE默认的是READ-COMMITTED</span><br><span class="line"></span><br><span class="line">log_bin = mysql-bin</span><br><span class="line">binlog_format = mixed</span><br><span class="line">expire_logs_days = 30 #超过30天的binlog删除</span><br><span class="line"></span><br><span class="line">log_error = /data/mysql/mysql-error.log #错误日志路径</span><br><span class="line">slow_query_log = 1</span><br><span class="line">long_query_time = 1 #慢查询时间 超过1秒则为慢查询</span><br><span class="line">slow_query_log_file = /data/mysql/mysql-slow.log</span><br><span class="line"></span><br><span class="line">performance_schema = 0</span><br><span class="line">explicit_defaults_for_timestamp</span><br><span class="line"></span><br><span class="line">#lower_case_table_names = 1 #不区分大小写</span><br><span class="line"></span><br><span class="line">skip-external-locking #MySQL选项以避免外部锁定。该选项默认开启</span><br><span class="line"></span><br><span class="line">default-storage-engine = InnoDB #默认存储引擎</span><br><span class="line"></span><br><span class="line">innodb_file_per_table = 1</span><br><span class="line"># InnoDB为独立表空间模式，每个数据库的每个表都会生成一个数据空间</span><br><span class="line"># 独立表空间优点：</span><br><span class="line"># 1．每个表都有自已独立的表空间。</span><br><span class="line"># 2．每个表的数据和索引都会存在自已的表空间中。</span><br><span class="line"># 3．可以实现单表在不同的数据库中移动。</span><br><span class="line"># 4．空间可以回收（除drop table操作处，表空不能自已回收）</span><br><span class="line"># 缺点：</span><br><span class="line"># 单表增加过大，如超过100G</span><br><span class="line"># 结论：</span><br><span class="line"># 共享表空间在Insert操作上少有优势。其它都没独立表空间表现好。当启用独立表空间时，请合理调整：innodb_open_files</span><br><span class="line"></span><br><span class="line">innodb_open_files = 500</span><br><span class="line"># 限制Innodb能打开的表的数据，如果库里的表特别多的情况，请增加这个。这个值默认是300</span><br><span class="line"></span><br><span class="line">innodb_buffer_pool_size = 64M</span><br><span class="line"># InnoDB使用一个缓冲池来保存索引和原始数据, 不像MyISAM.</span><br><span class="line"># 这里你设置越大,你在存取表里面数据时所需要的磁盘I/O越少.</span><br><span class="line"># 在一个独立使用的数据库服务器上,你可以设置这个变量到服务器物理内存大小的80%</span><br><span class="line"># 不要设置过大,否则,由于物理内存的竞争可能导致操作系统的换页颠簸.</span><br><span class="line"># 注意在32位系统上你每个进程可能被限制在 2-3.5G 用户层面内存限制,</span><br><span class="line"># 所以不要设置的太高.</span><br><span class="line"></span><br><span class="line">innodb_write_io_threads = 4</span><br><span class="line">innodb_read_io_threads = 4</span><br><span class="line"># innodb使用后台线程处理数据页上的读写 I/O(输入输出)请求,根据你的 CPU 核数来更改,默认是4</span><br><span class="line"># 注:这两个参数不支持动态改变,需要把该参数加入到my.cnf里，修改完后重启MySQL服务,允许值的范围从 1-64</span><br><span class="line"></span><br><span class="line">innodb_thread_concurrency = 0</span><br><span class="line"># 默认设置为 0,表示不限制并发数，这里推荐设置为0，更好去发挥CPU多核处理能力，提高并发量</span><br><span class="line"></span><br><span class="line">innodb_purge_threads = 1</span><br><span class="line"># InnoDB中的清除操作是一类定期回收无用数据的操作。在之前的几个版本中，清除操作是主线程的一部分，这意味着运行时它可能会堵塞其它的数据库操作。</span><br><span class="line"># 从MySQL5.5.X版本开始，该操作运行于独立的线程中,并支持更多的并发数。用户可通过设置innodb_purge_threads配置参数来选择清除操作是否使用单</span><br><span class="line"># 独线程,默认情况下参数设置为0(不使用单独线程),设置为 1 时表示使用单独的清除线程。建议为1</span><br><span class="line"></span><br><span class="line">innodb_flush_log_at_trx_commit = 2</span><br><span class="line"># 0：如果innodb_flush_log_at_trx_commit的值为0,log buffer每秒就会被刷写日志文件到磁盘，提交事务的时候不做任何操作（执行是由mysql的master thread线程来执行的。</span><br><span class="line"># 主线程中每秒会将重做日志缓冲写入磁盘的重做日志文件(REDO LOG)中。不论事务是否已经提交）默认的日志文件是ib_logfile0,ib_logfile1</span><br><span class="line"># 1：当设为默认值1的时候，每次提交事务的时候，都会将log buffer刷写到日志。</span><br><span class="line"># 2：如果设为2,每次提交事务都会写日志，但并不会执行刷的操作。每秒定时会刷到日志文件。要注意的是，并不能保证100%每秒一定都会刷到磁盘，这要取决于进程的调度。</span><br><span class="line"># 每次事务提交的时候将数据写入事务日志，而这里的写入仅是调用了文件系统的写入操作，而文件系统是有 缓存的，所以这个写入并不能保证数据已经写入到物理磁盘</span><br><span class="line"># 默认值1是为了保证完整的ACID。当然，你可以将这个配置项设为1以外的值来换取更高的性能，但是在系统崩溃的时候，你将会丢失1秒的数据。</span><br><span class="line"># 设为0的话，mysqld进程崩溃的时候，就会丢失最后1秒的事务。设为2,只有在操作系统崩溃或者断电的时候才会丢失最后1秒的数据。InnoDB在做恢复的时候会忽略这个值。</span><br><span class="line"># 总结</span><br><span class="line"># 设为1当然是最安全的，但性能页是最差的（相对其他两个参数而言，但不是不能接受）。如果对数据一致性和完整性要求不高，完全可以设为2，如果只最求性能，例如高并发写的日志服务器，设为0来获得更高性能</span><br><span class="line"></span><br><span class="line">innodb_log_buffer_size = 2M</span><br><span class="line"># 此参数确定些日志文件所用的内存大小，以M为单位。缓冲区更大能提高性能，但意外的故障将会丢失数据。MySQL开发人员建议设置为1－8M之间</span><br><span class="line"></span><br><span class="line">innodb_log_file_size = 32M</span><br><span class="line"># 此参数确定数据日志文件的大小，更大的设置可以提高性能，但也会增加恢复故障数据库所需的时间</span><br><span class="line"></span><br><span class="line">innodb_log_files_in_group = 3</span><br><span class="line"># 为提高性能，MySQL可以以循环方式将日志文件写到多个文件。推荐设置为3</span><br><span class="line"></span><br><span class="line">innodb_max_dirty_pages_pct = 90</span><br><span class="line"># innodb主线程刷新缓存池中的数据，使脏数据比例小于90%</span><br><span class="line"></span><br><span class="line">innodb_lock_wait_timeout = 120 </span><br><span class="line"># InnoDB事务在被回滚之前可以等待一个锁定的超时秒数。InnoDB在它自己的锁定表中自动检测事务死锁并且回滚事务。InnoDB用LOCK TABLES语句注意到锁定设置。默认值是50秒</span><br><span class="line"></span><br><span class="line">bulk_insert_buffer_size = 8M</span><br><span class="line"># 批量插入缓存大小， 这个参数是针对MyISAM存储引擎来说的。适用于在一次性插入100-1000+条记录时， 提高效率。默认值是8M。可以针对数据量的大小，翻倍增加。</span><br><span class="line"></span><br><span class="line">myisam_sort_buffer_size = 8M</span><br><span class="line"># MyISAM设置恢复表之时使用的缓冲区的尺寸，当在REPAIR TABLE或用CREATE INDEX创建索引或ALTER TABLE过程中排序 MyISAM索引分配的缓冲区</span><br><span class="line"></span><br><span class="line">myisam_max_sort_file_size = 10G</span><br><span class="line"># 如果临时文件会变得超过索引，不要使用快速排序索引方法来创建一个索引。注释：这个参数以字节的形式给出</span><br><span class="line"></span><br><span class="line">myisam_repair_threads = 1</span><br><span class="line"># 如果该值大于1，在Repair by sorting过程中并行创建MyISAM表索引(每个索引在自己的线程内) </span><br><span class="line"></span><br><span class="line">interactive_timeout = 28800</span><br><span class="line"># 服务器关闭交互式连接前等待活动的秒数。交互式客户端定义为在mysql_real_connect()中使用CLIENT_INTERACTIVE选项的客户端。默认值：28800秒（8小时）</span><br><span class="line"></span><br><span class="line">wait_timeout = 28800</span><br><span class="line"># 服务器关闭非交互连接之前等待活动的秒数。在线程启动时，根据全局wait_timeout值或全局interactive_timeout值初始化会话wait_timeout值，</span><br><span class="line"># 取决于客户端类型(由mysql_real_connect()的连接选项CLIENT_INTERACTIVE定义)。参数默认值：28800秒（8小时）</span><br><span class="line"># MySQL服务器所支持的最大连接数是有上限的，因为每个连接的建立都会消耗内存，因此我们希望客户端在连接到MySQL Server处理完相应的操作后，</span><br><span class="line"># 应该断开连接并释放占用的内存。如果你的MySQL Server有大量的闲置连接，他们不仅会白白消耗内存，而且如果连接一直在累加而不断开，</span><br><span class="line"># 最终肯定会达到MySQL Server的连接上限数，这会报&#x27;too many connections&#x27;的错误。对于wait_timeout的值设定，应该根据系统的运行情况来判断。</span><br><span class="line"># 在系统运行一段时间后，可以通过show processlist命令查看当前系统的连接状态，如果发现有大量的sleep状态的连接进程，则说明该参数设置的过大，</span><br><span class="line"># 可以进行适当的调整小些。要同时设置interactive_timeout和wait_timeout才会生效。</span><br><span class="line"></span><br><span class="line">[mysqldump]</span><br><span class="line">quick</span><br><span class="line">max_allowed_packet = 16M #服务器发送和接受的最大包长度</span><br><span class="line"></span><br><span class="line">[myisamchk]</span><br><span class="line">key_buffer_size = 8M</span><br><span class="line">sort_buffer_size = 8M</span><br><span class="line">read_buffer = 4M</span><br><span class="line">write_buffer = 4M</span><br></pre></td></tr></table></figure>
<h4 id="数据目录"><a href="#数据目录" class="headerlink" title="数据目录"></a>数据目录</h4><p>数据库存储持久化的信息</p>
<p>数据库-表-记录</p>
]]></content>
      <categories>
        <category>database</category>
      </categories>
      <tags>
        <tag>database_Basic_knowledge</tag>
      </tags>
  </entry>
  <entry>
    <title>database_2</title>
    <url>/2021/11/15/database-2/</url>
    <content><![CDATA[<h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p>什么是SQL ?</p>
<p>structured Query Language∶结构化查询语言</p>
<p>其实就是定义了操作所有关系型数据库的规则。每一种数据库操作的方式存在不一样的地方，称为“方言”。</p>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><p>SQL通用语法</p>
<ol>
<li>sQL语句可以单行或多行书写，以分号结尾。</li>
<li>2．可使用空格和缩进来增强语句的可读性。</li>
<li>MysQL数据库的sQL语句不区分大小写，关键字建议使用大写。</li>
<li>3种注释</li>
</ol>
<ul>
<li><p>单行注释:   —注释内容 或  # 注释内容</p>
</li>
<li><p>(mysql 特有) 多行注释:/*注释*/ </p>
</li>
</ul>
<p>SQL分类</p>
<ul>
<li><p>DDL (Data Definition Language)数据定义语言用来定义数据库对象∶数据库，表，列等。关键字:create，drop，alter等</p>
</li>
<li><p>DML(Data Manipulation Language)数据操作语言，用来对数据库中表的数据进行增删改。关键字:insert，delete，update 等</p>
</li>
<li>DQL(Data Query Language)数据查询语言用来查询数据库中表的记录(数据)。关键字: select，where等</li>
<li>DCL(Data control Language)数据控制语言(了解)用来定义数据库的访问权限和安全级别，及创建用户。关键字:GRANT，REVOKE等</li>
</ul>
<p><img src="/2021/11/15/database-2/1.png" alt="img"></p>
<h3 id="操作数据库-CRUD"><a href="#操作数据库-CRUD" class="headerlink" title="操作数据库:CRUD"></a>操作数据库:CRUD</h3><ol>
<li><p>c(create):创建</p>
<ul>
<li><p>创建数据库students</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">create database students;</span><br><span class="line">create database if not exists students;</span><br><span class="line">create database db3 character set gbk; //指定字符集</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>R(Retrieve) :查询</p>
<ul>
<li><p>查询所有数据库的名称：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">show databases;</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看对应数据库的字符集（创建语句）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">show create database mysql;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>u(Update):修改4. </p>
<ul>
<li><p>修改数据库字符集</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">alter database students character set utf8;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>D(Delete):删除5．使用数据库</p>
<ul>
<li><p>删除数据库</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">drop database students;</span><br><span class="line">drop database if exists students;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<ol>
<li><p>使用数据库</p>
<ul>
<li><p>查询当前正在使用的数据库</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select database();</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用数据库students</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">use students;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<h3 id="操作表-CRUD"><a href="#操作表-CRUD" class="headerlink" title="操作表:CRUD"></a>操作表:CRUD</h3><ol>
<li><p>c(create):创建</p>
<ul>
<li><p>创建表</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">create table 表名(</span><br><span class="line">	列名1 数据类型1,</span><br><span class="line">	列名2 数据类型2,</span><br><span class="line">	列名3 数据类型3</span><br><span class="line">);//最后一列不用加&quot;,&quot;</span><br><span class="line">数据类型：</span><br><span class="line">    1. int : 整数类型</span><br><span class="line">    2. double(5,2) : 小数类型，长度为5，小数点后最多保留2位</span><br><span class="line">    3. date : 日期类型，年月日，yyyy:MM:dd</span><br><span class="line">    4. datetime : 日期类型，年月日时分秒，yyyy-MM-dd HH:mm:ss</span><br><span class="line">    //如果将来不给这个字段赋值，或赋值为null，则默认使用当前的系统时间，来自动赋值</span><br><span class="line">    5. timestamp : 时间戳类型，年月日时分秒，yyyy-MM-dd HH:mm:ss </span><br><span class="line">    6. varchar(255) : 字符串类型，字符长度255，0-65535</span><br><span class="line">    7. text : 文本类型，存储大型字符串 长度：0-65535</span><br><span class="line">    8. binary() : 字节类型</span><br><span class="line">    9. tinyint(1) : 1个字节的int类型，用于表示bool类型</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>复制表</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">create table 表名 like 待复制的表名;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<ol>
<li><p>R(Retrieve) :查询</p>
<ul>
<li><p>查询数据库中所有表名称</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">show tables;</span><br></pre></td></tr></table></figure>
</li>
<li><p>查询表结构</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">desc 表名;</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看表字符集（显示创建表的SQL语句）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">show create table 表名;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<ol>
<li><p>u(Update):修改</p>
<ul>
<li><p>修改表名</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">alter table 表名 rename to 新表名;</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改字符集</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">alter table 表名 character set utf8;</span><br></pre></td></tr></table></figure>
</li>
<li><p>添加一列</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">alter table 表名 add 列名 数据类型;</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改一列</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">alter table 表名 change 列名 新列名 数据类型; //全改</span><br><span class="line">alter table 表名 modify 列名 新数据类型;  //只改类型</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除列</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">alter table 表名 drop 列名;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<ol>
<li><p>D(Delete):删除</p>
<ul>
<li><p>删除表</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">drop table 表名;</span><br><span class="line">drop table if exists 表名;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<h3 id="DML-增删改表中数据"><a href="#DML-增删改表中数据" class="headerlink" title="DML:增删改表中数据"></a>DML:增删改表中数据</h3><ol>
<li><p>添加语法</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">语法：</span><br><span class="line">insert into 表名(列名1,列名2,...列名n) values(值1,值2,...值n);</span><br><span class="line">注意：</span><br><span class="line">	1．列名和值要一一对应。</span><br><span class="line">	2．如果表名后，不定义列名，则默认给所有列添加值</span><br><span class="line">	3. 除了数字类型外，其他的数据类型要使用引号引起来 eg:date类型添加：1999-9-6</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除数据</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">语法：</span><br><span class="line">delect from 表名 [where 条件]; // 不指明条件则全部删除</span><br><span class="line">truncate table 表名;  //删除表，再创建一个结构一样的空表</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改数据</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">语法：</span><br><span class="line">update 表名 set 列名1=值1,列名2=值2,... [Where 条件];//不加条件会将所有数据全部修改</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="DQL-查询表中记录"><a href="#DQL-查询表中记录" class="headerlink" title="DQL : 查询表中记录"></a>DQL : 查询表中记录</h3><h5 id="查询基础"><a href="#查询基础" class="headerlink" title="查询基础"></a>查询基础</h5><ol>
<li><p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select </span><br><span class="line">	字段列表 </span><br><span class="line">from </span><br><span class="line">	表名列表</span><br><span class="line">where</span><br><span class="line">	条件列表</span><br><span class="line">group by</span><br><span class="line">	分组字段</span><br><span class="line">having</span><br><span class="line">	分组之后的条件</span><br><span class="line">order by</span><br><span class="line">	排序</span><br><span class="line">limit</span><br><span class="line">	分页限定</span><br></pre></td></tr></table></figure>
</li>
<li><p>查询指定列：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select 字段1,字段2... from 表名;</span><br></pre></td></tr></table></figure>
</li>
<li><p>去除重复的结果集</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select distinct 字段1 from 表名; //使用distinct字段修饰 字段</span><br></pre></td></tr></table></figure>
</li>
<li><p>列之间计算值，并输出（null值处理）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select 字段1（数字类型）+字段2（数字类型）from 表名;</span><br><span class="line">--如果有null参与的计算,结果都为null</span><br><span class="line">优化： </span><br><span class="line">使用ifnull字段修饰列名，将列名与默认值用括号包裹，</span><br><span class="line">eg:ifnull(socrd,0)</span><br><span class="line">如果为null 则使用默认值替代。</span><br><span class="line">	select ifnull(字段1,0)（数字类型）+ifnull(字段2,0)（数字类型）from 表名;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>给列起别名</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select 字段1 as 别名,字段2 as 别名 from 表名; // 列名 as 别名</span><br><span class="line">select 字段1 别名,字段2 别名 from 表名;   //列名 空格 别名</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h5><ol>
<li><p>where字句后跟条件</p>
</li>
<li><p>运算符</p>
<ul>
<li><p>> 、\&lt; 、\&lt;= 、>=、=、\&lt;>//不等于</p>
</li>
<li><p>between…and</p>
</li>
<li><p>in(集合) eg: in(1,8,9,5),in(“asd”,”神”)</p>
</li>
<li><p>like：模糊查询 “_sad%”</p>
<ul>
<li><p>“_”代表任意的一个字符,</p>
</li>
<li><p>“%”代表任意字符</p>
</li>
<li>“%神%” 含有’’神’’的字符串</li>
</ul>
</li>
<li><p>is null       //判断null 只能用语句 不能用=</p>
</li>
<li><p>is not null</p>
</li>
<li><p>or 或 ||</p>
</li>
<li><p>and 或 &amp;&amp;</p>
</li>
<li><p>not 或 ！</p>
</li>
</ul>
</li>
</ol>
<h5 id="排序查询"><a href="#排序查询" class="headerlink" title="排序查询"></a>排序查询</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">语法：</span><br><span class="line">	select * from 表名 order by 排序字段1 排序方式1,排序字段2 排序方式2...;</span><br><span class="line">	字段在前的先排序，如果相同则再按后面的字段进行排序。</span><br><span class="line">排序方式字段：</span><br><span class="line">	ASC : 升序 默认</span><br><span class="line">	DESC : 降序</span><br></pre></td></tr></table></figure>
<h5 id="聚合函数：将一列数据作为一个整体进行纵向计算"><a href="#聚合函数：将一列数据作为一个整体进行纵向计算" class="headerlink" title="聚合函数：将一列数据作为一个整体进行纵向计算"></a>聚合函数：将一列数据作为一个整体进行纵向计算</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">注意：所有聚合函数计算会排除null,可以进行解决:在计数列名使用ifnull(列名,0)</span><br><span class="line">1. count(列名) : 计算个数</span><br><span class="line">2. max(列名) : 计算最大值</span><br><span class="line">3. min(列名) : 计算最小值</span><br><span class="line">4. avg(列名) ： 计算平均值</span><br><span class="line">5. sum(列名) ： 计算和</span><br></pre></td></tr></table></figure>
<h5 id="分组查询"><a href="#分组查询" class="headerlink" title="分组查询"></a>分组查询</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 语法：group by 分组列名;</span><br><span class="line">2. 注意：</span><br><span class="line">	1. 分组后的查询字段：分组字段，聚合函数（其他的无意义）</span><br><span class="line">	2. 限定分组的数据：</span><br><span class="line">		* 分组前使用where进行限定，不满足结果不参与分组</span><br><span class="line">		select 字段 from 表名 where 条件 group by;</span><br><span class="line">		* 分组后使用having进行限定，不满足条件不会被查询</span><br><span class="line">		select 字段 from 表名 where 条件 group by having 条件;</span><br><span class="line"></span><br><span class="line">where 和 having 的区别</span><br><span class="line">答：1. where在分组之前进行限定，如果不满足条件，则不参与分组。having在分组之后进行限定，如果不满足结果，则不会被查询出来</span><br><span class="line">！！！2. where后不可以跟聚合函数，having向以进行聚合函数的判断。	</span><br></pre></td></tr></table></figure>
<h5 id="分页查询"><a href="#分页查询" class="headerlink" title="分页查询"></a>分页查询</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">语法：limit 开始的索引，每页查询的条数;</span><br><span class="line">eg:</span><br><span class="line"> select * from course limit 3,3;</span><br><span class="line">注意：limit语法是mysql 的方言</span><br><span class="line">	 其他数据库有不同的实现</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>database</category>
      </categories>
      <tags>
        <tag>sql</tag>
      </tags>
  </entry>
  <entry>
    <title>database-3</title>
    <url>/2021/11/16/database-3/</url>
    <content><![CDATA[<h3 id="约束"><a href="#约束" class="headerlink" title="约束"></a>约束</h3><h5 id="概念︰"><a href="#概念︰" class="headerlink" title="概念︰"></a>概念︰</h5><p>对表中的数据进行限定，保证数据的正确性、有效性和完整性。</p>
<h5 id="分类："><a href="#分类：" class="headerlink" title="分类："></a>分类：</h5><ol>
<li><p>主键约束：primary key</p>
<p>删除：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">alter table 表名 drop primary key;</span><br></pre></td></tr></table></figure>
<p>联合主键：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">create table 表名(</span><br><span class="line">	uid varchar(32),</span><br><span class="line">	cid varchar(32),</span><br><span class="line">	primary key (uid,cid), //uid和cid共同构成主键约束，即 uid和cid不能同时相同</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>非空约束：not null</p>
<p>删除：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">alter table 表名 modify 列名;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>唯一约束：unique  //可以有多个约束</p>
<p>删除：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">alter table 表名 drop index 列名;</span><br></pre></td></tr></table></figure>
</li>
<li><p>外键约束：foreign key</p>
<p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">建表前添加</span><br><span class="line">create table 表名(</span><br><span class="line">	...,</span><br><span class="line">	外键列,</span><br><span class="line">	constraint 外键名 foreign key (外键名称) references 外表表名(主键列名)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">建表后添加</span><br><span class="line">alert table 表名 add constraint 外键名称 foreign key(外键列名) references 外表表名(主键字段名)</span><br><span class="line"></span><br><span class="line">删除外键</span><br><span class="line">alter table 表名 drop foreign key 外键名;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>自动增长：auto_increment</p>
<p>删除：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">alter table 表名 modify 列名;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="添加约束"><a href="#添加约束" class="headerlink" title="添加约束"></a>添加约束</h3><ol>
<li><p>创建表时添加约束</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">create table user(</span><br><span class="line">    -&gt; id varchar(32) primary key,</span><br><span class="line">    -&gt; name varchar(32) not null);</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建表后修改约束</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">alter table 表名 modify 列名 约束;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="级联操作"><a href="#级联操作" class="headerlink" title="级联操作"></a>级联操作</h3><ul>
<li><p>级联操作（外键关联列的修改问题）</p>
<ul>
<li><p>on update cascade //级联更新</p>
</li>
<li><p>on delete cascade  //级联删除</p>
</li>
</ul>
</li>
</ul>
<ol>
<li>建表前添加<br>create table 表名(<br> …,<br> 外键列,<br> constraint 外键名 foreign key (外键名称) references 外表表名(主键列名) on update cascade on delete cascade<br>)</li>
<li>建表后添加<br>alert table 表名 add constraint 外键名称 foreign key(外键列名) references 外表表名(主键字段名) on update cascade on delete cascade;</li>
</ol>
]]></content>
      <categories>
        <category>database</category>
      </categories>
      <tags>
        <tag>数据库_表的约束</tag>
      </tags>
  </entry>
  <entry>
    <title>database-4</title>
    <url>/2021/11/17/database-4/</url>
    <content><![CDATA[<h3 id="一、多表操作"><a href="#一、多表操作" class="headerlink" title="一、多表操作"></a>一、多表操作</h3><h5 id="关系"><a href="#关系" class="headerlink" title="关系"></a>关系</h5><ol>
<li>一对一（eg:人和身份证）</li>
<li>一对多（eg:班级和学生）</li>
<li>多对多（eg:学生和课程）</li>
</ol>
<h5 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h5><ol>
<li><p>一对一</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1.1. 在任意一方添加外键，指向另一方的主键，并且将外键设置为唯一：unique</span><br><span class="line">1.2. 合成一张表</span><br></pre></td></tr></table></figure>
</li>
<li><p>一对多</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">在多的一方建立外键，指向一的一方的主键</span><br></pre></td></tr></table></figure>
</li>
<li><p>多对多</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">建立第三张中间表，记录多对多表的主键，表示多对多关系</span><br><span class="line">eg:学生和选课</span><br></pre></td></tr></table></figure>
<p>| 选课id | 学生id | 课程id |<br>| ——— | ——— | ——— |<br>| 1      | 2      | 1      |<br>| 2      | 2      | 2      |</p>
</li>
</ol>
<h3 id="二、三大范式"><a href="#二、三大范式" class="headerlink" title="二、三大范式"></a>二、三大范式</h3><h5 id="1-数据库范式分类"><a href="#1-数据库范式分类" class="headerlink" title="1. 数据库范式分类"></a>1. 数据库范式分类</h5><p>​        设计关系<a href="https://baike.baidu.com/item/数据库/103728">数据库</a>时，遵从不同的规范<a href="https://baike.baidu.com/item/要求/3598753">要求</a>，设计出合理的<a href="https://baike.baidu.com/item/关系型数据库/8999831">关系型数据库</a>，这些不同的规范要求被称为不同的范式，各种范式呈递次规范，越高的范式数据库冗余越小。</p>
<p><a href="https://baike.baidu.com/item/关系数据库/1237340">关系数据库</a>有六种范式：第一范式（1NF）、第二范式（2NF）、<a href="https://baike.baidu.com/item/第三范式/3193798">第三范式</a>（3NF）、巴斯-科德范式（BCNF）、<a href="https://baike.baidu.com/item/第四范式/3193985">第四范式</a>(4NF）和<a href="https://baike.baidu.com/item/第五范式/5025271">第五范式</a>（5NF，又称完美范式）。</p>
<h5 id="2-数据库范式"><a href="#2-数据库范式" class="headerlink" title="2. 数据库范式"></a>2. 数据库范式</h5><ul>
<li><p>第一范式（1NF）</p>
<p>要求：数据库每一列都是不可分割的原子数据项，而不能是集合，数组，记录等非原子数据项。即实体中的某个属性有多个值时，必须拆分为不同的属性。简而言之，第一范式就是无重复的域。</p>
<p><img src="/2021/11/17/database-4/1.png" alt></p>
<p><img src="/2021/11/17/database-4/2.png" alt></p>
</li>
<li><p>第二范式（2NF）（消除部分依赖）</p>
<p>要求：在1NF的基础上，非码属性必须完全依赖于候选码（在1NF基础上消除非主属性对主码的部分函数依赖），第二范式（2NF）要求数据库表中的每个实例或记录必须可以被唯一地区分。选取一个能区分每个实体的属性或属性组，作为实体的唯一标识。</p>
<p><img src="/2021/11/17/database-4/3.png" alt></p>
<p>概念：</p>
<p>a—&gt;b:     a确定b</p>
<ol>
<li>依赖：a—&gt;b， 如果通过A的主属性（主属性组）的值，可以唯一确定B的值。则称B依赖于A。</li>
<li>完全依赖：a—&gt;b，如果A是一个属性组，则B属性值的确定需要依赖A属性组中的所有属性值。则称B完全依赖于A。</li>
<li>部分函数依赖：如果A是一个属性组，则B属性值的确定只需要依赖A属性组中的部分值。则称B部分依赖于A。</li>
<li>传递依赖：a—-&gt;b,b—-&gt;c。如果A属性（属性组）可以唯一确定B属性，B属性可以唯一确定C，则称C传递依赖A。</li>
<li>码：如果在一张表中，一个属性或者属性组，被其他所有属性完全依赖，则称这个属性（属性码）为该表的码。<ul>
<li>主属性：码属性组中的所有属性</li>
<li>非主属性：除码以外的属性</li>
</ul>
</li>
</ol>
</li>
<li><p>第三范式（3NF）（消除传递依赖）</p>
<p>在2NF基础上，任何非主属性不依赖于其它非主属性（在2NF基础上消除传递依赖）</p>
<p><img src="/2021/11/17/database-4/4.png" alt></p>
</li>
</ul>
<h3 id="三、数据库备份、还原"><a href="#三、数据库备份、还原" class="headerlink" title="三、数据库备份、还原"></a>三、数据库备份、还原</h3><h5 id="备份数据库"><a href="#备份数据库" class="headerlink" title="备份数据库"></a>备份数据库</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cmd命令</span><br><span class="line">语法：</span><br><span class="line">	备份：mysqldump -uroot -p密码 数据库名称 &gt; 保存路径</span><br><span class="line">	还原：</span><br><span class="line">		1. 登录数据库</span><br><span class="line">		2. 创建数据库</span><br><span class="line">		3. 使用数据库</span><br><span class="line">		4. 执行文件：source 文件路径 //eg: source d:a.sql</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>database</category>
      </categories>
      <tags>
        <tag>多表关系</tag>
        <tag>范式</tag>
        <tag>备份还原</tag>
      </tags>
  </entry>
  <entry>
    <title>database-5</title>
    <url>/2021/11/17/database-5/</url>
    <content><![CDATA[<h3 id="数据库生成"><a href="#数据库生成" class="headerlink" title="数据库生成"></a>数据库生成</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"> create table dept(</span><br><span class="line">     did int primary key auto_increment,</span><br><span class="line">     dname varchar(10)</span><br><span class="line"> );</span><br><span class="line"> </span><br><span class="line"> create table emp(</span><br><span class="line">     eid int primary key auto_increment,</span><br><span class="line">     name varchar(10),</span><br><span class="line">     salary int,</span><br><span class="line">     dno int,</span><br><span class="line">     foreign key emp(dno)  references dept(did)</span><br><span class="line">);</span><br><span class="line"> </span><br><span class="line">insert into dept values(null,&#x27;市场部&#x27;);</span><br><span class="line">insert into dept values(null,&#x27;研发部&#x27;);</span><br><span class="line">insert into dept values(null,&#x27;财务部&#x27;);</span><br><span class="line">insert into dept values(null,&#x27;后勤部&#x27;);</span><br><span class="line">insert into emp values(null,&#x27;邓西&#x27;,15000,1);</span><br><span class="line">insert into emp values(null,&#x27;李贤敬&#x27;,8000,2);</span><br><span class="line">insert into emp values(null,&#x27;杨明明&#x27;,7000,2);</span><br><span class="line">insert into emp values(null,&#x27;尹正杰&#x27;,100000000,3);</span><br><span class="line">insert into emp values(null,&#x27;陶涛&#x27;,10000,1);</span><br><span class="line">insert into emp values(null,&#x27;方合意&#x27;,9800,1);</span><br><span class="line">insert into emp values (null,&#x27;邓聪聪&#x27;,13000,null);</span><br><span class="line">insert into emp values (null,&#x27;李亚超&#x27;,15000,null);</span><br></pre></td></tr></table></figure>
<h3 id="一、多表查询"><a href="#一、多表查询" class="headerlink" title="一、多表查询"></a>一、多表查询</h3><h5 id="1-直接查询两表"><a href="#1-直接查询两表" class="headerlink" title="1.直接查询两表"></a>1.直接查询两表</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select * from 表1,表2;   //表1和表2的笛卡尔集</span><br></pre></td></tr></table></figure>
<p><img src="/2021/11/17/database-5/2.png" alt></p>
<p><img src="/2021/11/17/database-5/3.png" alt></p>
<p><img src="/2021/11/17/database-5/1.png" alt></p>
<ul>
<li>会产生无用数据，</li>
</ul>
<h5 id="2-多表查询分类"><a href="#2-多表查询分类" class="headerlink" title="2.多表查询分类"></a>2.多表查询分类</h5><ul>
<li><p>内连接查询：</p>
<ul>
<li><p>隐式内连接：使用where条件消除无用字段。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//查询所有员工和对应部门的信息</span><br><span class="line">select * from dept,emp where dept.did = emp.dno;</span><br><span class="line">//查询所有员工名称、工资。部门表名称</span><br><span class="line">select emp.name,emp.salary,dept.dname from dept,emp where dept.did = emp.dno;</span><br><span class="line"></span><br><span class="line">!!! 可以使用别名进行查询，简化代码</span><br><span class="line">eg: //便于观察，进行了换行</span><br><span class="line">select </span><br><span class="line">	t1.name,</span><br><span class="line">	t1.salary,</span><br><span class="line">	t2.dname</span><br><span class="line">from </span><br><span class="line">	emp t1,   --起别名</span><br><span class="line">	dept t2</span><br><span class="line">where</span><br><span class="line">	t1.dno=t2.did;</span><br></pre></td></tr></table></figure>
<p><img src="/2021/11/17/database-5/4.png" alt></p>
<p><img src="/2021/11/17/database-5/5.png" alt></p>
</li>
<li><p>显式内连结：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">语法：</span><br><span class="line">	select 字段列表 from 表名1 [inner] join 表名2 on 条件</span><br><span class="line">eg:</span><br><span class="line">	//查询所有员工和对应部门的信息</span><br><span class="line">	select * from emp inner join dept on emp.dno = dept.did;</span><br><span class="line">	//查询所有员工名称、工资。部门表名称</span><br><span class="line">	select </span><br><span class="line">		t1.name,t1.salary,t2.dname</span><br><span class="line">	from </span><br><span class="line">		emp t1 </span><br><span class="line">	join </span><br><span class="line">		dept t2 </span><br><span class="line">	on</span><br><span class="line">		t1.dno = t2.did</span><br></pre></td></tr></table></figure>
</li>
<li><p>内连接查询：</p>
<ul>
<li>从哪些表中查询数据</li>
<li>条件是什么</li>
<li>查询哪些字段</li>
</ul>
</li>
</ul>
</li>
<li><p>外连接查询：</p>
<ul>
<li><p>左外链接：(查询的是左表所有数据，以及其交集部分，包含左表中外键为空的部分)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">语法：</span><br><span class="line">	select 字段列表 from 表1 left [outer] join 表2 on 条件;</span><br></pre></td></tr></table></figure>
</li>
<li><p>右外连接：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">语法：</span><br><span class="line">	select 字段列表 from 表1 right [outer] join 表2 on 条件;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>子查询：</p>
<ul>
<li><p>概念：查询中嵌套查询，称为查询的子查询。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-- 使用括号包裹子查询内容</span><br><span class="line">select </span><br><span class="line">		t1.name,</span><br><span class="line">		t1.salary,</span><br><span class="line">		t2.dname</span><br><span class="line">from </span><br><span class="line">		emp t1,</span><br><span class="line">		dept t2</span><br><span class="line">where </span><br><span class="line">        t1.dno=t2.did</span><br><span class="line">        and t1.salary=</span><br><span class="line">        (select max(salary) from emp);</span><br></pre></td></tr></table></figure>
</li>
<li><p>子查询分类</p>
<ul>
<li><p>子查询结果为单行单列</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">可以作为条件，使用运算符去判断。 &gt; &gt;= &lt; &lt;= =</span><br><span class="line">eg:</span><br><span class="line">-- 使用括号包裹子查询内容</span><br><span class="line">select </span><br><span class="line">		t1.name,</span><br><span class="line">		t1.salary,</span><br><span class="line">		t2.dname</span><br><span class="line">from </span><br><span class="line">		emp t1,</span><br><span class="line">		dept t2</span><br><span class="line">where </span><br><span class="line">        t1.dno=t2.did</span><br><span class="line">        and t1.salary=</span><br><span class="line">        (select max(salary) from emp);</span><br></pre></td></tr></table></figure>
</li>
<li><p>子查询结果为多行单列</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"> 可以作为条件，使用运算符 in 来判断</span><br><span class="line"> select </span><br><span class="line">		t1.name,t1.salary,t2.dname</span><br><span class="line">from</span><br><span class="line">		emp t1 join dept t2</span><br><span class="line">on </span><br><span class="line">		t1.dno=t2.did </span><br><span class="line">and</span><br><span class="line">		t1.dno in (select did from dept where dname = &quot;市场部&quot; or dname = &quot;财务部&quot;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code>* 子查询结果为多行多

  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">子查询结果为多行多,可以视为一张临时的表，括号括起来，取别名后，与其他的表进行连接查询。</span><br><span class="line">eg:</span><br><span class="line">-- 查询入职时间为2020/2/1号以后的员工姓名，薪水，入职时间，部门名称</span><br><span class="line">-- 注意：时间可以直接和字符串进行比较</span><br><span class="line">select </span><br><span class="line">	t2.name,t2.salary,t2.entry_time,t1.dname</span><br><span class="line">from </span><br><span class="line">	dept t1,(select * from emp where entry_time&gt;&quot;2020-2-1&quot;) t2</span><br><span class="line">where</span><br><span class="line">	t1.did=t2.dno;</span><br></pre></td></tr></table></figure>

  ![](6.png)
</code></pre><h3 id="二、练习"><a href="#二、练习" class="headerlink" title="二、练习"></a>二、练习</h3><ol>
<li><p>查询，部门编号，部门名称，部门人数</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select </span><br><span class="line">	t1.did,t1.dname,count(t2.dno) sum</span><br><span class="line">from </span><br><span class="line">	dept t1,emp t2</span><br><span class="line">where</span><br><span class="line">	t1.did = t2.dno</span><br><span class="line">group by </span><br><span class="line">	t2.dno;</span><br></pre></td></tr></table></figure>
</li>
</ol>
]]></content>
      <categories>
        <category>database</category>
      </categories>
      <tags>
        <tag>多表查询</tag>
        <tag>事务</tag>
        <tag>用户权限管理</tag>
      </tags>
  </entry>
  <entry>
    <title>database-6</title>
    <url>/2021/11/18/database-6/</url>
    <content><![CDATA[<h3 id="一、事务"><a href="#一、事务" class="headerlink" title="一、事务"></a>一、事务</h3><h5 id="1-概念"><a href="#1-概念" class="headerlink" title="1. 概念"></a>1. 概念</h5><p>如果一个包含多个步骤的业务操作，被事务管理，那么这些操作要么同时成功，要么同时失败。</p>
<h5 id="2-操作"><a href="#2-操作" class="headerlink" title="2. 操作"></a>2. 操作</h5><ul>
<li>开启事务：start transaction;</li>
<li>回滚：rollback;</li>
<li>提交：commit;</li>
</ul>
<h5 id="MySQL数据库中事务默认自动提交"><a href="#MySQL数据库中事务默认自动提交" class="headerlink" title="MySQL数据库中事务默认自动提交"></a>MySQL数据库中事务默认自动提交</h5><p>事务提交的两种方式:</p>
<ul>
<li><p>自动提交∶</p>
<p>mysql就是自动提交的</p>
<p>一条DML(增删改)语句会自动提交一次事务。</p>
</li>
<li><p>手动提交∶</p>
<p>Oracle数据库是手动提交的</p>
<p>需要先开启事务，再提交</p>
</li>
<li><p>修改事务的默认提交方式︰</p>
<ul>
<li><p>查看事务的默认提交方式</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select @@autocommit; -- 1 代表自动提交 0 代表手动提交</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改默认提交方式</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">set @@autocommit = 0;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h5 id="事务的四大特征"><a href="#事务的四大特征" class="headerlink" title="事务的四大特征"></a>事务的四大特征</h5><ol>
<li>原子性：是不分割的最操作小单元，要么同时成功，要么同时失败</li>
<li>持久性：对于任意已提交事务，系统必须保证该事务对数据库的改变不被丢失，即使数据库出现故障。</li>
<li>隔离性：事务的执行不受其他事务的干扰，事务执行的中间结果对其他事务必须是透明的。</li>
<li>一致性：：几个并行执行的事务，其执行结果必须与按某一顺序 串行执行的结果相一致。</li>
</ol>
<h5 id="事务的隔离级别"><a href="#事务的隔离级别" class="headerlink" title="事务的隔离级别"></a>事务的隔离级别</h5><ul>
<li><p>概念:</p>
<p>多个事务之间隔离的，相互独立的。但是如果多个事务操作同一批数据，则会引发一些问题，设置不同的隔离级别就可以解决这些问题。</p>
</li>
<li><p>存在的问题</p>
<ol>
<li>脏读：读取到一个事务中没有提交的数据</li>
<li>不可重复读（虚读）：在同一个事务中，两次读取到数据的结果不一样</li>
<li>幻读：一个事物操作（DML）数据表中所有的记录，另一个事务添加了一条数据，则第一个事务查询不到自己的修改。一个事务在前后两次查询同一个范围的时候、后一次查询看到了前一次查询未看到的行. <ul>
<li>幻读问题产生的本质原因是什么?<br>如果事务中进行操作的都是快照读，卵么是不会产生幻读问题的，但是当快照读和当前读一起使用的时候才会产生幻读问题</li>
</ul>
</li>
</ol>
</li>
</ul>
<p>隔离级别</p>
<ol>
<li><p>read uncommitted : 读未提交</p>
<p>问题：脏读，不可重复读，幻读</p>
</li>
<li><p>read committed : 读已提交（Oracle默认）</p>
<p>问题：不可重复读，幻读</p>
</li>
<li><p>repeatable read : 可重复读（MySQL默认）</p>
<p>问题：幻读</p>
</li>
<li><p>serializable : 串行化</p>
<p>没有问题：安全性最高，但是效率最低</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">在RC隔离级别里，每次进行快照读操作的时候都会重新生成新的readview，所以每次可以查询到最新的结果记录</span><br><span class="line">在RR隔离级别里，只有当前事务在第一次进行快照读的时候才会生成readview，之后进行的快照读操作都会沿用之前的readview</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="数据库设置隔离级别"><a href="#数据库设置隔离级别" class="headerlink" title="数据库设置隔离级别"></a>数据库设置隔离级别</h5><ol>
<li><p>数据库查询隔离级别</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select @@tx_isolation;</span><br></pre></td></tr></table></figure>
</li>
<li><p>数据库设置隔离级别</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select global transaction isolation level 级别字符串</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="DCL-管理用户，授权"><a href="#DCL-管理用户，授权" class="headerlink" title="DCL:管理用户，授权"></a>DCL:管理用户，授权</h3><h5 id="1-管理用户"><a href="#1-管理用户" class="headerlink" title="1. 管理用户"></a>1. 管理用户</h5><ul>
<li><p>查询用户</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 切换到mysql数据库</span><br><span class="line">use mysql;</span><br><span class="line">2. 查询user表</span><br><span class="line">select * from user;</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建用户</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">create user &#x27;用户名&#x27;@&#x27;主机名&#x27; identified by &#x27;密码&#x27;;</span><br><span class="line">create user &#x27;zhangsan&#x27;@&#x27;%&#x27; identified by &#x27;密码&#x27;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除用户</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">drop user &#x27;用户名&#x27;@&#x27;主机名&#x27;;</span><br><span class="line">drop user &#x27;zhangsan&#x27;@&#x27;%&#x27;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改用户密码</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">update user set password = password(&#x27;新密码&#x27;) where user = &#x27;用户名&#x27;;</span><br><span class="line">set password for &#x27;用户名&#x27;@&#x27;主机名&#x27; = password(&#x27;新密码&#x27;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>忘记root密码如何修改密码</p>
<p><img src="/2021/11/18/database-6/1.png" alt></p>
</li>
</ul>
<h5 id="2-授权"><a href="#2-授权" class="headerlink" title="2. 授权"></a>2. 授权</h5><ul>
<li><p>查询权限</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">show grants for &#x27;用户名&#x27;@&#x27;主机名&#x27;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>设置权限</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">grant 授权列表 on 数据库.表名 to &#x27;用户名&#x27;@&#x27;主机名&#x27;;</span><br><span class="line">eg:</span><br><span class="line">grant select,delect,update on 数据库.表名 to &#x27;zhangsan&#x27;@&#x27;%&#x27;;</span><br><span class="line">-- 授予所有权限</span><br><span class="line">grant all on *.* to &#x27;用户名&#x27;@&#x27;主机名&#x27;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>撤销权限</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">revoke 授权列表 on 数据库.表名 from &#x27;用户名&#x27;@&#x27;主机名&#x27;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
]]></content>
      <categories>
        <category>database</category>
      </categories>
      <tags>
        <tag>数据库事务</tag>
        <tag>数据库用户和权限管理</tag>
      </tags>
  </entry>
  <entry>
    <title>deepLeaning-3</title>
    <url>/2021/10/19/deepLeaning-3/</url>
    <content><![CDATA[<h1 id="改善深层神经网络"><a href="#改善深层神经网络" class="headerlink" title="改善深层神经网络"></a>改善深层神经网络</h1><h2 id="一、归一化"><a href="#一、归一化" class="headerlink" title="一、归一化"></a>一、归一化</h2><h3 id="1-概念"><a href="#1-概念" class="headerlink" title="1 概念"></a>1 概念</h3><p>  归一化：</p>
<p>１）把数据变成(０，１)或者（1,1）之间的小数。主要是为了数据处理方便提出来的，把数据映射到0～1范围之内处理，更加便捷快速。</p>
<p>２）把有量纲表达式变成无量纲表达式，便于不同单位或量级的指标能够进行比较和加权。归一化是一种简化计算的方式，即将有量纲的表达式，经过变换，化为无量纲的表达式，成为纯量。</p>
<h3 id="1-1-线性函数归一化-Min-Max-scaling"><a href="#1-1-线性函数归一化-Min-Max-scaling" class="headerlink" title="1.1 线性函数归一化(Min-Max scaling)"></a>1.1 线性函数归一化(Min-Max scaling)</h3><p>线性函数将原始数据线性化的方法转换到[0 1]的范围，归一化公式如下：</p>
<script type="math/tex; mode=display">x = \frac {x-x_{min}}{x_{max}-x_{min}}</script><p>该方法实现对原始数据的等比例缩放，其中Xnorm为归一化后的数据，X为原始数据，Xmax、Xmin分别为原始数据集的最大值和最小值。</p>
<h3 id="2-1-0均值标准化-Z-score-standardization-，"><a href="#2-1-0均值标准化-Z-score-standardization-，" class="headerlink" title="2.1 0均值标准化(Z-score standardization)，"></a>2.1 0均值标准化(Z-score standardization)，</h3><p>0均值归一化方法将原始数据集归一化为均值为0、方差1的数据集，归一化公式如下：</p>
<script type="math/tex; mode=display">x=\frac {x-\mu}{\sigma}</script><p>其中，μ、σ分别为原始数据集的均值和方差。该种归一化方式要求原始数据的分布可以近似为高斯分布，否则归一化的效果会变得很糟糕。</p>
<p>以上为两种比较普通但是常用的归一化技术，那这两种归一化的应用场景是怎么样的呢？什么时候第一种方法比较好、什么时候第二种方法比较好呢？下面做一个简要的分析概括：</p>
<p>1、在分类、聚类算法中，需要使用距离来度量相似性的时候、或者使用PCA技术进行降维的时候，第二种方法(Z-score standardization)表现更好。</p>
<p>2、在不涉及距离度量、协方差计算、数据不符合正太分布的时候，可以使用第一种方法或其他归一化方法。比如图像处理中，将RGB图像转换为灰度图像后将其值限定在[0 255]的范围。</p>
<h2 id="二、神经网络的权重初始化"><a href="#二、神经网络的权重初始化" class="headerlink" title="二、神经网络的权重初始化"></a>二、神经网络的权重初始化</h2><h4 id="1-权重初始化的重要性"><a href="#1-权重初始化的重要性" class="headerlink" title="1.权重初始化的重要性"></a>1.权重初始化的重要性</h4><ul>
<li>神经网络的训练过程中的参数学习时基于梯度下降算法进行优化的。梯度下降法需要在开始训练时给每个参数赋予一个初始值。这个初始值的选取十分重要。在神经网络的训练中如果将权重全部初始化为0，则第一遍前向传播过程中，所有隐藏层神经元的激活函数值都相同，导致深层神经元可有可无，这一现象称为<strong>对称权重</strong>现象。</li>
<li>为了打破这个平衡，比较好的方法是对每层的权重都进行随机初始化，这样使得不同层的神经元之间有很好的区分性。但是，<strong>随机初始化参数的一个问题是如何选择随机初始化的区间</strong>。如果权重初始化太小，会导致神经元的输入过小，随着层数的不断增加，会出现信号消失的问题；也会导致sigmoid激活函数丢失非线性的能力，因为在0附件sigmoid函数近似是线性的。如果参数初始化太大，会导致输入状态太大。对sigmoid激活函数来说，激活函数的值会变得饱和，从而出现梯度消失的问题。</li>
</ul>
<h4 id="2-常用的参数初始化方法"><a href="#2-常用的参数初始化方法" class="headerlink" title="2.常用的参数初始化方法"></a>2.常用的参数初始化方法</h4><ul>
<li>高斯分布初始化：参数从一个固定均值(比如0)和固定方差(比如0.01)的高斯分布进行随机初始化。</li>
<li>均匀分布初始化：在一个给定的区间[-r,r]内采用均匀分布来初始化参数。超参数r的设置可以按照神经元的连接数量进行自适应的调整。</li>
<li><strong>初始化一个深层神经网络时，一个比较好的初始化策略是保持每个神经元输入和输出的方差一致</strong>。</li>
</ul>
<h4 id="3-He初始化"><a href="#3-He初始化" class="headerlink" title="3.He初始化"></a>3.He初始化</h4><ul>
<li><p>当第l层神经元使用ReLU激活函数时，通常有一般的神经元输出为0，因此其分布的方差也近似为使用logistic作为激活函数时的一半。这样，只考虑前向传播时，参数$w_i^l$的理想方差为</p>
</li>
<li><script type="math/tex; mode=display">var[w_i^l] = \frac 2 {n^{l-1}}</script></li>
<li><p>其中$n^{l-1}$是第l-1层的神经元个数。</p>
<p> 即在对数据集进行0均值标准化(Z-score standardization)后在进行$x=x*{\sqrt\frac{2}{n^{(l-1)}}}$操作</p>
</li>
<li><p>因此，当使用ReLU激活函数时，如果采用高斯分布来初始化参数$w_i^l$，其方差为$ \frac 2 {n^{l-1}}$如果采用区间为[-r,r]的均匀分布来初始化参数$w_i^l$时，则$r = \sqrt \frac{6} {n^{l-1}}$。</p>
</li>
</ul>
]]></content>
      <categories>
        <category>deepLearning</category>
      </categories>
      <tags>
        <tag>归一化和神经网络的权重初始化</tag>
      </tags>
  </entry>
  <entry>
    <title>deepLearning_1</title>
    <url>/2021/09/24/deepLearning-1/</url>
    <content><![CDATA[<p><img src="/2021/09/24/deepLearning-1/123.png" alt="1"></p>
<h1 id="一-基于数值微分的KNN手写数字识别"><a href="#一-基于数值微分的KNN手写数字识别" class="headerlink" title="一.基于数值微分的KNN手写数字识别"></a>一.基于数值微分的KNN手写数字识别</h1><p>进行深度学习训练的基本步骤</p>
<p><img src="/2021/09/24/deepLearning-1/1.png" alt="img_1"></p>
<h3 id="1-minist数据集"><a href="#1-minist数据集" class="headerlink" title="1. minist数据集"></a>1. minist数据集</h3><h4 id="获取数据集"><a href="#获取数据集" class="headerlink" title="获取数据集"></a>获取数据集</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"><span class="keyword">import</span> torchvision.datasets <span class="keyword">as</span> dsets</span><br><span class="line">batch_size = <span class="number">100</span></span><br><span class="line"><span class="comment"># MNIST dataset</span></span><br><span class="line">train_dataset = dsets.MNIST(root = <span class="string">&#x27;ml/pymnist&#x27;</span>, <span class="comment">#选择数据的根目录，</span></span><br><span class="line">                            train = <span class="literal">True</span>, <span class="comment">#选择训练集</span></span><br><span class="line">                            transform = <span class="literal">None</span>, <span class="comment">#不考虑使用任何数据预处理</span></span><br><span class="line">                            download = <span class="literal">False</span>) <span class="comment">#从网络上下载图片</span></span><br><span class="line">test_dataset = dsets.MNIST(root = <span class="string">&#x27;ml/pymnist&#x27;</span>, <span class="comment">#选择数据的根目录</span></span><br><span class="line">                            train = <span class="literal">False</span>, <span class="comment">#选择测试集</span></span><br><span class="line">                            transform = <span class="literal">None</span>, <span class="comment">#不考虑使用任何数据预处理</span></span><br><span class="line">                            download = <span class="literal">False</span>) <span class="comment">#从网络上下载图片</span></span><br><span class="line"><span class="comment">#加载数据</span></span><br><span class="line">train_loader = torch.utils.data.DataLoader(dataset = train_dataset,</span><br><span class="line">                                            batch_size = batch_size,</span><br><span class="line">                                            shuffle = <span class="literal">True</span>) <span class="comment">#将数据打乱</span></span><br><span class="line">test_loader = torch.utils.data.DataLoader(dataset = test_dataset,</span><br><span class="line">                                            batch_size = batch_size,</span><br><span class="line">                                            shuffle = <span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<h3 id="2-函数知识点"><a href="#2-函数知识点" class="headerlink" title="2.函数知识点"></a>2.函数知识点</h3><h4 id="scatter-（）函数使用"><a href="#scatter-（）函数使用" class="headerlink" title="scatter_（）函数使用"></a>scatter_（）函数使用</h4><ul>
<li><p>注意：在对一维array转置的时候，x = np.array([1, 2, 3]).T 是无效的，需要进行一些处理才可以转置。</p>
<p>eg:x = np.array([[1,2,3]])//扩充维度</p>
</li>
<li><p>scatter_(dim, index, src)<br>dim：维度，表示在第几维上操作；<br>index：索引，后面再解释；<br>src：用来填充的tensor。</p>
</li>
<li><p><strong>index 和 src维度要相同</strong></p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#例子：使用scatter_()生成one-hot编码</span></span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = torch.zeros(<span class="number">10</span>,<span class="number">5</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">labels = np.random.randint(<span class="number">0</span>,<span class="number">5</span>,(<span class="number">10</span>,<span class="number">1</span>))</span><br><span class="line">labels = torch.LongTensor(labels)</span><br><span class="line"><span class="built_in">print</span>(labels)</span><br><span class="line">a.scatter_(<span class="number">1</span>,labels,<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(a.data)</span><br><span class="line"><span class="comment">#输出</span></span><br><span class="line">tensor([[<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">        [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">        [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">        [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">        [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">        [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">        [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">        [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">        [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">        [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>]])</span><br><span class="line">tensor([[<span class="number">2</span>],</span><br><span class="line">        [<span class="number">3</span>],</span><br><span class="line">        [<span class="number">1</span>],</span><br><span class="line">        [<span class="number">0</span>],</span><br><span class="line">        [<span class="number">1</span>],</span><br><span class="line">        [<span class="number">3</span>],</span><br><span class="line">        [<span class="number">2</span>],</span><br><span class="line">        [<span class="number">2</span>],</span><br><span class="line">        [<span class="number">4</span>],</span><br><span class="line">        [<span class="number">3</span>]])</span><br><span class="line">tensor([[<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">        [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>],</span><br><span class="line">        [<span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">        [<span class="number">1.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">        [<span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">        [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>],</span><br><span class="line">        [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">        [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">        [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">1.</span>],</span><br><span class="line">        [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>]])</span><br><span class="line"></span><br><span class="line">Process finished <span class="keyword">with</span> exit code <span class="number">0</span></span><br></pre></td></tr></table></figure>
<h4 id="np-nditer-多维迭代器使用"><a href="#np-nditer-多维迭代器使用" class="headerlink" title="np.nditer()多维迭代器使用"></a>np.nditer()多维迭代器使用</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.random.randint(<span class="number">0</span>,<span class="number">9</span>,<span class="number">6</span>).reshape(<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> a:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line">x = np.nditer(a,flags=[<span class="string">&#x27;multi_index&#x27;</span>],op_flags=[<span class="string">&#x27;readwrite&#x27;</span>])</span><br><span class="line"><span class="keyword">while</span> <span class="keyword">not</span> x.finished:</span><br><span class="line">    <span class="built_in">print</span>(x.multi_index)</span><br><span class="line">    x.iternext()</span><br><span class="line">x.iternext()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> x:</span><br><span class="line">    <span class="built_in">print</span>(x.multi_index)</span><br><span class="line"><span class="comment">#输出：</span></span><br><span class="line">[<span class="number">0</span> <span class="number">0</span> <span class="number">4</span>]</span><br><span class="line">[<span class="number">0</span> <span class="number">4</span> <span class="number">2</span>]</span><br><span class="line">(<span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">(<span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">(<span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line">(<span class="number">1</span>, <span class="number">0</span>)</span><br><span class="line">(<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">(<span class="number">1</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>flags=[‘multi_index’]表示对a进行多重索引，具体解释请看下面的示例代码。<br>上述代码段中参数的解释如下。</li>
<li>op_flags=[‘readwrite’]表示不仅可以对a进行read（读取），还可以write（写入），即相当于在创建这个迭代器的时候，我们就规定好了其具有哪些权限。</li>
<li>print(it.multi_index)表示输出元素的索引，可以看到输出的结果都是index。</li>
<li>it.iternext()表示进入下一次迭代，如果不加这一条语句的话，输出的结果就会一直都是(0，0)。</li>
</ul>
<h3 id="3-构建神经网络"><a href="#3-构建神经网络" class="headerlink" title="3.构建神经网络"></a>3.构建神经网络</h3><p>在pytorch中构建网络模型类，继承torch.nn.Module，在init函数中设计网络层数结构，实现forward函数进行前向传播。</p>
<p>eg:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Model</span>(<span class="params">torch.nn.Module</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">super</span>(Model,self).__init__()</span><br><span class="line">        self.linear_1 = torch.nn.Linear(<span class="number">8</span>,<span class="number">1</span>)</span><br><span class="line">        self.sigmoid_1 = torch.nn.Sigmoid()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span>(<span class="params">self,x</span>):</span></span><br><span class="line">        x = self.sigmoid_1(self.linear_1(x))</span><br><span class="line">        <span class="keyword">return</span> x</span><br></pre></td></tr></table></figure>
<h3 id="4-损失函数"><a href="#4-损失函数" class="headerlink" title="4.损失函数"></a>4.损失函数</h3><p>BCELoss与CrossEntropyLoss都是用于分类问题。可以知道，BCELoss是Binary CrossEntropyLoss的缩写，BCELoss　CrossEntropyLoss的一个特例，只用于二分类问题，而CrossEntropyLoss可以用于二分类，也可以用于多分类。</p>
<p>不过我重新查阅了一下资料，发现同样是处理二分类问题，BCELoss与CrossEntropyLoss是不同的。下面我详细讲一下哪里不同。</p>
<p>１．　使用nn.BCELoss需要在该层前面加上Sigmoid函数。</p>
<p>２．　使用nn.CrossEntropyLoss会自动加上Sofrmax层。</p>
<p>可以看出，这两个计算损失的函数使用的激活函数不同，故而最后的计算公式不同。</p>
]]></content>
      <categories>
        <category>deepLearning_practice</category>
      </categories>
      <tags>
        <tag>minist手写数字识别</tag>
      </tags>
  </entry>
  <entry>
    <title>deepLearning-4</title>
    <url>/2021/10/19/deepLearning-4/</url>
    <content><![CDATA[<h1 id="优化算法"><a href="#优化算法" class="headerlink" title="优化算法"></a>优化算法</h1><h2 id="一、mini-batch"><a href="#一、mini-batch" class="headerlink" title="一、mini_batch"></a>一、mini_batch</h2><p>​    我们已知在梯度下降中需要对所有样本进行处理过后然后走一步，那么如果我们的样本规模的特别大的话效率就会比较低。假如有500万，甚至5000万个样本(在我们的业务场景中，一般有几千万行，有些大数据有10亿行)的话走一轮迭代就会非常的耗时。这个时候的梯度下降叫做full batch。</p>
<p>​     所以为了提高效率，我们可以把样本分成等量的子集。 例如我们把100万样本分成1000份， 每份1000个样本， 这些子集就称为mini batch。然后我们分别用一个for循环遍历这1000个子集。 针对每一个子集做一次梯度下降。 然后更新参数w和b的值。接着到下一个子集中继续进行梯度下降。 这样在遍历完所有的mini batch之后我们相当于在梯度下降中做了1000次迭代。</p>
<p>​     我们将遍历一次所有样本的行为叫做一个 epoch，也就是一个世代。 在mini batch下的梯度下降中做的事情其实跟full batch一样，只不过我们训练的数据不再是所有的样本，而是一个个的子集。 这样在mini batch我们在一个epoch中就能进行1000次的梯度下降，而在full batch中只有一次。 这样就大大的提高了我们算法的运行速度。</p>
<h2 id="二、momentum梯度下降法"><a href="#二、momentum梯度下降法" class="headerlink" title="二、momentum梯度下降法"></a>二、momentum梯度下降法</h2><h3 id="2-1-指数加权平均"><a href="#2-1-指数加权平均" class="headerlink" title="2.1 指数加权平均"></a>2.1 指数加权平均</h3><p><strong>平均数求法</strong></p>
<p>比如我们现在有100天的温度值，要求这100天的平均温度值。</p>
<p>24，25，24，26，34，28，33，33，34，35……….32。</p>
<p><strong><em>我们直接可以用公式：\</em></strong></p>
<p><img src="/2021/10/19/deepLearning-4/1.png" alt></p>
<p>通过上面的公式就可以直接求出10天的平均值。<strong><em>而我们要介绍的指数加权平均本质上就是一种近似求平均的方法。\</em></strong></p>
<p><strong>指数加权平均</strong></p>
<p><strong>我们现在直接给出公式：</strong><img src="/2021/10/19/deepLearning-4/2.png" alt></p>
<p>其中 $v_t$代表第t天平均温度 ， $\theta_t$ 代表第t天的温度，$\beta$是超参数</p>
<p>假如$\beta=0.9$则：</p>
<p><img src="/2021/10/19/deepLearning-4/3.png" alt></p>
<p>化简开得到如下表达式：</p>
<p><img src="/2021/10/19/deepLearning-4/4.png" alt></p>
<p>通过上面表达式，我们可以看到，V100等于每一个时刻天数的温度值再乘以一个权值。</p>
<p><strong>本质就是以指数式递减加权的移动平均。各数值的加权而随时间而指数式递减，越近期的数据加权越重，但较旧的数据也给予一定的加权。</strong></p>
<p>而在我们上面提到的普通平均数求法，它的每一项的权值都是一样的，如果有n项，权值都为1/n。</p>
<p>指数加权平均的结果是由当天温度值乘以指数衰减函数值，然后类和求得！</p>
<p><strong>指数加权平均的优势</strong></p>
<p>那么指数加权平均法有什么好处呢？首先我们来看它的实现：</p>
<p><img src="/2021/10/19/deepLearning-4/5.png" alt></p>
<p><strong><em>我们可以看到指数加权平均的求解过程实际上是一个递推的过程，那么这样就会有一个非常大的好处，每当我要求从0到某一时刻（n）的平均值的时候，我并不需要像普通求解平均值的作为，保留所有的时刻值，类和然后除以n。\</em></strong></p>
<p><strong><em>而是只需要保留0-(n-1)时刻的平均值和n时刻的温度值即可。也就是每次只需要保留常数值，然后进行运算即可，这对于深度学习中的海量数据来说，是一个很好的减少内存和空间的做法。\</em></strong></p>
<h3 id="2-2-动量梯度下降"><a href="#2-2-动量梯度下降" class="headerlink" title="2.2 动量梯度下降"></a>2.2 动量梯度下降</h3><p>梯度下降是机器学习中用来使模型逼近真实分布的最小偏差的优化方法。<br>在普通的随机梯度下降和批梯度下降当中，参数的更新是按照如下公式进行的：</p>
<p>W = W - αdW<br>b = b - αdb</p>
<p>其中α是学习率，dW、db是cost function对w和b的偏导数。<br>随机梯度下降和批梯度下降的区别只是输入的数据分别是mini-batch和all。</p>
<p>在随机梯度下降训练中参数是曲折的接近最优点，使用动量梯度下降可以加快参数训练</p>
<p>动量梯度下降更新公式如下：</p>
<p><img src="/2021/10/19/deepLearning-4/6.png" alt><br>我们可以看出，在这个公式中，并不是直接减去αdW和αdb，而是计算出了一个vdW和vdb。</p>
<p>​    使用这个公式，可以将之前的dW和db都联系起来，不再是每一次梯度都是独立的情况。其中β是可以自行设置的超参数，一般情况下默认为0.9（也可以设置为其他数值）。β代表了现在的vdW和vdb与之前的1 / (1 - β)个vdW和vdb有关。0.9就是现在的vdW和vdb是平均了之前10天的vdW和vdb的结果。<br>​    此时的梯度不再只是我现在的数据的梯度，而是有一定权重的之前的梯度</p>
<p>​    每一次梯度下降都会有一个之前的速度的作用，如果我这次的方向与之前相同，则会因为之前的速度继续加速；如果这次的方向与之前相反，则会由于之前存在速度的作用不会产生一个急转弯，而是尽量把路线向一条直线拉过去。</p>
<h3 id="2-3-RMSprop算法"><a href="#2-3-RMSprop算法" class="headerlink" title="2.3 RMSprop算法"></a>2.3 RMSprop算法</h3><p><img src="/2021/10/19/deepLearning-4/7.png" alt></p>
<p>于上面的这个椭圆形的抛物面（图中的椭圆代表等高线），沿着横轴收敛速度是最快的，所以我们希望在横轴（假设记为w1）方向步长大一些，在纵轴（假设记为w2）方向步长小一些。这时候可以通过RMSprop实现，迭代更新公式如下：</p>
<p><img src="/2021/10/19/deepLearning-4/8.png" alt></p>
<p>观察上面的公式可以看到，s是对梯度的平方做了一次平滑。在更新w时，先用梯度除以$\sqrt{s_1+\epsilon}$，相当于对梯度做了一次归一化。如果某个方向上梯度震荡很大，应该减小其步长；而震荡大，则这个方向的s也较大，除完之后，归一化的梯度就小了；如果某个方向上梯度震荡很小，应该增大其步长；而震荡小，则这个方向的s也较小，归一化的梯度就大了。因此，通过RMSprop，我们可以调整不同维度上的步长，加快收敛速度。把上式合并后，RMSprop迭代更新公式如下：</p>
<p><img src="/2021/10/19/deepLearning-4/9.png" alt></p>
<p>β的典型值是0.999。公式中还有一个ϵ，这是一个很小的数，典型值是$10^{-8}$。</p>
<h3 id="2-4-Adam算法"><a href="#2-4-Adam算法" class="headerlink" title="2.4 Adam算法"></a>2.4 Adam算法</h3><p>Adam算法则是以上二者动量梯度下降和RMSprop算法的结合。先看迭代更新公式：</p>
<p><img src="/2021/10/19/deepLearning-4/10.png" alt></p>
<p>典型值：β1=0.9,β2=0.999,ϵ=$10^{-8}$。Adam算法相当于先把原始梯度做一个指数加权平均，再做一次归一化处理，然后再更新梯度值。</p>
<h3 id="2-5优化算法"><a href="#2-5优化算法" class="headerlink" title="2.5优化算法"></a>2.5优化算法</h3><p>在使用<strong>mini-batch</strong>梯度下降法时，<strong>mini-batch</strong>数量不大，大概64或者128个样本，在迭代过程中会有噪音（蓝色线），下降朝向最小值，但是不会精确地收敛，所以你的算法最后在附近摆动，并不会真正收敛，因为你用的<img src="https://private.codecogs.com/gif.latex?%5Calpha" alt="\alpha">是固定值，不同的<strong>mini-batch</strong>中有噪音。</p>
<p>但要慢慢减少学习率的话，在初期的时候，学习率还较大，你的学习还是相对较快，但随着变小，你的步伐也会变慢变小，所以最后你的曲线（绿色线）会在最小值附近的一小块区域里摆动，而不是在训练过程中，大幅度在最小值附近摆动。</p>
<p>所以慢慢减少的本质在于，在学习初期，你能承受较大的步伐，但当开始收敛的时候，小一些的学习率能让你步伐小一些。</p>
<p><strong>方法1：</strong></p>
<p><img src="/2021/10/19/deepLearning-4/11.png" alt></p>
<p><strong>方法2：</strong></p>
<p><img src="/2021/10/19/deepLearning-4/12.png" alt></p>
<p><strong>方法3：</strong></p>
<p><img src="/2021/10/19/deepLearning-4/13.png" alt></p>
<p><strong>方法4：</strong></p>
<p><img src="/2021/10/19/deepLearning-4/14.png" alt></p>
]]></content>
      <categories>
        <category>deepLearning</category>
      </categories>
      <tags>
        <tag>优化算法</tag>
      </tags>
  </entry>
  <entry>
    <title>deepLearning-5</title>
    <url>/2021/10/21/deepLearning-5/</url>
    <content><![CDATA[<h2 id="一、超参数范围设置"><a href="#一、超参数范围设置" class="headerlink" title="一、超参数范围设置"></a>一、超参数范围设置</h2><p>在超参数设置的时候通常采用随机的方式进行，但是在随机的范围以及不同范围区间的概率要慎重选择。</p>
<p>eg:在选择超参数$\alpha$时可以选择在0.001到1随机，但是如果$\alpha$选择0.001到0.01的变化很大，选择0.1到1的变化很小，则可以进行变化，将随机到0.1到1的概率减小，将选择0.001到0.01的概率提升</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = -<span class="number">4</span>*np.random.rand()</span><br><span class="line">a = <span class="number">10</span>**a</span><br></pre></td></tr></table></figure>
<h2 id="二、bath-norm"><a href="#二、bath-norm" class="headerlink" title="二、bath norm"></a>二、bath norm</h2><p>Batchnorm是深度网络中经常用到的加速神经网络训练，加速收敛速度及稳定性的算法，可以说是目前深度网络必不可少的一部分。</p>
<p>首先，此部分也即是讲为什么深度网络会需要batchnorm</p>
<p>，我们都知道，深度学习的话尤其是在CV上都需要对数据做归一化，因为深度神经网络主要就是为了学习训练数据的分布，并在测试集上达到很好的泛化效果，但是，如果我们每一个batch输入的数据都具有不同的分布，显然会给网络的训练带来困难。另一方面，数据经过一层层网络计算后，其数据分布也在发生着变化，此现象称为Internal Covariate Shift，接下来会详细解释，会给下一层的网络学习带来困难。batchnorm</p>
<p>直译过来就是批规范化，就是为了解决这个分布变化问题。</p>
<p>为了减小Internal Covariate Shift，可以对神经网络的每一层做归一化，例如：将每一层输出后的数据都归一化到0均值，1方差，满足正太分布，但是，此时有一个问题，每一层的数据分布都是标准正太分布，导致其完全学习不到输入数据的特征，因为，费劲心思学习到的特征分布被归一化了，因此，直接对每一层做归一化显然是不合理的。但是如果稍作修改，加入可训练的参数做归一化，那就是BatchNorm实现的了，接下来结合下图的伪代码做详细的分析：</p>
<p><img src="/2021/10/21/deepLearning-5/1.png" alt></p>
<p>之所以称之为batchnorm是因为所norm的数据是一个batch的，假设输入数据是β=x1…m</p>
<p>共m个数据，输出是yi=BN(x)，batchnorm</p>
<p>的步骤如下：</p>
<p>1.先求出此次批量数据x</p>
<p>的均值，μβ=1m∑mi=1xi<br>2.求出此次batch的方差，σ2β=1m∑i=1m(xi−μβ)2<br>3.接下来就是对x做归一化，得到x−i<br>4.最重要的一步，引入缩放和平移变量γ和β ,计算归一化后的值，yi=γx−i +β</p>
<p>接下来详细介绍一下这额外的两个参数，之前也说过如果直接做归一化不做其他处理，神经网络是学不到任何东西的，但是加入这两个参数后，事情就不一样了，先考虑特殊情况下，如果γ</p>
<p>和β分别等于此batch的方差和均值，那么yi不就还原到归一化前的x了吗，也即是缩放平移到了归一化前的分布，相当于batchnorm没有起作用，β 和γ</p>
<p>分别称之为 平移参数和缩放参数 。这样就保证了每一次数据经过归一化后还保留的有学习来的特征，同时又能完成归一化这个操作，加速训练。</p>
]]></content>
      <categories>
        <category>deepLearning</category>
      </categories>
      <tags>
        <tag>超参数和bath norm</tag>
      </tags>
  </entry>
  <entry>
    <title>deeplearning2</title>
    <url>/2021/09/24/deeplearning2/</url>
    <content><![CDATA[<h1 id="改善深层神经网络"><a href="#改善深层神经网络" class="headerlink" title="改善深层神经网络"></a>改善深层神经网络</h1><h2 id="一、正则化"><a href="#一、正则化" class="headerlink" title="一、正则化"></a>一、正则化</h2><h3 id="1-1-L2正则"><a href="#1-1-L2正则" class="headerlink" title="1.1 L2正则"></a>1.1 L2正则</h3><p><img src="/2021/09/24/deeplearning2/1.png" alt></p>
<h3 id="1-2-Dropout正则化"><a href="#1-2-Dropout正则化" class="headerlink" title="1.2 Dropout正则化"></a>1.2 Dropout正则化</h3><p>Dropout提供了正则化一大类模型的方法，计算方便但功能强大。简单来说Dropout可以理解为在概率意义上随机删除神经网络中的节点，以此简化神经网络模型来防止过拟合的一种正则化方法，下图说明了Dropout的处理过程。</p>
<p><img src="/2021/09/24/deeplearning2/2.png" alt></p>
<p>Dropout会在每次迭代中随机关闭一些神经元,其中涉及到正则化参数keep_prob,keep_prob是一个随机数，在正向传播时，我们给每一个神经元赋予一个概率，通过比较keep_prob与神经元的随机概率大小来给出决策。当该概率小于keep_prob时，我们关闭该神经元。做法是通过应用掩码来关闭正向传播过程中的某些神经元。<br>对于反向传播，将用相同的掩码重新来关闭相同的神经元，进而进行导数的计算。</p>
<h3 id="1-3-其他正则化方法"><a href="#1-3-其他正则化方法" class="headerlink" title="1.3 其他正则化方法"></a>1.3 其他正则化方法</h3><p>正则化的目的是为了防止过拟合带来的高方差，我们可以考虑采用数据扩增和提早结束训练来防止过拟合。<br><strong><em>数据扩增</em></strong><br>假设我们的数据集是图片，那对图片进行旋转、裁剪等可以达到数据扩增的目的，如下图所示。</p>
<p><img src="/2021/09/24/deeplearning2/3.png" alt></p>
<p><strong><em>提早结束训练</em></strong><br>过拟合一定程度上是由于训练过度导致的，为了防止过拟合带了的高方差，把方差和损失函数作为训练结束的评判标准可以一定程度上减少过拟合。下图是该方法的体现。</p>
<p><img src="/2021/09/24/deeplearning2/4.png" alt></p>
<h2 id="二、正则化能减少过拟合的原因"><a href="#二、正则化能减少过拟合的原因" class="headerlink" title="二、正则化能减少过拟合的原因"></a>二、正则化能减少过拟合的原因</h2><p><strong>2.1 过拟合</strong><br>过拟合是指为了得到一致假设而使假设变得过度严格，如下图所示：</p>
<p><img src="/2021/09/24/deeplearning2/5.png" alt></p>
<p>上图反映了对二维数据的分类，该分类器看似很好的拟合的边缘，达到的分类的目的，但是分类边界过于严格，这样的分类模型虽然在训练集中表现得很好，当把它应用到测试集中，预测结果却不会很好。<br>从上图来看，过拟合往往带着非线性性与复杂性，为了减少过拟合，我们采取某种方法来减少它的非线性性与复杂性。</p>
<p>2.2 正则化减少过拟合<br>以L2正则化为例，我们通过对权重项施以惩罚，在参数更新时，达到权重衰减的目的。权重衰减意味着衰减的神经元对神经网络的影响减小，使得原本复杂的神经网络变得简单，甚至简单到像Logistic回归一样，每层只具有一个神经元。<br>神经元作用的衰减让原本非线性的分类趋于线性分类，这样就一定程度避免了过拟合。<br>下图反映了神经网络正则化的过程，以及分类效果。<br><img src="/2021/09/24/deeplearning2/6.png" alt></p>
]]></content>
      <categories>
        <category>deepLearning</category>
      </categories>
      <tags>
        <tag>正则化</tag>
      </tags>
  </entry>
  <entry>
    <title>fileUpload</title>
    <url>/2022/03/11/fileUpload/</url>
    <content><![CDATA[<h1 id="web项目文件上传"><a href="#web项目文件上传" class="headerlink" title="web项目文件上传"></a>web项目文件上传</h1><h3 id="1-需要用到的类详解"><a href="#1-需要用到的类详解" class="headerlink" title="1. 需要用到的类详解"></a>1. 需要用到的类详解</h3><p>​    ServletFileUpload负责处理上传的文件数据,并将表单中每个输入项封装成一个Fileltem对象，在使用ServletFileUpload对象解析请求时需要DiskFileltemFactory对象。</p>
<p>​    所以，我们需要在进行解析工作前构造好DiskFileltemFactory对象，通过ServletFileUpload对象的构造方法或setFileltemFactory()方法设置ServletFileUpload对象的fileltemFactory属性。</p>
<h3 id="2-FileItem类"><a href="#2-FileItem类" class="headerlink" title="2. FileItem类"></a>2. FileItem类</h3><p>如果表单包含一个文件上传，则这个表单的enctype属性必须设置为mutipart/form-data </p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="3-具体操作"><a href="#3-具体操作" class="headerlink" title="3. 具体操作"></a>3. 具体操作</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//1.判断上传表单是普通表单还是文件表单</span></span><br><span class="line">        <span class="keyword">if</span>(!ServletFileUpload.isMultipartContent(request))&#123;</span><br><span class="line">            <span class="keyword">return</span>;<span class="comment">//普通表单则之间返回</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//2.创建上传文件保存路径，建议放在web-inf文件下，外界无法访问</span></span><br><span class="line">        String uploadPath = <span class="keyword">this</span>.getServletContext().getRealPath(<span class="string">&quot;/WEB-INF/upload&quot;</span>);</span><br><span class="line">        File uploadFile = <span class="keyword">new</span> File(uploadPath);</span><br><span class="line">        <span class="keyword">if</span>(!uploadFile.exists())&#123;</span><br><span class="line">            uploadFile.mkdir();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//缓存，临时文件</span></span><br><span class="line">        <span class="comment">//临时路径，假如文件超过了预期大小，我们就将其放到一个临时文件中</span></span><br><span class="line">        <span class="comment">//临时文件过几天自动删除，或者提醒用户保存</span></span><br><span class="line">        String tmpPath = <span class="keyword">this</span>.getServletContext().getRealPath(<span class="string">&quot;/WEB-INF/tmp&quot;</span>);</span><br><span class="line">        File tmpFile = <span class="keyword">new</span> File(tmpPath);</span><br><span class="line">        <span class="keyword">if</span>(!tmpFile.exists())&#123;</span><br><span class="line">            tmpFile.mkdir();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//处理上传文件，一般都需要通过流来获取，我们可以使用request.getInputStream()获取</span></span><br><span class="line">        <span class="comment">//但是建议使用common-fileupload，他需要commons-io包</span></span><br><span class="line">        <span class="comment">//1. 创建DiskFileItemFactory对象，处理文件上传路径或者大小限制</span></span><br><span class="line">        DiskFileItemFactory factory = <span class="keyword">new</span> DiskFileItemFactory();</span><br><span class="line">        <span class="comment">//1.1 通过工厂设置缓冲区，当上传文件大于缓冲区，会存储到临时文件目录中</span></span><br><span class="line">        factory.setSizeThreshold(<span class="number">1024</span>*<span class="number">1024</span>);<span class="comment">//1M</span></span><br><span class="line">        factory.setRepository(tmpFile);<span class="comment">//设置临时保存目录</span></span><br><span class="line">        <span class="comment">//2. 获取servletFileUpload</span></span><br><span class="line">        ServletFileUpload fup = <span class="keyword">new</span> ServletFileUpload(factory);</span><br><span class="line">        <span class="comment">//2.1 监听文件上传进度</span></span><br><span class="line">        fup.setProgressListener(<span class="keyword">new</span> ProgressListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="comment">//pBytesRead:以及读取到的文件大小</span></span><br><span class="line">            <span class="comment">//pContentLength:文件大小</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">long</span> pBytesRead, <span class="keyword">long</span> pContentLength, <span class="keyword">int</span> pItems)</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;总大小：&quot;</span>+pContentLength+<span class="string">&quot;已上传：&quot;</span>+pBytesRead);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">//2.2 处理乱码问题</span></span><br><span class="line">        fup.setHeaderEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        <span class="comment">//2.3 设置单个文件的最大值</span></span><br><span class="line">        fup.setFileSizeMax(<span class="number">1024</span>*<span class="number">1024</span>*<span class="number">10</span>);<span class="comment">//10M</span></span><br><span class="line">        <span class="comment">//2.4 设置总共能够上传的文件大小</span></span><br><span class="line">        fup.setSizeMax(<span class="number">1024</span>*<span class="number">1024</span>*<span class="number">10</span>);<span class="comment">//10M</span></span><br><span class="line">        <span class="comment">//3. 处理上传文件</span></span><br><span class="line">        <span class="comment">//3.1 把前端请求封装为FileItem 对象</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            List&lt;FileItem&gt; fileItems = fup.parseRequest(request);</span><br><span class="line">            <span class="keyword">for</span> (FileItem fileItem : fileItems) &#123;</span><br><span class="line">                <span class="comment">//3.2 判断是文件还是普通表单</span></span><br><span class="line">                <span class="keyword">if</span>(fileItem.isFormField())&#123;</span><br><span class="line">                    <span class="comment">//getFieldName是表单的name属性</span></span><br><span class="line">                    String fieldName = fileItem.getFieldName();</span><br><span class="line">                    <span class="comment">//获取值并处理乱码</span></span><br><span class="line">                    String value = fileItem.getString(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">                    System.out.println(fieldName+<span class="string">&quot;:&quot;</span>+value);</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;<span class="comment">//如果是文件</span></span><br><span class="line">                    <span class="comment">//3.3 ======处理文件=========</span></span><br><span class="line">                    String uploadFName = fileItem.getName();</span><br><span class="line">                    <span class="comment">//3.3.1 判断文件路径名是否合法</span></span><br><span class="line">                    <span class="keyword">if</span>(uploadFName.trim().equals(<span class="string">&quot;&quot;</span>)||uploadFName==<span class="keyword">null</span>)&#123;</span><br><span class="line">                        <span class="keyword">continue</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">//3.3.2 获取上传文件名(将url处理为文件名和扩展名)</span></span><br><span class="line">                    String FileName = uploadFName.substring(uploadFName.lastIndexOf(<span class="string">&quot;/&quot;</span>) + <span class="number">1</span>);</span><br><span class="line">                    String FileExtName = uploadFName.substring(uploadFName.lastIndexOf(<span class="string">&quot;.&quot;</span>) + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">                    <span class="comment">//3.4 ======存放地址=========</span></span><br><span class="line">                    <span class="comment">//3.4.1 保证文件名唯一（UUID.randomUUID）</span></span><br><span class="line">                    UUID uuid = UUID.randomUUID();</span><br><span class="line">                    <span class="comment">//3.4.2 拼接文件存储路径</span></span><br><span class="line">                    String realPath = uploadPath+<span class="string">&quot;/&quot;</span>+uuid;</span><br><span class="line">                    File saveDir = <span class="keyword">new</span> File(realPath);</span><br><span class="line">                    <span class="keyword">if</span>(!saveDir.exists())&#123;</span><br><span class="line">                        saveDir.mkdir();</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">//3.5 ======文件传输=========</span></span><br><span class="line">                    <span class="comment">//3.5.1 获取文件上传流</span></span><br><span class="line">                    InputStream is = fileItem.getInputStream();</span><br><span class="line">                    FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(saveDir + <span class="string">&quot;/&quot;</span> + FileName);</span><br><span class="line">                    <span class="comment">//3.5.2 将文件存入saveDir</span></span><br><span class="line">                    <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span> * <span class="number">1024</span>];</span><br><span class="line">                    <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">while</span>((len=is.read(buffer))&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                        fos.write(buffer,<span class="number">0</span>,len);</span><br><span class="line">                    &#125;</span><br><span class="line">                    fos.close();</span><br><span class="line">                    is.close();</span><br><span class="line">                    fileItem.delete();<span class="comment">//文件上传成功，清除临时文件</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-封装为方法"><a href="#4-封装为方法" class="headerlink" title="4. 封装为方法"></a>4. 封装为方法</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> DiskFileItemFactory <span class="title">getDiskFileItemFactory</span><span class="params">(File tmpfile)</span></span>&#123;</span><br><span class="line">        <span class="comment">//1. 创建DiskFileItemFactory对象，处理文件上传路径或者大小限制</span></span><br><span class="line">        DiskFileItemFactory factory = <span class="keyword">new</span> DiskFileItemFactory();</span><br><span class="line">        <span class="comment">//1.1 通过工厂设置缓冲区，当上传文件大于缓冲区，会存储到临时文件目录中</span></span><br><span class="line">        factory.setSizeThreshold(<span class="number">1024</span>*<span class="number">1024</span>);<span class="comment">//1M</span></span><br><span class="line">        factory.setRepository(tmpfile);<span class="comment">//设置临时保存目录</span></span><br><span class="line">        <span class="keyword">return</span> factory;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ServletFileUpload <span class="title">getServletFileUpload</span><span class="params">(DiskFileItemFactory factory)</span></span>&#123;</span><br><span class="line">        ServletFileUpload upload = <span class="keyword">new</span> ServletFileUpload(factory);</span><br><span class="line">        upload.setProgressListener(<span class="keyword">new</span> ProgressListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="comment">//pBytesRead:以及读取到的文件大小</span></span><br><span class="line">            <span class="comment">//pContentLength:文件大小</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">long</span> pBytesRead, <span class="keyword">long</span> pContentLength, <span class="keyword">int</span> pItems)</span> </span>&#123;</span><br><span class="line"><span class="comment">//                System.out.println(&quot;总大小：&quot;+pContentLength+&quot;已上传：&quot;+pBytesRead);</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">//2.2 处理乱码问题</span></span><br><span class="line">        upload.setHeaderEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        <span class="comment">//2.3 设置单个文件的最大值</span></span><br><span class="line">        upload.setFileSizeMax(<span class="number">1024</span>*<span class="number">1024</span>*<span class="number">10</span>);<span class="comment">//10M</span></span><br><span class="line">        <span class="comment">//2.4 设置总共能够上传的文件大小</span></span><br><span class="line">        upload.setSizeMax(<span class="number">1024</span>*<span class="number">1024</span>*<span class="number">10</span>);<span class="comment">//10M</span></span><br><span class="line">        <span class="keyword">return</span> upload;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">uploadParseRequest</span><span class="params">(ServletFileUpload upload,HttpServletRequest request,String uploadPath)</span></span>&#123;</span><br><span class="line">        String msg = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="comment">//3. 处理上传文件</span></span><br><span class="line">        <span class="comment">//3.1 把前端请求封装为FileItem 对象</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            List&lt;FileItem&gt; fileItems = upload.parseRequest(request);</span><br><span class="line">            <span class="keyword">for</span> (FileItem fileItem : fileItems) &#123;</span><br><span class="line">                <span class="comment">//3.2 判断是文件还是普通表单</span></span><br><span class="line">                <span class="keyword">if</span>(fileItem.isFormField())&#123;</span><br><span class="line">                    <span class="comment">//getFieldName是表单的name属性</span></span><br><span class="line">                    String fieldName = fileItem.getFieldName();</span><br><span class="line">                    <span class="comment">//获取值并处理乱码</span></span><br><span class="line">                    String value = fileItem.getString(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">                    System.out.println(fieldName+<span class="string">&quot;:&quot;</span>+value);</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;<span class="comment">//如果是文件</span></span><br><span class="line">                    <span class="comment">//3.3 ======处理文件=========</span></span><br><span class="line">                    String uploadFName = fileItem.getName();</span><br><span class="line">                    <span class="comment">//3.3.1 判断文件路径名是否合法</span></span><br><span class="line">                    <span class="keyword">if</span>(uploadFName.trim().equals(<span class="string">&quot;&quot;</span>)||uploadFName==<span class="keyword">null</span>)&#123;</span><br><span class="line">                        <span class="keyword">continue</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">//3.3.2 获取上传文件名(将url处理为文件名和扩展名)</span></span><br><span class="line">                    String FileName = uploadFName.substring(uploadFName.lastIndexOf(<span class="string">&quot;/&quot;</span>) + <span class="number">1</span>);</span><br><span class="line">                    String FileExtName = uploadFName.substring(uploadFName.lastIndexOf(<span class="string">&quot;.&quot;</span>) + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">                    <span class="comment">//3.4 ======存放地址=========</span></span><br><span class="line">                    <span class="comment">//3.4.1 保证文件名唯一（UUID.randomUUID）</span></span><br><span class="line">                    UUID uuid = UUID.randomUUID();</span><br><span class="line">                    <span class="comment">//3.4.2 拼接文件存储路径</span></span><br><span class="line">                    String realPath = uploadPath+<span class="string">&quot;/&quot;</span>+uuid;</span><br><span class="line">                    File saveDir = <span class="keyword">new</span> File(realPath);</span><br><span class="line">                    <span class="keyword">if</span>(!saveDir.exists())&#123;</span><br><span class="line">                        saveDir.mkdir();</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">//3.5 ======文件传输=========</span></span><br><span class="line">                    <span class="comment">//3.5.1 获取文件上传流</span></span><br><span class="line">                    InputStream is = fileItem.getInputStream();</span><br><span class="line">                    FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(saveDir + <span class="string">&quot;/&quot;</span> + FileName);</span><br><span class="line">                    <span class="comment">//3.5.2 将文件存入saveDir</span></span><br><span class="line">                    <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span> * <span class="number">1024</span>];</span><br><span class="line">                    <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">while</span>((len=is.read(buffer))&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                        fos.write(buffer,<span class="number">0</span>,len);</span><br><span class="line">                    &#125;</span><br><span class="line">                    fos.close();</span><br><span class="line">                    is.close();</span><br><span class="line">                    fileItem.delete();<span class="comment">//文件上传成功，清除临时文件</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        msg = <span class="string">&quot;上传成功&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> msg;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-ajax实现进度条"><a href="#5-ajax实现进度条" class="headerlink" title="5. ajax实现进度条"></a>5. ajax实现进度条</h3><p>前端：点击事件后，通过导入ajax.form.js的ajaxSubmit（）方法异步的提交表单信息，并开启定时器，在其中定时的与后端发送ajax请求，获取上传进度信息，改变当前进度条状态。并在进度到100%时清除定时器</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: 天罡剑f</span><br><span class="line">  Date: 2022/3/11</span><br><span class="line">  Time: 16:17</span><br><span class="line">  To change this template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;</span><br><span class="line">&lt;%@taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>fileUpload<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./resources/js/jquery-3.4.1.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./resources/js/jquery.form.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./resources/js/bootstrap.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./resources/css/bootstrap.min.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">&quot;#upButton&quot;</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> startID;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">&quot;#jindu&quot;</span>).show();</span></span><br><span class="line"><span class="javascript">            startID = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                $.get(<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/uploadPro&quot;</span>,<span class="literal">null</span>,<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">&quot;#processRow&quot;</span>).attr(<span class="string">&quot;aria-valuenow&quot;</span>,data);</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">&quot;#processRow&quot;</span>).css(<span class="string">&quot;width&quot;</span>,data+<span class="string">&quot;%&quot;</span>);</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">&quot;#processRow&quot;</span>).html(data);</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span> (<span class="built_in">Number</span>(data)==<span class="number">100</span>)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="built_in">clearInterval</span>(startID);</span></span><br><span class="line"><span class="javascript">                    &#125;</span></span><br><span class="line"><span class="javascript">                &#125;,<span class="string">&quot;text&quot;</span>);</span></span><br><span class="line"><span class="javascript">            &#125;,<span class="number">500</span>);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">&quot;#fileUp&quot;</span>).ajaxSubmit(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// alert(&quot;提交成功2&quot;);</span></span></span><br><span class="line"><span class="javascript">             &#125;);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">        &#125;);</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>文件上传<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">action</span>=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/fileUpload&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span> <span class="attr">id</span>=<span class="string">&quot;fileUp&quot;</span>&gt;</span></span><br><span class="line">    &lt;%--<span class="tag">&lt;<span class="name">div</span>&gt;</span>--%&gt;</span><br><span class="line">        &lt;%--上传用户：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span>--%&gt;</span><br><span class="line">    &lt;%--<span class="tag">&lt;/<span class="name">div</span>&gt;</span>--%&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;file1&quot;</span> <span class="attr">id</span>=<span class="string">&quot;file1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">id</span>=<span class="string">&quot;upButton&quot;</span> <span class="attr">value</span>=<span class="string">&quot;提交&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;progress&quot;</span>  <span class="attr">id</span>=<span class="string">&quot;jindu&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;progress-bar&quot;</span> <span class="attr">id</span>=<span class="string">&quot;processRow&quot;</span> <span class="attr">role</span>=<span class="string">&quot;progressbar&quot;</span> <span class="attr">aria-valuenow</span>=<span class="string">&quot;0&quot;</span> <span class="attr">aria-valuemin</span>=<span class="string">&quot;0&quot;</span> <span class="attr">aria-valuemax</span>=<span class="string">&quot;100&quot;</span> <span class="attr">style</span>=<span class="string">&quot;min-width: 2em;&quot;</span>&gt;</span></span><br><span class="line">        0%</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>后端：发送上传进度信息</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> lixu</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2022-03-11-19:28</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(name = &quot;uploadProServlet&quot;,urlPatterns = &#123;&quot;/uploadPro&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">uploadProServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        request.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(request.getSession().getAttribute(<span class="string">&quot;filePer&quot;</span>)!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">long</span> filePer = (<span class="keyword">long</span>)request.getSession().getAttribute(<span class="string">&quot;filePer&quot;</span>);</span><br><span class="line">            request.setAttribute(<span class="string">&quot;filePer&quot;</span>,filePer);</span><br><span class="line">            response.getWriter().write(filePer+<span class="string">&quot;&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            response.getWriter().write(<span class="string">&quot;100&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.doPost(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>javaweb</category>
      </categories>
      <tags>
        <tag>fileUpload</tag>
      </tags>
  </entry>
  <entry>
    <title>filterAndListener</title>
    <url>/2021/12/31/filterAndListener/</url>
    <content><![CDATA[<h3 id="一、filter过滤器"><a href="#一、filter过滤器" class="headerlink" title="一、filter过滤器"></a>一、filter过滤器</h3><p>概念：</p>
<p>web中的过滤器:当访问服务器的资源时，过滤器可以将请求拦截下来，完成一些特殊的功能。</p>
<p>过滤器的作用:</p>
<ul>
<li>一般用于完成通用的操作。如∶登录验证、统一编码处理、敏感字符过滤…</li>
</ul>
<h5 id="1-快速入门"><a href="#1-快速入门" class="headerlink" title="1. 快速入门"></a>1. 快速入门</h5><p>步骤:</p>
<p>1．定义一个类，实现接口Filter</p>
<p>2．复写方法</p>
<p>3．配置拦截路径</p>
<ol>
<li>web.xml</li>
<li>注解</li>
</ol>
<p>代码：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@WebFilter(filterName = &quot;AllFilter&quot;,urlPatterns = &#123;&quot;/*&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AllFilter</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest req, ServletResponse resp, FilterChain chain)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//放行</span></span><br><span class="line">        chain.doFilter(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig config)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="2-过滤器细节"><a href="#2-过滤器细节" class="headerlink" title="2. 过滤器细节"></a>2. 过滤器细节</h5><ol>
<li><p>web.xml配置</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span><span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span><span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span><span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span><span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol>
<li><p>过滤器执行流程<br>1．执行过滤器<br>2．执行放行后的资源<br>3．回来执行过滤器放行代码下边的代码</p>
</li>
<li><p>过滤器生命周期方法</p>
<ol>
<li>init: 在服务器启动后，会创建Filter对象，然后调用init方法。只执行一次。用于加载资源</li>
<li><p>doFilter:每一次请求被拦截资源时，会执行。执行多次</p>
</li>
<li><p>destroy: 在服务器关闭后，Filter对象被销毁。如果服务器是正常关闭，则会执行destroy方法。只执行<br>-次。用于释放资源</p>
</li>
</ol>
</li>
<li><p>过滤器配置详解</p>
<ul>
<li><p>拦截路径配置：</p>
<ol>
<li>具体资源路径：/index.jsp       只有访问index.jsp资源时，过滤器才会被执行。</li>
<li>目录拦截：/user/*                    访问/user下所有的资源时，过滤器都会被执行</li>
<li>后缀名拦截：*.jsp                     访问所有后缀名为.jsp 的资源</li>
<li>拦截所有资源：/*                       访问所有资源时，过滤器都会被执行</li>
</ol>
</li>
<li><p>拦截方式配置：资源被访问的方式</p>
<ol>
<li><p>注解配置：</p>
<ul>
<li>设置dispatcherTypes 属性（可以配置多个值）<ol>
<li>REQUEST: 默认值。表示浏览器直接请求资源</li>
<li>FORWARD: 转发访问资源</li>
<li>INCLUDE: 包含访问资源</li>
<li>ERROR: 错误跳转</li>
<li>ASYNC: 异步访问</li>
</ol>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@WebFilter(filterName = &quot;AllFilter&quot;,urlPatterns = &#123;&quot;/*&quot;&#125;,dispatcherTypes = &#123;DispatcherType.REQUEST,DispatcherType.FORWARD&#125;)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>web.xml注解</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span><span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span><span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span><span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span><span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dispatcher</span>&gt;</span><span class="tag">&lt;/<span class="name">dispatcher</span>&gt;</span>         ！！！</span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
</li>
<li><p>过滤器链（配置多个过滤器）</p>
<p><strong>重点关注执行顺序</strong></p>
<ul>
<li>如果有两个过滤器1和2（如果1先执行）<ol>
<li>执行过滤器1</li>
<li>执行过滤器2</li>
<li>执行资源</li>
<li>执行过滤器2</li>
<li>执行过滤器1</li>
</ol>
</li>
<li>执行先后关系：<ol>
<li>注解配置：按照类名的字符串比较规则比较，值小的先执行<ul>
<li>eg: AFilter 和 BFilter , AFilter 先执行</li>
</ul>
</li>
<li>web.xml配置：谁配置在上面谁先执行</li>
</ol>
</li>
</ul>
</li>
</ol>
</li>
</ol>
<h5 id="案例1-：-登录验证"><a href="#案例1-：-登录验证" class="headerlink" title="案例1 ： 登录验证"></a>案例1 ： 登录验证</h5><p>需求：</p>
<ol>
<li>访问资源验证其是否登录</li>
<li>登录则放行</li>
<li>没有登陆则跳转登录界面</li>
</ol>
<h5 id="案例2：敏感词汇过滤"><a href="#案例2：敏感词汇过滤" class="headerlink" title="案例2：敏感词汇过滤"></a>案例2：敏感词汇过滤</h5><p>需求：</p>
<ol>
<li>对录入数据进行敏感词替换过滤</li>
<li>根据敏感词字典判断是否为敏感词汇</li>
<li>是则替换为*</li>
</ol>
<p>！！！注意：request对象没有setParameter方法，因此无法直接进行操作</p>
<p><strong>方法：对request进行增强</strong></p>
<p><img src="/2021/12/31/filterAndListener/1.png" alt></p>
<p>增强对象功能：</p>
<ul>
<li><p>设计模式</p>
<ol>
<li><p>装饰模式</p>
</li>
<li><p>代理模式</p>
<p>概念：</p>
<ol>
<li>真实对象：</li>
<li>代理对象：</li>
<li>代理模式：代理真实对象，达到增强真实对象功能的目的</li>
</ol>
<p>实现方式：</p>
<ol>
<li><p>静态代理：有一个类文件描述代理模式</p>
</li>
<li><p>动态代理：在内存中形成代理</p>
<ul>
<li><p>实现步骤：</p>
<ol>
<li><p>代理对象和真实对象实现相同接口</p>
</li>
<li><p>代理对象 = Proxy.newProxyInstance();</p>
</li>
<li><p>使用代理对象调用方法</p>
</li>
<li><p>增强方法</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//创建真实对象</span></span><br><span class="line">        legion l= <span class="keyword">new</span> legion();</span><br><span class="line">        <span class="comment">//创建代理对象</span></span><br><span class="line">        <span class="comment">/*  Proxy.newProxyInstance()</span></span><br><span class="line"><span class="comment">        * 1.类加载器：真实对象.getClass().getClassLoader()</span></span><br><span class="line"><span class="comment">        * 2.接口数组：真实对象.getClass().getInterfaces()</span></span><br><span class="line"><span class="comment">        * 3.处理器：new InvocationHandler()</span></span><br><span class="line"><span class="comment">        *</span></span><br><span class="line"><span class="comment">        * */</span></span><br><span class="line">        saleComputer s = (saleComputer) Proxy.newProxyInstance(l.getClass().getClassLoader(), 			l.getClass().getInterfaces(), <span class="keyword">new</span> InvocationHandler() &#123;</span><br><span class="line">            <span class="comment">//代理对象调用的所有方法都会触发该方法执行</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">                <span class="comment">/*</span></span><br><span class="line"><span class="comment">                *  1. proxy：一般不用</span></span><br><span class="line"><span class="comment">                *  2. method：代理对象调用的方法，被封装为对象</span></span><br><span class="line"><span class="comment">                *  3. args: 代理对象调用方法，传递的实际参数</span></span><br><span class="line"><span class="comment">                * */</span></span><br><span class="line">                String name = method.getName();</span><br><span class="line">                System.out.println(name);</span><br><span class="line">                <span class="comment">//使用真实对象调用该方法</span></span><br><span class="line">                Object invoke = method.invoke(l, args);</span><br><span class="line">                <span class="keyword">return</span> invoke;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        s.sale(<span class="number">98989</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
</li>
</ol>
</li>
</ol>
</li>
</ul>
<h3 id="二、listener监听器"><a href="#二、listener监听器" class="headerlink" title="二、listener监听器"></a>二、listener监听器</h3><h6 id="概念：web三大组件之一"><a href="#概念：web三大组件之一" class="headerlink" title="概念：web三大组件之一"></a>概念：web三大组件之一</h6><ul>
<li><p>事件监听机制</p>
<ul>
<li>事件：一件事情</li>
<li>事件源： 事件发生的地方</li>
<li>监听器： 一个对象</li>
<li>注册监听：将事件，事件源，监听器绑定在一起。当事件源上发生某个事件后，执行监听器代码。</li>
</ul>
</li>
<li><p>servletContextListener(监听器接口):</p>
<ul>
<li>void contextDestroyed(ServletContextEvent sce) : ServletContext对象被销毁之前会调用该方法</li>
<li>void contextInitialized(ServletContextEvent sce) : ServletContext对象创建后会调用该方法</li>
<li>通过servletContextEvent来获取servletContext</li>
</ul>
</li>
<li>步骤：<ol>
<li>定义一个类，实现ServletContextListener接口</li>
<li>复写方法</li>
<li>配置<ol>
<li>web.xml<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">listener</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">listener-class</span>&gt;</span>类路径<span class="tag">&lt;/<span class="name">listener-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">listener</span>&gt;</span></span><br><span class="line"></span><br><span class="line">* 指定初始化参数</span><br><span class="line"><span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">param-name</span>&gt;</span><span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">param-value</span>&gt;</span><span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li>注解：<ul>
<li>@WebListener</li>
</ul>
</li>
</ol>
</li>
</ol>
</li>
</ul>
]]></content>
      <categories>
        <category>servlet</category>
      </categories>
      <tags>
        <tag>filter</tag>
        <tag>listener</tag>
      </tags>
  </entry>
  <entry>
    <title>git_idea</title>
    <url>/2022/02/25/git-idea/</url>
    <content><![CDATA[<h1 id="在idea中使用git"><a href="#在idea中使用git" class="headerlink" title="在idea中使用git"></a>在idea中使用git</h1><h2 id="一、idea集成git"><a href="#一、idea集成git" class="headerlink" title="一、idea集成git"></a>一、idea集成git</h2><ol>
<li><p>点击file—-&gt;settings—-&gt;version control，选择git</p>
<p><img src="/2022/02/25/git-idea/1.png" alt></p>
</li>
<li><p>选择git安装目录</p>
</li>
</ol>
<p>​        <img src="/2022/02/25/git-idea/2.png" alt></p>
<h2 id="二、本地库初始化"><a href="#二、本地库初始化" class="headerlink" title="二、本地库初始化"></a>二、本地库初始化</h2><ol>
<li>点击vcs </li>
</ol>
<p>​    <img src="/2022/02/25/git-idea/3.png" alt></p>
<p>​    <img src="/2022/02/25/git-idea/4.png" alt></p>
<h2 id="三、idea使用git"><a href="#三、idea使用git" class="headerlink" title="三、idea使用git"></a>三、idea使用git</h2><ol>
<li><p>对java项目进行本地库初始化</p>
</li>
<li><p>新建文件后idea会提示是否add（如果add则文件颜色变绿）</p>
<p><img src="/2022/02/25/git-idea/5.png" alt></p>
</li>
<li><p>新建模块或者文件后，右键文件选择git，选择add</p>
<p><img src="/2022/02/25/git-idea/6.png" alt></p>
</li>
<li><p>再次右键，选择commit </p>
<p><img src="/2022/02/25/git-idea/7.png" alt></p>
</li>
<li><p>选择需要提交的文件，添加commit注释</p>
<p><img src="/2022/02/25/git-idea/8.png" alt></p>
<p><img src="/2022/02/25/git-idea/9.png" alt></p>
</li>
<li><p>修改文件后，文件变蓝，add后，commit</p>
<p><img src="/2022/02/25/git-idea/10.png" alt></p>
</li>
</ol>
<h2 id="四、idea与远程库交互"><a href="#四、idea与远程库交互" class="headerlink" title="四、idea与远程库交互"></a>四、idea与远程库交互</h2><h3 id="1-关联本地库与远程库"><a href="#1-关联本地库与远程库" class="headerlink" title="1. 关联本地库与远程库"></a>1. 关联本地库与远程库</h3><ol>
<li><p>关联本地库与远程库</p>
<p>git pull [远程库ssh/url/别名] [分支] —allow-unrelated-histories </p>
<ul>
<li>如果出错，则git reset (清除暂存区的数据)</li>
</ul>
</li>
</ol>
<p>​    <img src="/2022/02/25/git-idea/11.png" alt></p>
<ol>
<li><p>添加备注(i:insert,esc,:wq)操作同vim</p>
<p><img src="/2022/02/25/git-idea/12.png" alt></p>
</li>
<li><p>重新推送到GitHub远程库</p>
<p> git push -u [远程库] master -f</p>
<p><img src="/2022/02/25/git-idea/13.png" alt></p>
</li>
<li><p>回到idea进行操作</p>
</li>
</ol>
<h3 id="2-在idea中进行推送"><a href="#2-在idea中进行推送" class="headerlink" title="2. 在idea中进行推送"></a>2. 在idea中进行推送</h3><ol>
<li><p>修改idea中与远程库关联的工作区文件</p>
</li>
<li><p>提交工作区修改的文件到本地库</p>
</li>
<li><p>提交本地库文件到远程库</p>
<p><img src="/2022/02/25/git-idea/14.png" alt></p>
</li>
<li><p>点击定义远程库（初始化远程库信息）</p>
<p><img src="/2022/02/25/git-idea/15.png" alt></p>
</li>
<li><p>点击push</p>
<p><img src="/2022/02/25/git-idea/16.png" alt></p>
</li>
<li><p>在以上步骤完成后，以后的修改提交到远程库可以一步完成（一般不建议）</p>
<p><img src="/2022/02/25/git-idea/17.png" alt></p>
</li>
</ol>
<ul>
<li>！！！之后在修改文件后，一般先pull拉取，确认无冲突后，再进行push操作</li>
</ul>
<h2 id="五、流程"><a href="#五、流程" class="headerlink" title="五、流程"></a>五、流程</h2><h3 id="1-一般流程"><a href="#1-一般流程" class="headerlink" title="1. 一般流程"></a>1. 一般流程</h3><ol>
<li><p>idea新建直接clone远程仓库</p>
<p><img src="/2022/02/25/git-idea/18.png" alt></p>
</li>
<li><p>点击test测试链接</p>
<p><img src="/2022/02/25/git-idea/19.png" alt></p>
</li>
<li><p>点击clone</p>
<ul>
<li>此时项目即是仓库又是idea工作空间</li>
</ul>
</li>
</ol>
<h2 id="六、冲突解决"><a href="#六、冲突解决" class="headerlink" title="六、冲突解决"></a>六、冲突解决</h2><h3 id="1-场景描述"><a href="#1-场景描述" class="headerlink" title="1. 场景描述"></a>1. 场景描述</h3><ol>
<li><p>A和B同时开发一个项目，都和远程仓库c进行了关联</p>
</li>
<li><p>A添加1.txt第一行，push到c</p>
</li>
<li><p>B也添加了1.txt第一行，此时使用idea push产生冲突</p>
<p><img src="/2022/02/25/git-idea/20.png" alt></p>
</li>
<li><p>进行合并操作merge</p>
<p><img src="/2022/02/25/git-idea/21.png" alt></p>
</li>
<li><p>显示冲突信息，判断如何处理冲突</p>
<p><img src="/2022/02/25/git-idea/22.png" alt></p>
<ul>
<li><p>accept yours :使用你的版本</p>
</li>
<li><p>accept Theirs:使用它们的</p>
</li>
<li><p>Merge</p>
<p><img src="/2022/02/25/git-idea/23.png" alt></p>
</li>
</ul>
</li>
<li><p>合并后再进行push</p>
</li>
</ol>
]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2021/09/24/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>hexo基础命令</tag>
      </tags>
  </entry>
  <entry>
    <title>html-1</title>
    <url>/2021/11/21/html-1/</url>
    <content><![CDATA[<h1 id="html常用标签整理"><a href="#html常用标签整理" class="headerlink" title="html常用标签整理"></a>html常用标签整理</h1><h3 id="html文档结构"><a href="#html文档结构" class="headerlink" title="html文档结构"></a>html文档结构</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"> 1 &lt;!DOCTYPE html&gt; </span><br><span class="line"> 2 &lt;html lang=&quot;zh-CN&quot;&gt;   #这个lang表示语言，zh-CN中文的意思，整个文档的内容以中文为主，如果以英文为主，就写成lang=&#x27;en&#x27;</span><br><span class="line"> 3 </span><br><span class="line"> 4 &lt;head&gt; </span><br><span class="line"> 5   &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line"> 6   &lt;title&gt;css样式优先级&lt;/title&gt;</span><br><span class="line"> 7 &lt;/head&gt;</span><br><span class="line"> 8 &lt;body&gt; </span><br><span class="line"> 9 </span><br><span class="line">10 &lt;/body&gt;</span><br><span class="line">11 &lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>1.&lt;!doctype html&gt;声明为html5文件，必须是html文档的第一行，在<html>标签之前;</html></p>
<p>2.<html>、</html>是文档开始和结束的标记,是HTML页面的根元素，在它们之间是文档的头部（head）和主体（body);</p>
<p>3.<head>、</head>定义HTML文档开头部分,内容不会在浏览器窗口显示,包含文档元（meta）数据，配置信息等，是给浏览器看的;</p>
<p>4.<title>、</title>定义了网页标题，在浏览器标题栏显示（修改一下title中的内容，然后看一下浏览器，你就会发现title是什么了）;</p>
<p>5.<body>、</body>之间的内容是可见的网页主体内容;</p>
<p>注意：中文网页需要使用 <meta charset="utf-8"> 声明编码，否则会出现乱码;有些浏览器是gbk，需手动设置为 <meta charset="gbk">；</p>
<h3 id="html标签格式"><a href="#html标签格式" class="headerlink" title="html标签格式"></a>html标签格式</h3><p>1.html标签是由尖括号包围的关键字，如：<html>,<div>,<span>等;</span></div></html></p>
<p>2.html标签通常是成对出现，如：<div></div>,第一个是开始，第二个有斜线的是结束；</p>
<p>3.有些标签是单独呈现的，如：<br> <hr></p>
<p>4.标签里面带有若干属性，也有不带的；</p>
<p>标签语法：</p>
<p>&lt;标签名 属性1=“属性值1” 属性2=“属性值2”……&gt;内容部分&lt;/标签名&gt;<br>&lt;标签名 属性1=“属性值1” 属性2=“属性值2”…… /&gt;</p>
<p>html注释：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!--注释内容--&gt; #找到一行内容ctrl+/能快捷注释，注释的内容不会在网页上显示出来</span><br></pre></td></tr></table></figure>
<p>head内常用标签</p>
<p><img src="/2021/11/21/html-1/1.png" alt="img"></p>
<p>meta标签：</p>
<p>　　01.<meta>元素可提供有关页面的元信息（meta-information）,针对搜索引擎和更新频度的描述和关键词；</p>
<p>　　02.标签位于文档的头部，不包含任何内容,提供的信息用户是看不见的；</p>
<p>meta标签组成：</p>
<p>　　http-equiv属性和name属性：</p>
<p>　　1.http-equiv属性：相当于http的文件头作用，向浏览器传回一些有用的信息，正确显示网页内容，与之对应的属性值content，content中的内容是各个参数的变量值；</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!--2秒后跳转到对应的网址，注意引号--&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;refresh&quot; content=&quot;2;URL=https://www.mi.com&quot;&gt; #如果把URL和后面的内容去掉，就是2秒钟刷新一次，做了解;</span><br><span class="line">&lt;!--指定文档的编码类型--&gt; </span><br><span class="line">&lt;meta http-equiv=&quot;content-Type&quot; charset=UTF8&quot;&gt;</span><br><span class="line">&lt;!--告诉IE以最高级模式渲染文档--&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;x-ua-compatible&quot; content=&quot;IE=edge&quot;&gt; #edge是微软的一个全新的浏览器,其实就是告诉IE浏览器，你按照最高标准来渲染我的页面，做了解；</span><br></pre></td></tr></table></figure>
<p>　　2.name属性：主要用于描述网页，与之对应的属性值为content，content中的内容主要是便于搜索引擎查找信息和分类信息用的；</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;meta name=&quot;keywords&quot; content=&quot;meta总结,html meta,meta属性,meta跳转&quot;&gt; </span><br><span class="line">&lt;!-- 关键字，也就是别人是可以通过这些关键字搜索到我的这个文章的，搜索引擎就是能够这个content内容来帮别人搜索到你的这个文档的,SEO就是专门做这些搜索优化的；--&gt;</span><br><span class="line"></span><br><span class="line">&lt;meta name=&quot;description&quot; content=&quot;xxxxxpythonxxx学习&quot;&gt;  #是对这个文档的描述，在百度一些内容的页面上，f12打开看看</span><br></pre></td></tr></table></figure>
<h3 id="body常用标签"><a href="#body常用标签" class="headerlink" title="body常用标签"></a>body常用标签</h3><p>基本标签</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">不加标签的纯文字也是可以在body中写的</span><br><span class="line">&lt;b&gt;加粗&lt;/b&gt;</span><br><span class="line">&lt;i&gt;斜体&lt;/i&gt;</span><br><span class="line">&lt;u&gt;下划线&lt;/u&gt;</span><br><span class="line">&lt;s&gt;删除&lt;/s&gt;</span><br><span class="line"></span><br><span class="line">&lt;p&gt;段落标签&lt;/p&gt; #独占一个段落</span><br><span class="line"></span><br><span class="line">&lt;h1&gt;标题1&lt;/h1&gt;</span><br><span class="line">&lt;h2&gt;标题2&lt;/h2&gt;</span><br><span class="line">&lt;h3&gt;标题3&lt;/h3&gt;</span><br><span class="line">&lt;h4&gt;标题4&lt;/h4&gt;</span><br><span class="line">&lt;h5&gt;标题5&lt;/h5&gt;</span><br><span class="line">&lt;h6&gt;标题6&lt;/h6&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--换行--&gt;</span><br><span class="line">&lt;br&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--水平线--&gt;&lt;hr&gt; #就是单独个一个水平线</span><br></pre></td></tr></table></figure>
<p>每次加上一些内容，记得保存再刷新一下才会显示出效果来；</p>
<p>常用特殊字符</p>
<p><img src="/2021/11/21/html-1/2.png" alt="img"></p>
<p>div标签和span标签</p>
<p>这两个标签没有特别的样式,<div>xxxx</div>，<span>xxx</span>这是两个标签最大的特点，可以通过CSS来控制,网站中多数是他们;</p>
<p>div标签用来定义一个块级元素，并无实际的意义。主要通过CSS样式为其赋予不同的表现;</p>
<p>span标签用来定义内联(行内)元素，并无实际的意义。主要通过CSS样式为其赋予不同的表现;</p>
<p>块级元素与行内元素的区别：</p>
<p>块元素，是另起一行开始渲染的元素，行内元素则不需另起一行。单独在网页中插入这两个元素，不会对页面产生任何的影响；</p>
<p>这两个元素是专门为定义CSS样式而生的；</p>
<p>块级标签：p、h1—h6、hr、div</p>
<p>内联标签：b、i、u、s</p>
<p>注意：</p>
<p>标签嵌套：通常块级元素可以包含内联元素或某些块级元素，但内联元素不能包含块级元素，它只能包含其它内联元素;div是可以包含div的;</p>
<p>p标签比较特殊，不能包含块级标签，p标签也不能包含p标签;可以试一下p标签套p标签，f12你会发现三个p标签;</p>
<p> img标签 </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;img src=&quot;图片的路径&quot; alt=&quot;图片未加载成功时的提示&quot; title=&quot;鼠标悬浮时提示信息&quot; width=&quot;宽&quot; height=&quot;高(宽高两个属性只用一个会自动等比缩放)&quot;&gt;</span><br></pre></td></tr></table></figure>
<p>src的路径分为两种：网上的图片路径和本地的图片路径(本地路径又包括相对路径和绝对路径)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;.&quot; -- 代表目前所在的目录，相对路径。 如：&lt;a href=&quot;./abc&quot;&gt;文本&lt;/a&gt; 或 &lt;img src=&quot;./abc&quot; /&gt;</span><br><span class="line">&quot;..&quot; -- 代表上一层目录，相对路径。 如：&lt;a href=&quot;../abc&quot;&gt;文本&lt;/a&gt; 或 &lt;img src=&quot;../abc&quot; /&gt;</span><br><span class="line">&quot;../../&quot; -- 代表的是上一层目录的上一层目录，相对路径。 如：&lt;img src=&quot;../../abc&quot; /&gt;</span><br><span class="line">&quot;/&quot; -- 代表根目录,绝对路径。 如：&lt;a href=&quot;/abc&quot;&gt;文本&lt;/a&gt; 或 &lt;img src=&quot;/abc&quot; /&gt;</span><br><span class="line">&quot;D:/abc/&quot; -- 代表根目录,绝对路径</span><br></pre></td></tr></table></figure>
<p><img src="/2021/11/21/html-1/3.png" alt="img"></p>
<p><img src="https://img2018.cnblogs.com/blog/1513655/201812/1513655-20181222100900346-1041321850.png" alt="img"></p>
<p>a标签 </p>
<p> 超链接标签:指从一个网页指向一个目标的连接关系，这个目标可以是另一个网页，也可以是相同网页上的不同位置，还可以是一个图片，一个电子邮件地址，一个文件，甚至是一个应用程序。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;a href=&quot;http://www.oldboyedu.com&quot; target=&quot;_blank&quot; &gt;点我&lt;/a&gt;</span><br></pre></td></tr></table></figure>
<p> target:</p>
<p>　　_blank表示在新标签页中打开目标网页</p>
<p>　　_self表示在当前标签页中打开目标网页</p>
<p>href属性指定目标网页地址。该地址可以有几种类型：</p>
<p>　　绝对URL - 指向另一个站点（比如 href=”<a href="http://www.jd.com）">http://www.jd.com）</a><br>　　相对URL - 指当前站点中确切的路径（href=”index.htm”） #学django的时候会用的比较多<br>　　锚URL - 指向页面中的锚（href=”#top”），博客的目录经常用到，还可以跳转到 name属性为p1的a标签上，<a name="top">xxx</a></p>
<p>列表 </p>
<p>1.无序列表</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;ul type=&quot;disc&quot;&gt;</span><br><span class="line">  &lt;li&gt;第一项&lt;/li&gt;</span><br><span class="line">  &lt;li&gt;第二项&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure>
<p>type属性：</p>
<p>　　disc（实心圆点，默认值）<br>　　circle（空心圆圈）<br>　　square（实心方块）<br>　　none（无样式）</p>
<p>2.有序列表</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;ol type=&quot;1&quot; start=&quot;2&quot;&gt;</span><br><span class="line">  &lt;li&gt;第一项&lt;/li&gt;</span><br><span class="line">  &lt;li&gt;第二项&lt;/li&gt;</span><br><span class="line">&lt;/ol&gt;</span><br></pre></td></tr></table></figure>
<p>type属性： start是从数字几开始</p>
<p>　　1 数字列表，默认值<br>　　A 大写字母<br>　　a 小写字母<br>　　Ⅰ大写罗马<br>　　ⅰ小写罗马</p>
<p>3.标题列表</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;dl&gt;</span><br><span class="line">  &lt;dt&gt;标题1&lt;/dt&gt;</span><br><span class="line">  &lt;dd&gt;内容1&lt;/dd&gt;</span><br><span class="line">  &lt;dt&gt;标题2&lt;/dt&gt;</span><br><span class="line">  &lt;dd&gt;内容1&lt;/dd&gt;</span><br><span class="line">  &lt;dd&gt;内容2&lt;/dd&gt;</span><br><span class="line">&lt;/dl&gt;</span><br></pre></td></tr></table></figure>
<p><img src="/2021/11/21/html-1/4.png" alt="img"><img src="/2021/11/21/html-1/5.png" alt="img"></p>
<p>表格 </p>
<p>表格是一个二维数据空间，一个表格由若干行组成，一个行又有若干单元格组成，单元格里可以包含文字、列表、图案、表单、数字符号、预置文本和其它的表格等内容。</p>
<p>　　表格最重要的目的是显示表格类数据。表格类数据是指最适合组织为表格格式（即按行和列组织）的数据。</p>
<p>　　表格的基本结构：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;table border=&quot;1&quot;&gt;</span><br><span class="line">            &lt;thead&gt; &lt;!-- 标题部分 --&gt;</span><br><span class="line">                &lt;tr&gt; &lt;!-- 表示一行 --&gt;</span><br><span class="line">                    &lt;th&gt;序号&lt;/th&gt; &lt;!-- 一个单元表格 --&gt;</span><br><span class="line">                    &lt;th&gt;姓名&lt;/th&gt;</span><br><span class="line">                    &lt;th&gt;爱好&lt;/th&gt;</span><br><span class="line">                &lt;/tr&gt;</span><br><span class="line">            &lt;/thead&gt;</span><br><span class="line">            &lt;tbody&gt; &lt;!-- 内容部分 --&gt;</span><br><span class="line">                &lt;tr&gt;</span><br><span class="line">                    &lt;td&gt;1&lt;/td&gt; &lt;!-- 一个单元表格 --&gt;</span><br><span class="line">                    &lt;td&gt;老李&lt;/td&gt;</span><br><span class="line">                    &lt;td&gt;写代码&lt;/td&gt;</span><br><span class="line">                &lt;/tr&gt;</span><br><span class="line">                &lt;tr&gt;</span><br><span class="line">                    &lt;td&gt;2&lt;/td&gt;</span><br><span class="line">                    &lt;td&gt;老王&lt;/td&gt;</span><br><span class="line">                    &lt;td&gt;打游戏&lt;/td&gt;</span><br><span class="line">                &lt;/tr&gt;</span><br><span class="line">            &lt;/tbody&gt;</span><br><span class="line">        &lt;/table&gt;</span><br></pre></td></tr></table></figure>
<p> 效果如图：</p>
<p><img src="/2021/11/21/html-1/6.png" alt="img"></p>
<p>属性:<br>　　border: 表格边框.<br>　　cellpadding: 内边距 （内边框和内容的距离）<br>　　cellspacing: 外边距.（内外边框的距离）<br>　　width: 像素 百分比.（最好通过css来设置长宽）<br>　　rowspan: 单元格竖跨多少行<br>　　colspan: 单元格横跨多少列（即合并单元格）</p>
<p><img src="/2021/11/21/html-1/7.png" alt="img"><img src="/2021/11/21/html-1/8.png" alt="img"></p>
<p><img src="/2021/11/21/html-1/9.png" alt="img"><img src="/2021/11/21/html-1/10.png" alt="img"></p>
<p>一般很少用上面这些属性</p>
<p>input标签 </p>
<p><input>元素会根据不同的 type 属性，变化为多种形态</p>
<p><img src="/2021/11/21/html-1/11.png" alt="img"></p>
<p>input属性说明：</p>
<p>　　name：表单提交时的“键”，注意和id的区别<br>　　value：表单提交时对应项的值<br>　　　　type=”button”, “reset”, “submit”时，为按钮上显示的文本年内容<br>　　　　type=”text”,”password”,”hidden”时，为输入框的初始值<br>　　　　type=”checkbox”, “radio”, “file”，为输入相关联的值<br>　　checked：radio和checkbox默认被选中的项<br>　　readonly：text和password设置只读<br>　　disabled：所有input均适用</p>
<p>代码示例：</p>
<p><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="img"> input</p>
<p>显示效果：</p>
<p><img src="/2021/11/21/html-1/12.png" alt="img"></p>
<p> 综合练习代码：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">  1 &lt;!DOCTYPE html&gt;</span><br><span class="line">  2 &lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">  3 &lt;head&gt;</span><br><span class="line">  4     &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">  5     &lt;title&gt;qd0201&lt;/title&gt;</span><br><span class="line">  6     &lt;!-- &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;qd0203.css&quot;&gt; --&gt;</span><br><span class="line">  7     &lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">  8         ul&#123;</span><br><span class="line">  9         background: #3CDAE5;color: #FBF9F9</span><br><span class="line"> 10     &#125;</span><br><span class="line"> 11 </span><br><span class="line"> 12     &lt;/style&gt;</span><br><span class="line"> 13 &lt;/head&gt;</span><br><span class="line"> 14 &lt;body&gt;</span><br><span class="line"> 15     &lt;!-- form标签实现与服务器数据交流 --&gt;</span><br><span class="line"> 16     &lt;form action=&quot;http://127.0.0.1:8001&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;</span><br><span class="line"> 17         &lt;a href=&quot;https://www.mi.com&quot; target=&quot;_blank&quot;&gt;点我传送&lt;/a&gt;</span><br><span class="line"> 18         &lt;a href=&quot;#username&quot; target=&quot;_self&quot;&gt;点我传送&lt;/a&gt;</span><br><span class="line"> 19         &lt;div&gt;我是div&lt;/div&gt;</span><br><span class="line"> 20         &lt;span&gt;我是span&lt;/span&gt;</span><br><span class="line"> 21 </span><br><span class="line"> 22         &lt;!-- ul无序、ol有序、dl标题 列表 --&gt;</span><br><span class="line"> 23         &lt;ul type=&quot;disc&quot;&gt;</span><br><span class="line"> 24             &lt;li&gt;Mysql从删库到跑路&lt;/li&gt;</span><br><span class="line"> 25             &lt;li&gt;C++从入门到入土&lt;/li&gt;</span><br><span class="line"> 26         &lt;/ul&gt;</span><br><span class="line"> 27         &lt;!-- &lt;ul type=&quot;circle&quot;&gt; --&gt;</span><br><span class="line"> 28         &lt;ul type=&quot;square&quot;&gt;</span><br><span class="line"> 29             &lt;li&gt;大数据&lt;/li&gt;</span><br><span class="line"> 30             &lt;li&gt;Python&lt;/li&gt;</span><br><span class="line"> 31         &lt;/ul&gt;</span><br><span class="line"> 32         &lt;ol type=&quot;I&quot; start=&quot;2&quot;&gt;</span><br><span class="line"> 33             &lt;li&gt;我信你个鬼&lt;/li&gt;</span><br><span class="line"> 34             &lt;li&gt;下水道三帅&lt;/li&gt;</span><br><span class="line"> 35         &lt;/ol&gt;</span><br><span class="line"> 36         &lt;dl&gt;</span><br><span class="line"> 37             &lt;dt&gt;标题1&lt;/dt&gt;</span><br><span class="line"> 38             &lt;dd&gt;内容1&amp;nbsp;&amp;nbsp;&amp;lt;&amp;gt;&amp;copy;&amp;amp;&amp;yen;&amp;reg;&lt;/dd&gt;</span><br><span class="line"> 39             &lt;dt&gt;标题2&lt;/dt&gt;</span><br><span class="line"> 40             &lt;dd&gt;内容2&amp;nbsp;&amp;nbsp;&amp;gt;&amp;lt;&amp;amp;&amp;copy;&amp;yen;&amp;reg;&lt;/dd&gt;</span><br><span class="line"> 41         &lt;/dl&gt;</span><br><span class="line"> 42         </span><br><span class="line"> 43         &lt;!-- 表格 --&gt;</span><br><span class="line"> 44         &lt;table border=&quot;1&quot; cellpadding=&quot;3&quot; cellspacing=&quot;3&quot; &gt;</span><br><span class="line"> 45             &lt;thead&gt;</span><br><span class="line"> 46                 &lt;tr&gt;</span><br><span class="line"> 47                     &lt;th&gt;序号&lt;/th&gt;</span><br><span class="line"> 48                     &lt;th&gt;姓名&lt;/th&gt;</span><br><span class="line"> 49                     &lt;th&gt;爱好&lt;/th&gt;</span><br><span class="line"> 50                 &lt;/tr&gt;    </span><br><span class="line"> 51             &lt;/thead&gt;</span><br><span class="line"> 52             &lt;tbody&gt;</span><br><span class="line"> 53                 &lt;tr&gt;</span><br><span class="line"> 54                     &lt;td&gt;1&lt;/td&gt;</span><br><span class="line"> 55                     &lt;td&gt;狗子&lt;/td&gt;</span><br><span class="line"> 56                     &lt;td&gt;宝剑&lt;/td&gt;</span><br><span class="line"> 57                 &lt;/tr&gt;</span><br><span class="line"> 58                 &lt;tr&gt;</span><br><span class="line"> 59                     &lt;td&gt;2&lt;/td&gt;</span><br><span class="line"> 60                     &lt;td colspan=&quot;2&quot;&gt;二蛋&lt;/td&gt;</span><br><span class="line"> 61                     &lt;!-- &lt;td&gt;日天&lt;/td&gt; --&gt;</span><br><span class="line"> 62                 &lt;/tr&gt;</span><br><span class="line"> 63             &lt;/tbody&gt;</span><br><span class="line"> 64             </span><br><span class="line"> 65         &lt;/table&gt;</span><br><span class="line"> 66 </span><br><span class="line"> 67         &lt;!-- input输入、单选、多选、文件上传、日期时间、下拉选项 --&gt;</span><br><span class="line"> 68         &lt;div&gt;</span><br><span class="line"> 69             &lt;!-- label for属性和id一样就关联在一起 点击获得光标--&gt;</span><br><span class="line"> 70             &lt;label for=&quot;username&quot;&gt;账户&lt;/label&gt;</span><br><span class="line"> 71             &lt;!-- disabled放在form表单中提交后得不到该值</span><br><span class="line"> 72             将disabled=&quot;disabled&quot; 改为 readonly = &quot;readonly&quot;只读即可</span><br><span class="line"> 73             --&gt;</span><br><span class="line"> 74             &lt;input id=&quot;username&quot; type=&quot;text&quot; name=&quot;zh&quot;&gt;</span><br><span class="line"> 75         &lt;/div&gt;</span><br><span class="line"> 76         &lt;div&gt;</span><br><span class="line"> 77             &lt;!-- label另一种转到光标方法 --&gt;</span><br><span class="line"> 78             &lt;label&gt;密码</span><br><span class="line"> 79                 &lt;!-- password不显示明文 --&gt;</span><br><span class="line"> 80             &lt;input type=&quot;password&quot; name=&quot;mm&quot;&gt;</span><br><span class="line"> 81             &lt;/label&gt;</span><br><span class="line"> 82         &lt;/div&gt;</span><br><span class="line"> 83         &lt;div&gt;</span><br><span class="line"> 84             &lt;label&gt;头像</span><br><span class="line"> 85                 &lt;input type=&quot;file&quot; name=&quot;avatar&quot;&gt;</span><br><span class="line"> 86             &lt;/label&gt;</span><br><span class="line"> 87         &lt;/div&gt;</span><br><span class="line"> 88 </span><br><span class="line"> 89         &lt;div&gt;日期</span><br><span class="line"> 90             &lt;input type=&quot;date&quot; name=&quot;date&quot;&gt;</span><br><span class="line"> 91         &lt;/div&gt;</span><br><span class="line"> 92         &lt;p&gt;时间</span><br><span class="line"> 93             &lt;input type=&quot;time&quot; name=&quot;time&quot;&gt;</span><br><span class="line"> 94         &lt;/p&gt;</span><br><span class="line"> 95         &lt;P&gt;性别</span><br><span class="line"> 96             &lt;!-- type=&quot;radio&quot;单选框 --&gt;</span><br><span class="line"> 97             &lt;input type=&quot;radio&quot; name=&quot;boy&quot;&gt;男</span><br><span class="line"> 98             &lt;input type=&quot;radio&quot; name=&quot;girl&quot;&gt;女</span><br><span class="line"> 99         &lt;/P&gt;</span><br><span class="line">100         &lt;p&gt;爱好</span><br><span class="line">101             &lt;!-- type=&quot;checkbox&quot;复选框 checked设置默认选项--&gt;</span><br><span class="line">102             &lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; checked value=&quot;girl&quot;&gt;女</span><br><span class="line">103             &lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; value=&quot;boy&quot;&gt;男</span><br><span class="line">104             &lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; value=&quot;baoj&quot;&gt;宝剑</span><br><span class="line">105             &lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; value=&quot;dy&quot;&gt;电影</span><br><span class="line">106         &lt;/p&gt;</span><br><span class="line">107         &lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;</span><br><span class="line">108         &lt;input type=&quot;reset&quot; value=&quot;重置&quot;&gt;</span><br><span class="line">109         &lt;input type=&quot;button&quot; value=&quot;普通按钮&quot;&gt;</span><br><span class="line">110         &lt;input type=&quot;hidden&quot; value=&quot;隐藏输入框&quot;&gt;</span><br><span class="line">111         &lt;input type=&quot;file&quot; name=&quot;文本框&quot;&gt;</span><br><span class="line">112 </span><br><span class="line">113         &lt;!-- select下拉选项 --&gt;</span><br><span class="line">114         &lt;div&gt;</span><br><span class="line">115             &lt;!-- &lt;select name=&quot;city&quot; id=&quot;city&quot; multiple&gt; 设置成多选--&gt;</span><br><span class="line">116             &lt;select name=&quot;city&quot; id=&quot;city&quot;&gt;</span><br><span class="line">117                 &lt;option value=&quot;1&quot;&gt;北京&lt;/option&gt;</span><br><span class="line">118                 &lt;!-- selected=&quot;selected&quot;设置成default--&gt;</span><br><span class="line">119                 &lt;option selected=&quot;selected&quot; value=&quot;2&quot;&gt;上海&lt;/option&gt;  </span><br><span class="line">120                 &lt;option value=&quot;3&quot;&gt;广州&lt;/option&gt;</span><br><span class="line">121                 &lt;option value=&quot;4&quot;&gt;深圳&lt;/option&gt;</span><br><span class="line">122             &lt;/select&gt;</span><br><span class="line">123         &lt;/div&gt;</span><br><span class="line">124 </span><br><span class="line">125         &lt;!-- textarea 多行文本 rows行数 cols列数 disabled=&quot;disabled&quot; 禁用--&gt;</span><br><span class="line">126         &lt;textarea name=&quot;多行文本&quot; rows=&quot;10px&quot; cols=&quot;20px&quot; &gt;</span><br><span class="line">127             ...</span><br><span class="line">128         &lt;/textarea&gt;</span><br><span class="line">129     &lt;/form&gt;</span><br><span class="line">130     </span><br><span class="line">131 &lt;/body&gt;</span><br><span class="line">132 &lt;/html&gt;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>html</category>
      </categories>
      <tags>
        <tag>html常用标签</tag>
      </tags>
  </entry>
  <entry>
    <title>html-tip</title>
    <url>/2021/11/23/html-tip/</url>
    <content><![CDATA[<h3 id="html遇到的问题"><a href="#html遇到的问题" class="headerlink" title="html遇到的问题"></a>html遇到的问题</h3><h5 id="1-body设置background图片的问题"><a href="#1-body设置background图片的问题" class="headerlink" title="1. body设置background图片的问题"></a>1. body设置background图片的问题</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 在html内部设置背景图片(在body标签设置属性background=相对与html的路径)</span><br><span class="line">&lt;body background =resource\imgs\1.jpg &gt; </span><br><span class="line"></span><br><span class="line">2. 在html外的css定义</span><br><span class="line">注意：此时图片的相对路径为，相对与css文件的路径，并且要使用’/‘,\会无法识别</span><br><span class="line">background: url(&#x27;../imgs/1.jpg&#x27;);</span><br></pre></td></tr></table></figure>
<h5 id="2-JavaScript编写的位置"><a href="#2-JavaScript编写的位置" class="headerlink" title="2. JavaScript编写的位置"></a>2. JavaScript编写的位置</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">html页面是顺序加载的：</span><br><span class="line">直接编写的 JavaScript语句如果需要获取页面元素，则要写在页面元素代码的后面（推荐写在body标签的最后）</span><br></pre></td></tr></table></figure>
<h5 id="3-超链接禁止跳转"><a href="#3-超链接禁止跳转" class="headerlink" title="3. 超链接禁止跳转"></a>3. 超链接禁止跳转</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;a href=&quot;javascript:void(0)&quot;&gt;&lt;/a&gt;</span><br></pre></td></tr></table></figure>
<h5 id="4-文字居中"><a href="#4-文字居中" class="headerlink" title="4.文字居中"></a>4.文字居中</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">text-align:center</span><br><span class="line">line-height: 行高px  -- 设置行高与当前行相等</span><br></pre></td></tr></table></figure>
<h5 id="5-get提交表单中文乱码问题"><a href="#5-get提交表单中文乱码问题" class="headerlink" title="5. get提交表单中文乱码问题"></a>5. get提交表单中文乱码问题</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">request.setCharacterEncoding(&quot;utf-8&quot;);不生效</span><br><span class="line">与tomcat配置有关</span><br><span class="line">改为post提交</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>html问题汇总</tag>
      </tags>
  </entry>
  <entry>
    <title>http</title>
    <url>/2021/12/05/http/</url>
    <content><![CDATA[<h3 id="一、http概念"><a href="#一、http概念" class="headerlink" title="一、http概念"></a>一、http概念</h3><ul>
<li>概念：超文本传输协议（Hyper Text Transfer Protocol，HTTP）是一个简单的请求-响应协议，它通常运行在TCP之上。它指定了客户端可能发送给服务器什么样的消息以及得到什么样的响应。</li>
</ul>
<ul>
<li>特点<ol>
<li>基于tcp/ip协议</li>
<li>默认端口号：80</li>
<li>基于请求响应模型：一次请求对应一次响应</li>
<li>无状态的：每次请求间相互独立，不能进行信息交互</li>
</ol>
</li>
<li>历史版本<ol>
<li>http1.0：每次请求都会新建连接</li>
<li>http1.1：复用连接，缓存优化等…</li>
</ol>
</li>
</ul>
<h5 id="1-请求消息数据格式"><a href="#1-请求消息数据格式" class="headerlink" title="1. 请求消息数据格式"></a>1. 请求消息数据格式</h5><ol>
<li><p>请求行</p>
<ul>
<li><p>请求方式 请求url 请求协议/版本</p>
<p>GET /www.baidu.com HTTP/1.1</p>
</li>
<li><p>请求方式</p>
<ul>
<li>get：<ol>
<li>页面传递参数在请求行中</li>
<li>请求url长度有限制</li>
</ol>
</li>
<li>post：<ol>
<li>页面传递参数在请求体中</li>
<li>参数长度无限制</li>
</ol>
</li>
</ul>
</li>
</ul>
</li>
<li><p>请求头</p>
<ul>
<li><p>请求头名称：请求头值</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 浏览器引擎（可以针对解决兼容问题）：User-Agent:内容</span><br><span class="line">2. Referer: https://www.baidu.com/?tn=15007414_5_dg</span><br><span class="line">	告诉服务器，当前请求从哪里来</span><br><span class="line">		1. 防止盗链接</span><br><span class="line">		2. 统计</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<ol>
<li><p>请求空行</p>
<ul>
<li>空行</li>
</ul>
</li>
<li><p>请求体（正文）</p>
<ul>
<li><p>get方式没有请求体</p>
</li>
<li><p>post方式请求体是页面传输的参数</p>
</li>
<li>参数名称：请求头值</li>
</ul>
</li>
<li><p>请求字符串：</p>
</li>
</ol>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line"><span class="keyword">GET</span> <span class="string">/</span> <span class="meta">HTTP/1.1</span></span><br><span class="line"><span class="attribute">Host</span><span class="punctuation">: </span>www.baidu.com</span><br><span class="line"><span class="attribute">Connection</span><span class="punctuation">: </span>keep-alive</span><br><span class="line"><span class="attribute">sec-ch-ua</span><span class="punctuation">: </span>&quot; Not A;Brand&quot;;v=&quot;99&quot;, &quot;Chromium&quot;;v=&quot;96&quot;, &quot;Microsoft Edge&quot;;v=&quot;96&quot;</span><br><span class="line"><span class="attribute">sec-ch-ua-mobile</span><span class="punctuation">: </span>?0</span><br><span class="line"><span class="attribute">sec-ch-ua-platform</span><span class="punctuation">: </span>&quot;Windows&quot;</span><br><span class="line"><span class="attribute">Upgrade-Insecure-Requests</span><span class="punctuation">: </span>1</span><br><span class="line"><span class="attribute">User-Agent</span><span class="punctuation">: </span>Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.55 Safari/537.36 Edg/96.0.1054.43</span><br><span class="line"><span class="attribute">Accept</span><span class="punctuation">: </span>text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9</span><br><span class="line"><span class="attribute">Sec-Fetch-Site</span><span class="punctuation">: </span>same-origin</span><br><span class="line"><span class="attribute">Sec-Fetch-Mode</span><span class="punctuation">: </span>navigate</span><br><span class="line"><span class="attribute">Sec-Fetch-User</span><span class="punctuation">: </span>?1</span><br><span class="line"><span class="attribute">Sec-Fetch-Dest</span><span class="punctuation">: </span>document</span><br><span class="line"><span class="attribute">Referer</span><span class="punctuation">: </span>https://www.baidu.com/?tn=15007414_5_dg</span><br><span class="line"><span class="attribute">Accept-Encoding</span><span class="punctuation">: </span>gzip, deflate, br</span><br><span class="line"><span class="attribute">Accept-Language</span><span class="punctuation">: </span>zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6</span><br></pre></td></tr></table></figure>
<h5 id="2-响应消息数据格式"><a href="#2-响应消息数据格式" class="headerlink" title="2. 响应消息数据格式"></a>2. 响应消息数据格式</h5><ol>
<li>响应行<ol>
<li>组成：协议/版本  响应状态码 状态码描述</li>
<li>响应状态码：服务器告诉客户端浏览器本次请求和响应的一个状态。<ol>
<li>状态码是3位数字</li>
<li>分类：<ol>
<li>1xx：这一类型的状态码，代表请求已被接受，需要继续处理。这类响应是临时响应，只包含状态行和某些可选的响应头信息，并以空行结束。</li>
<li>2xx：这一类型的状态码，代表请求已成功被服务器接收、理解、并接受。</li>
<li>3xx：这类状态码代表需要客户端采取进一步的操作才能完成请求。通常，这些状态码用来重定向，后续的请求地址（重定向目标）在本次响应的 Location 域中指明。302:重定向，304（访问缓存）</li>
<li>4xx：请求错误。这类的状态码代表了客户端看起来可能发生了错误，妨碍了服务器的处理。404：资源找不到，405：没有对应的doGet或doPost方法</li>
<li>5xx/6xx：服务器错误。这类状态码代表了服务器在处理请求的过程中有错误或者异常状态发生，也有可能是服务器意识到以当前的软硬件资源无法完成对请求的处理。</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li>响应头<ol>
<li>格式：头名称：值</li>
<li>常见的头：<ol>
<li>Content-Type：本次响应体的数据格式和编码格式。</li>
<li>Content-disposition：服务器告诉客户端以什么格式打开响应体数据<ol>
<li>值：<ul>
<li>in-line：默认值，当前页面内打开</li>
<li>attachment;filename=xxx：以附件形式打开响应体。文件下载</li>
</ul>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li>响应空行</li>
<li>响应体（传输的数据）</li>
</ol>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">200</span></span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>text/html;charset=UTF-8</span><br><span class="line"><span class="attribute">Content-Length</span><span class="punctuation">: </span>890</span><br><span class="line"><span class="attribute">Date</span><span class="punctuation">: </span>Mon, 06 Dec 2021 01:41:47 GMT</span><br><span class="line"><span class="attribute">Keep-Alive</span><span class="punctuation">: </span>timeout=20</span><br><span class="line"><span class="attribute">Connection</span><span class="punctuation">: </span>keep-alive</span><br></pre></td></tr></table></figure>
<h4 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h4><p>servlet访问流程</p>
<p><img src="/2021/12/05/http/1.png" alt></p>
<ul>
<li>request对象和response对象是服务器创建，我们进行使用</li>
<li>request对象获取请求消息</li>
<li>response对象设置响应消息</li>
</ul>
<h5 id="3-request对象"><a href="#3-request对象" class="headerlink" title="3. request对象"></a>3. request对象</h5><ol>
<li><p>继承结构</p>
<p>ServletRequest —-接口</p>
<p>⬆   继承</p>
<p>HttpServletRequest —-接口</p>
<p>⬆   实现</p>
<p>org.apache.catalina.connector.RequestFacade</p>
</li>
<li><p>request功能</p>
<ul>
<li><p><strong>获取请求消息</strong></p>
<ul>
<li><p>获取请求行数据(eg: /demo1/login?name = 神仙)</p>
<ol>
<li><p>获取请求方式：get</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function">String <span class="title">getMethod</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>(* 重要)   获取虚拟目录：/demo1</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function">String <span class="title">getContextPath</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>获取servlet路径：/login</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function">String <span class="title">getServletPath</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>获取get方式请求参数：name = 神仙</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function">String <span class="title">getQueryString</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>(* 重要)    获取请求uri/url</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">String getRequestURI() // /demo1/login</span><br><span class="line">String getRequestURL() // http://localhost/demo1/login</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取协议及版本：http/1.1</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function">String <span class="title">getProtocol</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>获取客户端ip地址</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">getRemoteAddr()</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>获取请求头数据</p>
<ol>
<li><p><strong>String getHeader(String name)</strong> 以字符串形式返回指定的请求头的值。（<strong>重要</strong>）</p>
</li>
<li><p><strong>Enumeration getHeaderNames()</strong> 返回一个枚举，包含在该请求中包含的所有的头名。（了解）</p>
<p>Enumeration 相当于迭代器</p>
<ul>
<li>Enumeration .hasmoreElements() 判断是否有下一个</li>
<li>Enumeration .nextElement() 获取下一个元素名称</li>
<li>getHeader(String name)  将名称传入getHeader方法，获取值</li>
</ul>
</li>
</ol>
</li>
<li><p>获取请求体消息</p>
<ol>
<li><p>获取流对象</p>
<ul>
<li><p>BufferedReader getReader)l:获取字符输入流，只能操作字符数据</p>
</li>
<li><p>ServletInputStream getInputstream():获取字节输入流，可以操作所有类型数据</p>
<p>用于文件上传</p>
</li>
</ul>
</li>
<li><p>从流中获取数据</p>
</li>
</ol>
</li>
</ul>
</li>
<li><p><strong>其他功能</strong>（重点）</p>
<ul>
<li><p>获取请求参数通用方法：不论get还是post请求方式都可以使用下列方法来获取请求参数</p>
<ol>
<li>String getParameter(String name)：根据参数名称获取参数值</li>
<li>String getParameterValues(String name)：根据参数名称获取参数值的数组（复选框的value值）</li>
<li>Enumeration<String> getParameterNames()：获取所有请求参数的名称</String></li>
<li>Map<String,String[]> getParameterMap()：获取所有参数的map集合</String,String[]></li>
</ol>
<p>中文乱码问题：</p>
<ul>
<li><p>get方式：tomcat8 已经将乱码问题解决</p>
</li>
<li><p>post方式：中文乱码</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">request.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>请求转发：一种在服务器中资源跳转的方式（浏览器路径栏不变，一次访问，在服务器内部进行）</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">req.getRequestDispatcher(<span class="string">&quot;/login.jsp&quot;</span>).forward(req,resp);</span><br></pre></td></tr></table></figure>
<p>特点：</p>
<ol>
<li>浏览器地址栏不变</li>
<li>一次访问，资源跳转在服务器内部进行</li>
<li>只能访问当前服务器内部资源</li>
<li>可以使用request域对象共享数据</li>
</ol>
</li>
<li><p>共享数据</p>
<ol>
<li><p>request域：一次请求的范围，一般用于请求转发的多个资源中共享数据</p>
<p>方法：</p>
<ul>
<li>setAttribute(String name,Object obj)：向域中存储数据</li>
<li>Object getAttribute(String name)：通过建获取值 </li>
<li>removeAttribute(String name)：通过键删除值</li>
</ul>
</li>
</ol>
</li>
<li><p>获取ServletContext</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function">ServletContext <span class="title">getServletContext</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<h5 id="4-response对象"><a href="#4-response对象" class="headerlink" title="4. response对象"></a>4. response对象</h5><p>设置响应消息</p>
<ol>
<li><p>设置响应行</p>
<ul>
<li>设置状态码</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">setStatus(<span class="keyword">int</span> sc)</span><br></pre></td></tr></table></figure>
</li>
<li><p>设置响应头</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">setHeader(String name,String value)</span><br></pre></td></tr></table></figure>
</li>
<li><p>设置响应体</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span> 获取输出流</span><br><span class="line">	* 字符输出流：<span class="function">printWriter <span class="title">getWriter</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	* 字节输出流：ServletOutputStream <span class="title">getOutputStream</span><span class="params">()</span></span></span><br><span class="line"><span class="function">2. 使用输出流，将数据输出到浏览器</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>案例：</p>
<ul>
<li><p>重定向</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1. 方式1</span></span><br><span class="line"><span class="comment">//设置响应行的响应状态码</span></span><br><span class="line">resp.setStatus(<span class="number">302</span>);</span><br><span class="line"><span class="comment">//设置响应头的，响应路径进行重定向</span></span><br><span class="line">resp.setHeader(<span class="string">&quot;location&quot;</span>,<span class="string">&quot;/login.jsp&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.封装方式2</span></span><br><span class="line">resp.sendRedirect(<span class="string">&quot;/login.jsp&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>特点：</p>
<ul>
<li>转发地址栏改变</li>
<li>可以访问其他站点资源</li>
<li>是两次访问</li>
<li>不能使用request域对象共享数据</li>
</ul>
</li>
<li><p>服务器输出字符数据到浏览器</p>
</li>
<li><p>服务器输出字节数据到浏览器</p>
</li>
</ul>
<h3 id="二、W3Cschool教程"><a href="#二、W3Cschool教程" class="headerlink" title="二、W3Cschool教程"></a>二、W3Cschool教程</h3><h5 id="1-Servlet-客户端-HTTP-请求"><a href="#1-Servlet-客户端-HTTP-请求" class="headerlink" title="1. Servlet 客户端 HTTP 请求"></a>1. Servlet 客户端 HTTP 请求</h5><p>当浏览器请求网页时，它会向 Web 服务器发送特定信息，这些信息不能被直接读取，因为这些信息是作为 HTTP 请求的头的一部分进行传输的。您可以查看 <a href="https://www.w3cschool.cn/http/http-tutorial.html">HTTP 协议</a> 了解更多相关信息。</p>
<p>以下是来自于浏览器端的重要头信息，您可以在 Web 编程中频繁使用：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">头信息</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Accept</td>
<td style="text-align:left">这个头信息指定浏览器或其他客户端可以处理的 MIME 类型。值 <strong>image/png</strong> 或 <strong>image/jpeg</strong> 是最常见的两种可能值。</td>
</tr>
<tr>
<td style="text-align:left">Accept-Charset</td>
<td style="text-align:left">这个头信息指定浏览器可以用来显示信息的字符集。例如 ISO-8859-1。</td>
</tr>
<tr>
<td style="text-align:left">Accept-Encoding</td>
<td style="text-align:left">这个头信息指定浏览器知道如何处理的编码类型。值 <strong>gzip</strong> 或 <strong>compress</strong> 是最常见的两种可能值。</td>
</tr>
<tr>
<td style="text-align:left">Accept-Language</td>
<td style="text-align:left">这个头信息指定客户端的首选语言，在这种情况下，Servlet 会产生多种语言的结果。例如，en、en-us、ru 等。</td>
</tr>
<tr>
<td style="text-align:left">Authorization</td>
<td style="text-align:left">这个头信息用于客户端在访问受密码保护的网页时识别自己的身份。</td>
</tr>
<tr>
<td style="text-align:left">Connection</td>
<td style="text-align:left">这个头信息指示客户端是否可以处理持久 HTTP 连接。持久连接允许客户端或其他浏览器通过单个请求来检索多个文件。值 <strong>Keep-Alive</strong> 意味着使用了持续连接。</td>
</tr>
<tr>
<td style="text-align:left">Content-Length</td>
<td style="text-align:left">这个头信息只适用于 POST 请求，并给出 POST 数据的大小（以字节为单位）。</td>
</tr>
<tr>
<td style="text-align:left">Cookie</td>
<td style="text-align:left">这个头信息把之前发送到浏览器的 cookies 返回到服务器。</td>
</tr>
<tr>
<td style="text-align:left">Host</td>
<td style="text-align:left">这个头信息指定原始的 URL 中的主机和端口。</td>
</tr>
<tr>
<td style="text-align:left">If-Modified-Since</td>
<td style="text-align:left">这个头信息表示只有当页面在指定的日期后已更改时，客户端想要的页面。如果没有新的结果可以使用，服务器会发送一个 304 代码，表示 <strong>Not Modified</strong> 头信息。</td>
</tr>
<tr>
<td style="text-align:left">If-Unmodified-Since</td>
<td style="text-align:left">这个头信息是 If-Modified-Since 的对立面，它指定只有当文档早于指定日期时，操作才会成功。</td>
</tr>
<tr>
<td style="text-align:left">Referer</td>
<td style="text-align:left">这个头信息指示所指向的 Web 页的 URL。例如，如果您在网页 1，点击一个链接到网页 2，当浏览器请求网页 2 时，网页 1 的 URL 就会包含在 Referer 头信息中。</td>
</tr>
<tr>
<td style="text-align:left">User-Agent</td>
<td style="text-align:left">这个头信息识别发出请求的浏览器或其他客户端，并可以向不同类型的浏览器返回不同的内容。</td>
</tr>
</tbody>
</table>
</div>
<h5 id="2-读取-HTTP-头的方法"><a href="#2-读取-HTTP-头的方法" class="headerlink" title="2. 读取 HTTP 头的方法"></a>2. 读取 HTTP 头的方法</h5><p>下面的方法可用在 Servlet 程序中读取 HTTP 头。这些方法通过 <em>HttpServletRequest</em> 对象可用。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">序号</th>
<th style="text-align:left">方法 &amp; 描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left"><strong>Cookie[] getCookies()</strong> 返回一个数组，包含客户端发送该请求的所有的 Cookie 对象。</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left"><strong>Enumeration getAttributeNames()</strong> 返回一个枚举，包含提供给该请求可用的属性名称。</td>
</tr>
<tr>
<td style="text-align:left">3</td>
<td style="text-align:left"><strong>Enumeration getHeaderNames()</strong> 返回一个枚举，包含在该请求中包含的所有的头名。</td>
</tr>
<tr>
<td style="text-align:left">4</td>
<td style="text-align:left"><strong>Enumeration getParameterNames()</strong> 返回一个 String 对象的枚举，包含在该请求中包含的参数的名称。</td>
</tr>
<tr>
<td style="text-align:left">5</td>
<td style="text-align:left"><strong>HttpSession getSession()</strong> 返回与该请求关联的当前 session 会话，或者如果请求没有 session 会话，则创建一个。</td>
</tr>
<tr>
<td style="text-align:left">6</td>
<td style="text-align:left"><strong>HttpSession getSession(boolean create)</strong> 返回与该请求关联的当前 HttpSession，或者如果没有当前会话，且创建是真的，则返回一个新的 session 会话。</td>
</tr>
<tr>
<td style="text-align:left">7</td>
<td style="text-align:left"><strong>Locale getLocale()</strong> 基于 Accept-Language 头，返回客户端接受内容的首选的区域设置。</td>
</tr>
<tr>
<td style="text-align:left">8</td>
<td style="text-align:left"><strong>Object getAttribute(String name)</strong> 以对象形式返回已命名属性的值，如果没有给定名称的属性存在，则返回 null。</td>
</tr>
<tr>
<td style="text-align:left">9</td>
<td style="text-align:left"><strong>ServletInputStream getInputStream()</strong> 使用 ServletInputStream，以二进制数据形式检索请求的主体。</td>
</tr>
<tr>
<td style="text-align:left">10</td>
<td style="text-align:left"><strong>String getAuthType()</strong> 返回用于保护 Servlet 的身份验证方案的名称，例如，”BASIC” 或 “SSL”，如果JSP没有受到保护则返回 null。</td>
</tr>
<tr>
<td style="text-align:left">11</td>
<td style="text-align:left"><strong>String getCharacterEncoding()</strong> 返回请求主体中使用的字符编码的名称。</td>
</tr>
<tr>
<td style="text-align:left">12</td>
<td style="text-align:left"><strong>String getContentType()</strong> 返回请求主体的 MIME 类型，如果不知道类型则返回 null。</td>
</tr>
<tr>
<td style="text-align:left">13</td>
<td style="text-align:left"><strong>String getContextPath()</strong> 返回指示请求上下文的请求 URI 部分。</td>
</tr>
<tr>
<td style="text-align:left">14</td>
<td style="text-align:left"><strong>String getHeader(String name)</strong> 以字符串形式返回指定的请求头的值。</td>
</tr>
<tr>
<td style="text-align:left">15</td>
<td style="text-align:left"><strong>String getMethod()</strong> 返回请求的 HTTP 方法的名称，例如，GET、POST 或 PUT。</td>
</tr>
<tr>
<td style="text-align:left">16</td>
<td style="text-align:left"><strong>String getParameter(String name)</strong> 以字符串形式返回请求参数的值，或者如果参数不存在则返回 null。</td>
</tr>
<tr>
<td style="text-align:left">17</td>
<td style="text-align:left"><strong>String getPathInfo()</strong> 当请求发出时，返回与客户端发送的 URL 相关的任何额外的路径信息。</td>
</tr>
<tr>
<td style="text-align:left">18</td>
<td style="text-align:left"><strong>String getProtocol()</strong> 返回请求协议的名称和版本。</td>
</tr>
<tr>
<td style="text-align:left">19</td>
<td style="text-align:left"><strong>String getQueryString()</strong> 返回包含在路径后的请求 URL 中的查询字符串。</td>
</tr>
<tr>
<td style="text-align:left">20</td>
<td style="text-align:left"><strong>String getRemoteAddr()</strong> 返回发送请求的客户端的互联网协议（IP）地址。</td>
</tr>
<tr>
<td style="text-align:left">21</td>
<td style="text-align:left"><strong>String getRemoteHost()</strong> 返回发送请求的客户端的完全限定名称。</td>
</tr>
<tr>
<td style="text-align:left">22</td>
<td style="text-align:left"><strong>String getRemoteUser()</strong> 如果用户已通过身份验证，则返回发出请求的登录用户，或者如果用户未通过身份验证，则返回 null。</td>
</tr>
<tr>
<td style="text-align:left">23</td>
<td style="text-align:left"><strong>String getRequestURI()</strong> 从协议名称直到 HTTP 请求的第一行的查询字符串中，返回该请求的 URL 的一部分。</td>
</tr>
<tr>
<td style="text-align:left">24</td>
<td style="text-align:left"><strong>String getRequestedSessionId()</strong> 返回由客户端指定的 session 会话 ID。</td>
</tr>
<tr>
<td style="text-align:left">25</td>
<td style="text-align:left"><strong>String getServletPath()</strong> 返回调用 JSP 的请求的 URL 的一部分。</td>
</tr>
<tr>
<td style="text-align:left">26</td>
<td style="text-align:left"><strong>String[] getParameterValues(String name)</strong> 返回一个字符串对象的数组，包含所有给定的请求参数的值，如果参数不存在则返回 null。</td>
</tr>
<tr>
<td style="text-align:left">27</td>
<td style="text-align:left"><strong>boolean isSecure()</strong> 返回一个布尔值，指示请求是否使用安全通道，如 HTTPS。</td>
</tr>
<tr>
<td style="text-align:left">28</td>
<td style="text-align:left"><strong>int getContentLength()</strong> 以字节为单位返回请求主体的长度，并提供输入流，或者如果长度未知则返回 -1。</td>
</tr>
<tr>
<td style="text-align:left">29</td>
<td style="text-align:left"><strong>int getIntHeader(String name)</strong> 返回指定的请求头的值为一个 int 值。</td>
</tr>
<tr>
<td style="text-align:left">30</td>
<td style="text-align:left"><strong>int getServerPort()</strong> 返回接收到这个请求的端口号。</td>
</tr>
</tbody>
</table>
</div>
<h5 id="3-Servlet-服务器-HTTP-响应"><a href="#3-Servlet-服务器-HTTP-响应" class="headerlink" title="3. Servlet 服务器 HTTP 响应"></a>3. Servlet 服务器 HTTP 响应</h5><p>正如前面的章节中讨论的那样，当一个 Web 服务器响应一个 HTTP 请求时，响应通常包括一个状态行、一些响应报头、一个空行和文档。一个典型的响应如下所示：</p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">200</span> OK</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>text/html</span><br><span class="line"><span class="attribute">Header2</span><span class="punctuation">: </span>...</span><br><span class="line">...</span><br><span class="line"><span class="attribute">HeaderN</span><span class="punctuation">: </span>...</span><br><span class="line">  (Blank Line)</span><br><span class="line">&lt;!doctype ...&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;...&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">...</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>状态行包括 HTTP 版本（在本例中为 HTTP/1.1）、一个状态码（在本例中为 200）和一个对应于状态码的短消息（在本例中为 OK）。</p>
<p>下表总结了从 Web 服务器端返回到浏览器的最有用的 HTTP 1.1 响应报头，您会在 Web 编程中频繁地使用它们：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">头信息</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Allow</td>
<td style="text-align:left">这个头信息指定服务器支持的请求方法（GET、POST 等）。</td>
</tr>
<tr>
<td style="text-align:left">Cache-Control</td>
<td style="text-align:left">这个头信息指定响应文档在何种情况下可以安全地缓存。可能的值有：<strong>public、private</strong> 或 <strong>no-cache</strong> 等。Public 意味着文档是可缓存，Private 意味着文档是单个用户私用文档，且只能存储在私有（非共享）缓存中，no-cache 意味着文档不应被缓存。</td>
</tr>
<tr>
<td style="text-align:left">Connection</td>
<td style="text-align:left">这个头信息指示浏览器是否使用持久 HTTP 连接。值 <strong>close</strong> 指示浏览器不使用持久 HTTP 连接，值 <strong>keep-alive</strong> 意味着使用持久连接。</td>
</tr>
<tr>
<td style="text-align:left">Content-Disposition</td>
<td style="text-align:left">这个头信息可以让您请求浏览器要求用户以给定名称的文件把响应保存到磁盘。</td>
</tr>
<tr>
<td style="text-align:left">Content-Encoding</td>
<td style="text-align:left">在传输过程中，这个头信息指定页面的编码方式。</td>
</tr>
<tr>
<td style="text-align:left">Content-Language</td>
<td style="text-align:left">这个头信息表示文档编写所使用的语言。例如，en、en-us、ru 等。</td>
</tr>
<tr>
<td style="text-align:left">Content-Length</td>
<td style="text-align:left">这个头信息指示响应中的字节数。只有当浏览器使用持久（keep-alive）HTTP 连接时才需要这些信息。</td>
</tr>
<tr>
<td style="text-align:left">Content-Type</td>
<td style="text-align:left">这个头信息提供了响应文档的 MIME（Multipurpose Internet Mail Extension）类型。</td>
</tr>
<tr>
<td style="text-align:left">Expires</td>
<td style="text-align:left">这个头信息指定内容过期的时间，在这之后内容不再被缓存。</td>
</tr>
<tr>
<td style="text-align:left">Last-Modified</td>
<td style="text-align:left">这个头信息指示文档的最后修改时间。然后，客户端可以缓存文件，并在以后的请求中通过 <strong>If-Modified-Since</strong> 请求头信息提供一个日期。</td>
</tr>
<tr>
<td style="text-align:left">Location</td>
<td style="text-align:left">这个头信息应被包含在所有的带有状态码的响应中。在 300s 内，这会通知浏览器文档的地址。浏览器会自动重新连接到这个位置，并获取新的文档。</td>
</tr>
<tr>
<td style="text-align:left">Refresh</td>
<td style="text-align:left">这个头信息指定浏览器应该如何尽快请求更新的页面。您可以指定页面刷新的秒数。</td>
</tr>
<tr>
<td style="text-align:left">Retry-After</td>
<td style="text-align:left">这个头信息可以与 503（Service Unavailable 服务不可用）响应配合使用，这会告诉客户端多久就可以重复它的请求。</td>
</tr>
<tr>
<td style="text-align:left">Set-Cookie</td>
<td style="text-align:left">这个头信息指定一个与页面关联的 cookie。</td>
</tr>
</tbody>
</table>
</div>
<h5 id="4-设置-HTTP-响应报头的方法"><a href="#4-设置-HTTP-响应报头的方法" class="headerlink" title="4. 设置 HTTP 响应报头的方法"></a>4. 设置 HTTP 响应报头的方法</h5><p>下面的方法可用于在 Servlet 程序中设置 HTTP 响应报头。这些方法通过 <em>HttpServletResponse</em> 对象可用。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">序号</th>
<th style="text-align:left">方法 &amp; 描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left"><strong>String encodeRedirectURL(String url)</strong> 为 sendRedirect 方法中使用的指定的 URL 进行编码，或者如果编码不是必需的，则返回 URL 未改变。</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left"><strong>String encodeURL(String url)</strong> 对包含 session 会话 ID 的指定 URL 进行编码，或者如果编码不是必需的，则返回 URL 未改变。</td>
</tr>
<tr>
<td style="text-align:left">3</td>
<td style="text-align:left"><strong>boolean containsHeader(String name)</strong> 返回一个布尔值，指示是否已经设置已命名的响应报头。</td>
</tr>
<tr>
<td style="text-align:left">4</td>
<td style="text-align:left"><strong>boolean isCommitted()</strong> 返回一个布尔值，指示响应是否已经提交。</td>
</tr>
<tr>
<td style="text-align:left">5</td>
<td style="text-align:left"><strong>void addCookie(Cookie cookie)</strong> 把指定的 cookie 添加到响应。</td>
</tr>
<tr>
<td style="text-align:left">6</td>
<td style="text-align:left"><strong>void addDateHeader(String name, long date)</strong> 添加一个带有给定的名称和日期值的响应报头。</td>
</tr>
<tr>
<td style="text-align:left">7</td>
<td style="text-align:left"><strong>void addHeader(String name, String value)</strong> 添加一个带有给定的名称和值的响应报头。</td>
</tr>
<tr>
<td style="text-align:left">8</td>
<td style="text-align:left"><strong>void addIntHeader(String name, int value)</strong> 添加一个带有给定的名称和整数值的响应报头。</td>
</tr>
<tr>
<td style="text-align:left">9</td>
<td style="text-align:left"><strong>void flushBuffer()</strong> 强制任何在缓冲区中的内容被写入到客户端。</td>
</tr>
<tr>
<td style="text-align:left">10</td>
<td style="text-align:left"><strong>void reset()</strong> 清除缓冲区中存在的任何数据，包括状态码和头。</td>
</tr>
<tr>
<td style="text-align:left">11</td>
<td style="text-align:left"><strong>void resetBuffer()</strong> 清除响应中基础缓冲区的内容，不清除状态码和头。</td>
</tr>
<tr>
<td style="text-align:left">12</td>
<td style="text-align:left"><strong>void sendError(int sc)</strong> 使用指定的状态码发送错误响应到客户端，并清除缓冲区。</td>
</tr>
<tr>
<td style="text-align:left">13</td>
<td style="text-align:left"><strong>void sendError(int sc, String msg)</strong> 使用指定的状态发送错误响应到客户端。</td>
</tr>
<tr>
<td style="text-align:left">14</td>
<td style="text-align:left"><strong>void sendRedirect(String location)</strong> 使用指定的重定向位置 URL 发送临时重定向响应到客户端。</td>
</tr>
<tr>
<td style="text-align:left">15</td>
<td style="text-align:left"><strong>void setBufferSize(int size)</strong> 为响应主体设置首选的缓冲区大小。</td>
</tr>
<tr>
<td style="text-align:left">16</td>
<td style="text-align:left"><strong>void setCharacterEncoding(String charset)</strong> 设置被发送到客户端的响应的字符编码（MIME 字符集）例如，UTF-8。</td>
</tr>
<tr>
<td style="text-align:left">17</td>
<td style="text-align:left"><strong>void setContentLength(int len)</strong> 设置在 HTTP Servlet 响应中的内容主体的长度，该方法设置 HTTP Content-Length 头。</td>
</tr>
<tr>
<td style="text-align:left">18</td>
<td style="text-align:left"><strong>void setContentType(String type)</strong> 如果响应还未被提交，设置被发送到客户端的响应的内容类型。</td>
</tr>
<tr>
<td style="text-align:left">19</td>
<td style="text-align:left"><strong>void setDateHeader(String name, long date)</strong> 设置一个带有给定的名称和日期值的响应报头。</td>
</tr>
<tr>
<td style="text-align:left">20</td>
<td style="text-align:left"><strong>void setHeader(String name, String value)</strong> 设置一个带有给定的名称和值的响应报头。</td>
</tr>
<tr>
<td style="text-align:left">21</td>
<td style="text-align:left"><strong>void setIntHeader(String name, int value)</strong> 设置一个带有给定的名称和整数值的响应报头。</td>
</tr>
<tr>
<td style="text-align:left">22</td>
<td style="text-align:left"><strong>void setLocale(Locale loc)</strong> 如果响应还未被提交，设置响应的区域。</td>
</tr>
<tr>
<td style="text-align:left">23</td>
<td style="text-align:left"><strong>void setStatus(int sc)</strong> 为该响应设置状态码。</td>
</tr>
</tbody>
</table>
</div>
]]></content>
      <categories>
        <category>servlet</category>
      </categories>
      <tags>
        <tag>http学习</tag>
        <tag>request</tag>
        <tag>response</tag>
      </tags>
  </entry>
  <entry>
    <title>javaScript-1</title>
    <url>/2021/11/25/javaScript-1/</url>
    <content><![CDATA[<h3 id="一、DOM简单实现"><a href="#一、DOM简单实现" class="headerlink" title="一、DOM简单实现"></a>一、DOM简单实现</h3><ul>
<li>功能：控制html文档内容</li>
<li>代码： 获取页面标签(元素)对象 Element<ul>
<li>document.getElementById(“id值”)：通过元素的id值获取元素对象</li>
</ul>
</li>
<li>操作Element对象:<ul>
<li>设置属性值：<ul>
<li>明确获取的对象</li>
<li>查看文档，设置其拥有的属性</li>
</ul>
</li>
<li>修改标签内容：<ul>
<li>Element.innerHTML = “内容”;</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="二、事件的简单学习"><a href="#二、事件的简单学习" class="headerlink" title="二、事件的简单学习"></a>二、事件的简单学习</h3><ul>
<li><p>常用的事件:</p>
<ul>
<li><p>onload 加载完成事件:</p>
<p>页面加载完成之后，常用于做页面js 代码初始化操作</p>
</li>
<li><p>onclick单击事件:<br>常用于按钮的点击响应操作。</p>
</li>
<li><p>onblur失去焦点事件:<br>常用用于输入框失去焦点后验证其输入内容是否合法。</p>
</li>
<li><p>onchange内容发生改变事件:<br>常用于下拉列表和输入框内容发生改变后操作</p>
</li>
<li><p>onsubmit表单提交事件:<br>常用于表单提交前，验证所有表单项是否合法。</p>
</li>
</ul>
</li>
<li><p>功能：某些组件被执行了某些操作后，触发某些代码的执行。</p>
</li>
<li><p>如何绑定事件</p>
<ul>
<li><p>直接在html标签上，指定事件的属性值，属性值就是js代码或者函数</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">eg:&lt;p onclick=&quot;alert(&#x27;点击&#x27;);&quot;&gt;sada&lt;/p&gt;</span><br><span class="line">&lt;p onclick=&quot;fun();&quot;&gt;sada&lt;/p&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>通过js获取元素对象，指定事件属性，设置一个函数</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Element.onclick = fun;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h3 id="三、BOM"><a href="#三、BOM" class="headerlink" title="三、BOM"></a>三、BOM</h3><h5 id="1-概念"><a href="#1-概念" class="headerlink" title="1. 概念"></a>1. 概念</h5><ul>
<li>Browser object Model 浏览器对象模型、将浏览器的各个组成部分封装成对象。</li>
</ul>
<h5 id="2-对象"><a href="#2-对象" class="headerlink" title="2. 对象"></a>2. 对象</h5><ul>
<li>Window(窗口)</li>
<li>Navigator(浏览器)</li>
<li>Screen (客户端屏幕)</li>
<li>History(访问历史)</li>
<li>Location(浏览器地址)</li>
</ul>
<h5 id="3-Window-窗口-对象"><a href="#3-Window-窗口-对象" class="headerlink" title="3. Window(窗口)对象"></a>3. Window(窗口)对象</h5><ul>
<li><p>创建</p>
</li>
<li><p>方法</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 与弹出有关的方法</span><br><span class="line">    alert()		显示带有一段消息和—个确认按钮的警告框。</span><br><span class="line">    confirm()	显示带有一段消息以及确认按钮和取消按钮的对话框。（返回用户点击true和false）</span><br><span class="line">    prompt()	显示可提示用户输入的对话框。（返回用户输入值）</span><br><span class="line">2. 与打开有关的方法</span><br><span class="line">	close()关闭当前浏览器窗口。（谁调用关闭谁）</span><br><span class="line">	open()打开一个新的浏览器窗口。（返回一个window对象）</span><br><span class="line">3. 与定时器有关的方法</span><br><span class="line">	setTimeout()在指定的毫秒数后调用函数或计算表达式。(返回一个唯一标识)</span><br><span class="line">		参数：</span><br><span class="line">			1. js代码或者方法对象</span><br><span class="line">			2. 毫秒值</span><br><span class="line">	clearTimeout()取消申setTimeout()方法设置的timeout。</span><br><span class="line">		eg:</span><br><span class="line">            var id = setTimeout(&quot;alert(&#x27;dsada&#x27;)&quot;,2000);</span><br><span class="line">            clearTimeout(id);</span><br><span class="line">            </span><br><span class="line">	setInterval()按照指定的周期（以毫秒计）来调用函数或计算表达式。</span><br><span class="line">	clearInterval()取消由setInterval()设置的 timeout。</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>属性</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">使用：</span><br><span class="line">window.属性	</span><br><span class="line">直接使用</span><br><span class="line">1. 获取其他的BOM对象</span><br><span class="line">	navigator(浏览器)</span><br><span class="line">    screen (客户端屏幕)</span><br><span class="line">    history(访问历史)</span><br><span class="line">    location(浏览器地址)</span><br><span class="line">2. 获取DOM对象</span><br><span class="line">	document</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>特点</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. Window对象不需要创建可以直接使用window使用。window.方法名();</span><br><span class="line">2. window引用可以省略。方法名();</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="4-Location-浏览器地址"><a href="#4-Location-浏览器地址" class="headerlink" title="4. Location(浏览器地址)"></a>4. Location(浏览器地址)</h5><p><strong>window.location 对象可用于获取当前页面地址（URL）并把浏览器重定向到新页面。</strong></p>
<ul>
<li><p>创建</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. window.location</span><br><span class="line">2. location</span><br></pre></td></tr></table></figure>
</li>
<li><p>方法</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">location.reload(); 重新加载页面</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>属性</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">window.location.href 返回当前页面的 href (URL)</span><br><span class="line">	* location.href = &quot;url&quot;; //设置页面</span><br><span class="line">window.location.hostname 返回 web 主机的域名</span><br><span class="line">window.location.pathname 返回当前页面的路径或文件名</span><br><span class="line">window.location.protocol 返回使用的 web 协议（http: 或 https:）</span><br><span class="line">window.location.assign 加载新文档</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="5-History：历史记录对象"><a href="#5-History：历史记录对象" class="headerlink" title="5. History：历史记录对象"></a>5. History：历史记录对象</h5><ol>
<li><p>创建(获取)：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. window.history;</span><br><span class="line">2. history</span><br></pre></td></tr></table></figure>
</li>
<li><p>方法</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">* back()	加载history列表中的前一个URL。</span><br><span class="line">* forward()	加载history 列表中的下一个URL。</span><br><span class="line">* go()		加载history列表中的某个具体页面。</span><br><span class="line">	*参数:</span><br><span class="line">		正数:前进几个历史记录</span><br><span class="line">		负数:后退几个历史记录</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>属性</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">*length    返回当前窗口历史列表中的URL数量。</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="四、DOM对象"><a href="#四、DOM对象" class="headerlink" title="四、DOM对象"></a>四、DOM对象</h3><h5 id="1-简介"><a href="#1-简介" class="headerlink" title="1. 简介"></a>1. 简介</h5><p><strong>通过 HTML DOM，JavaScript 能够访问和改变 HTML 文档的所有元素。</strong></p>
<p><strong>HTML DOM（文档对象模型）</strong></p>
<p>​    当网页被加载时，浏览器会创建页面的文档对象模型（<em>D</em>ocument <em>O</em>bject <em>M</em>odel）。</p>
<p><em>HTML DOM</em> 模型被结构化为<em>对象树</em>：</p>
<p><img src="/2021/11/25/javaScript-1/1.gif" alt></p>
<p>DOM 是一项 W3C (World Wide Web Consortium) 标准。</p>
<p>DOM 定义了访问文档的标准：</p>
<blockquote>
<p>“W3C 文档对象模型（DOM）是中立于平台和语言的接口，它允许程序和脚本动态地访问、更新文档的内容、结构和样式。”</p>
</blockquote>
<p>W3C DOM 标准被分为 3 个不同的部分：</p>
<ul>
<li>Core DOM - 所有文档类型的标准模型<ul>
<li>document    对象</li>
<li>element        对象</li>
<li>attribute       属性对象</li>
<li>text                对象</li>
<li>comment      注释对象</li>
<li>node              其他对象的父对象</li>
</ul>
</li>
<li>XML DOM - XML 文档的标准模型</li>
<li>HTML DOM - HTML 文档的标准模型</li>
</ul>
<h5 id="2-作用"><a href="#2-作用" class="headerlink" title="2. 作用"></a>2. 作用</h5><p>通过这个对象模型，JavaScript 获得创建动态 HTML 的所有力量：</p>
<ul>
<li>JavaScript 能改变页面中的所有 HTML 元素</li>
<li>JavaScript 能改变页面中的所有 HTML 属性</li>
<li>JavaScript 能改变页面中的所有 CSS 样式</li>
<li>JavaScript 能删除已有的 HTML 元素和属性</li>
<li>JavaScript 能添加新的 HTML 元素和属性</li>
<li>JavaScript 能对页面中所有已有的 HTML 事件作出反应</li>
<li>JavaScript 能在页面中创建新的 HTML 事件</li>
</ul>
<h5 id="3-核心DOM"><a href="#3-核心DOM" class="headerlink" title="3. 核心DOM"></a>3. 核心DOM</h5><ul>
<li><p>document对象</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 创建</span><br><span class="line">	window.document</span><br><span class="line">	document</span><br><span class="line">2. 方法</span><br><span class="line">	获取Element对象∶（数组元素.length,获取长度）</span><br><span class="line">        1. getElementById()︰根据id属性值获取元素对象。id属性值一般唯一</span><br><span class="line">        2. getElementsByTagName():根据元秦名称获取元秦对象们。返回值是一个数组</span><br><span class="line">        3. getElementseyclassName():根掘class属性值获取元素对象们。返回值是一个数组</span><br><span class="line">        4. getElementsByName(): 根据name属性值获取元素对象们。返回值是一个数组</span><br><span class="line">	创建其他DOM对象</span><br><span class="line">        createAttribute(name)</span><br><span class="line">        createComment()</span><br><span class="line">        createElement()</span><br><span class="line">        createTextNode()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>element元素对象</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 获取/创建：通过document来获取和创建</span><br><span class="line">2. 方法：</span><br><span class="line">	1. removeAttribute(): 删除属性</span><br><span class="line">	2. setAttribute(): 设置属性</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>node节点对象</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">*特点:所有dom对象都可以被认为是一个节点</span><br><span class="line">*方法∶</span><br><span class="line">    CRUD dom 树:</span><br><span class="line">        * appendChild():向节点的子节点列表的结尾添加新的子节点。</span><br><span class="line">        * removeChild() :删除(并返回)当前节点的指定子节点。</span><br><span class="line">        * replaceChild() :用新节点替换一个子节点。</span><br><span class="line">*属性︰</span><br><span class="line">	parentNode : 获取父节点</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="4-html-DOM"><a href="#4-html-DOM" class="headerlink" title="4. html DOM"></a>4. html DOM</h5><p>1．标签体的设置和获取:innerHTML</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">元素.innerHTML = &quot;&quot;</span><br><span class="line">元素.innerHTML += &quot;&quot;</span><br></pre></td></tr></table></figure>
<p>2．使用html元素对象的属性</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">查看元素属性</span><br></pre></td></tr></table></figure>
<p>3．控制样式</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">设置样式</span><br><span class="line">	* 使用元素style属性</span><br><span class="line">		1. 元素.style.样式 = &quot;&quot;</span><br><span class="line">		eg:</span><br><span class="line">		div1.style.border = &quot;1px solid black&quot;</span><br><span class="line">		div1.style.fontSize = &quot;20px&quot;   ---注意font-size 设置时去掉&quot;-&quot;第二个单词大写</span><br><span class="line">	* 定义类选择器，使用className设置元素属性值</span><br><span class="line">		div2.className = &quot;&quot;</span><br><span class="line">		</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>javaScript</category>
      </categories>
      <tags>
        <tag>DOM</tag>
        <tag>BOM</tag>
        <tag>事件</tag>
      </tags>
  </entry>
  <entry>
    <title>javaScript</title>
    <url>/2021/11/24/javaScript/</url>
    <content><![CDATA[<h3 id="javaScript-基础"><a href="#javaScript-基础" class="headerlink" title="javaScript 基础"></a>javaScript 基础</h3><ol>
<li><p>定义及引入</p>
<ul>
<li><p>内部Js : 定义<script>，标签体内容就是js代码</p>
</li>
<li><p>外部Js : 定义外部js文件，使用<script src=""></script></p>
</li>
</ul>
</li>
<li><p>注释</p>
<ul>
<li>单行注释： //</li>
<li>多行注释：/**/</li>
</ul>
</li>
<li><p>数据类型</p>
<ul>
<li><p>原始数据类型（基本数据类型）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1.number:数字。 ---整数/小数/NaN(not a number一个不是数字的数字类型)</span><br><span class="line">2.string:字符串。</span><br><span class="line">3.boolean: true和false</span><br><span class="line">4.null: 一个对象为空的占位符</span><br><span class="line">5.undefined: 未定义。 如果一个变量没有给初始化值，则会被默认赋值为undefined</span><br></pre></td></tr></table></figure>
</li>
<li><p>引用数据类型（对象）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">     </span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>变量</p>
<ul>
<li><p>在函数内部定义的变量称为局部变量，其作用域为该函数内部，在该函数外部不能被访问。</p>
</li>
<li><p>定义在函数外部的变量称为全局变量，，其作用域是整个JavaScript代码块。</p>
</li>
<li><p>弱类型的，使用（var 变量名=初始值） ，函数内部不使用var是全局变量</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">定义，输出(document.write())，查看类型（typeof()）</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var num = 1;</span><br><span class="line">    var num1 = 3;</span><br><span class="line">    var num3 = NaN;</span><br><span class="line">    document.write(num+&quot;----&quot;+typeof(num)+&quot;&lt;br&gt;&quot;)</span><br><span class="line">    document.write(num1+&quot;&lt;br&gt;&quot;)</span><br><span class="line">    document.write(num3+&quot;&lt;br&gt;&quot;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<ol>
<li><p>运算符</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 一元运算符：</span><br><span class="line">	* ++</span><br><span class="line">	* --</span><br><span class="line">	* +（-）</span><br><span class="line">		var= +123456”“（字符串转数字）</span><br><span class="line">2. 算术运算符：</span><br><span class="line">	* +、-、*、/、%...</span><br><span class="line">3. 赋值运算符</span><br><span class="line">	* =、+=、-= ...</span><br><span class="line">4. 比较运算符</span><br><span class="line">	1. 字符串比较是，按位比较ASCII码 </span><br><span class="line">	2. 类型不同，先转换类型在比较</span><br><span class="line">	3. 全等于先判断类型，类型相同再比较</span><br><span class="line">	&gt;、 &lt;、 &gt;=、 &lt;=、 ==、 ===(全等于)</span><br><span class="line">5. 逻辑运算符</span><br><span class="line">	&amp;&amp;、||、！</span><br><span class="line">	注意：其他类型转boolean:(语法：!!其他类型)</span><br><span class="line">		1. number: 0或NAN为假，其他为真</span><br><span class="line">		2. string: 除了空字符串(&quot;&quot;)，其他都是true</span><br><span class="line">		3. null&amp;&amp;undefined 都是false</span><br><span class="line">		4. 对象：所有对象都为true</span><br><span class="line">		</span><br><span class="line">6. 三元运算符</span><br><span class="line">	逻辑表达式?a:b</span><br></pre></td></tr></table></figure>
</li>
<li><p>对象</p>
<ul>
<li><p>function对象：函数对象</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">* 创建：</span><br><span class="line">	1. var fun = new Function(形式参数列表，方法体)---基本不用</span><br><span class="line">	2. Function 方法名 (参数列表)&#123;</span><br><span class="line">		方法体</span><br><span class="line">	&#125;</span><br><span class="line">* 方法：	</span><br><span class="line">* 属性：</span><br><span class="line">	length:代表形参个数</span><br><span class="line">* 特点：</span><br><span class="line">	1. 方法定义时，形参类型不用写</span><br><span class="line">	2. 方法是一个对象，如果定义名称相同的方法，会覆盖</span><br><span class="line">	3．在JS中，方法的调用只与方法的名称有关，和参数列表无关</span><br><span class="line">	4．在方法声明中有一个隐藏的内置对象（数组）,arguments,封装所有的实际参数</span><br><span class="line">* 调用：</span><br><span class="line">	方法名称(实际参数列表)</span><br></pre></td></tr></table></figure>
</li>
<li><p>Array:数字对象</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 创建：</span><br><span class="line">	1. var arr = new Array(元素列表);</span><br><span class="line">	2. var arr = new Array(默认长度);</span><br><span class="line">	3. var arr = [元素列表]</span><br><span class="line">2. 方法：</span><br><span class="line">	* join():将数组中的元素拼接为字符串</span><br><span class="line">	* join(参数):将数组中的元素按照指定的分割符拼接为字符串</span><br><span class="line">		eg：join(&quot;--&quot;)</span><br><span class="line">	* push():在数组的尾部添加一个元素</span><br><span class="line">	* pop():删除并返回数组的最后一个元素</span><br><span class="line">	* sort(); 排序</span><br><span class="line">	* reverse(): 颠倒数组元素</span><br><span class="line">	* toString(): 数组转化为字符串并返回</span><br><span class="line">3. 属性：</span><br><span class="line">	arr.length</span><br><span class="line">4. 特点：</span><br><span class="line">	* JS 中，数组元素的类型可变</span><br><span class="line">		eg:var arr = [1,&quot;asd&quot;,true]</span><br><span class="line">	* </span><br><span class="line">5. 访问：</span><br><span class="line">	* 通过下标索引:</span><br><span class="line">		eg: arr[1]</span><br></pre></td></tr></table></figure>
</li>
<li><p>Data对象</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 创建：</span><br><span class="line">	var date = new Date();</span><br><span class="line"></span><br><span class="line">2. 方法：</span><br><span class="line">	toLocalString():返回当前date对象对应时间的本地格式字符串</span><br><span class="line">	getTime():获取毫秒值。1970/1/1---当前</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>Math对象</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 创建：</span><br><span class="line">	不用创建，直接使用</span><br><span class="line">		Math.方法名();</span><br><span class="line"></span><br><span class="line">2. 方法：</span><br><span class="line">	random() -- 0-1之间的随机数(不包含1)</span><br><span class="line">	ceil(x) --对数进行上舍入</span><br><span class="line">	floor(x) --对数进行下舍入</span><br><span class="line">	round(x) --四舍五入</span><br><span class="line">3. 属性：</span><br><span class="line">	Math.PI</span><br></pre></td></tr></table></figure>
</li>
<li><p>正则表达式规则</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">一、正则表达式(regular expression)描述了一种字符串匹配的模式（pattern），可以用来检查一个串是否含有某种子串、将匹配的子串替换或者从某个串中取出符合某个条件的子串等。</span><br><span class="line">1. 单个字符：[]</span><br><span class="line">	eg：[a] [ab] [a-zA-Z0-9]</span><br><span class="line">	* 特殊符号代表特殊含义的单个字符：</span><br><span class="line">		\d：单个数字</span><br><span class="line">		\w：匹配字母或数字或下划线或汉字 等价于 &#x27;[^A-Za-z0-9_]&#x27;。</span><br><span class="line">		\s: 匹配任意的空白符</span><br><span class="line">		\b: 匹配单词的开始或结束</span><br><span class="line">		^:  匹配字符串的开始</span><br><span class="line">		$:  匹配字符串的结束</span><br><span class="line">2. 量词符号：</span><br><span class="line">	?: 表示出现0次或者1次</span><br><span class="line">	*： 表示出现0次或多次</span><br><span class="line">	+： 表示出现1次或者多次</span><br><span class="line">	eg:</span><br><span class="line">		\w*  --出现一次或者多次</span><br><span class="line">		\w&#123;m,n&#125;  --出现m-n次</span><br><span class="line">3.开始结束符号</span><br><span class="line">	* ^ 开始 </span><br><span class="line">	* $ 结束</span><br></pre></td></tr></table></figure>
</li>
<li><p>RegExp：正则表达式对象</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 创建：</span><br><span class="line">	1. var reg = new RegExp(&quot;正则表达式&quot;); -- 注意：不常用，并且其中&#x27;\&#x27;要使用转义符&quot;\\&quot;</span><br><span class="line">	2. var reg = /正则表达式/; -- 不用转义符，直接写正则表达式</span><br><span class="line">	eg:</span><br><span class="line">		var reg = new RegExp(&quot;^\w&#123;1,2&#125;$&quot;)</span><br><span class="line">        var reg1 = /^w&#123;6,12&#125;$/</span><br><span class="line"></span><br><span class="line">2. 方法：</span><br><span class="line">	test():验证指定字符串是否符合正则定义的规范</span><br><span class="line">3. 属性：</span><br><span class="line">	Math.PI</span><br></pre></td></tr></table></figure>
</li>
<li><p>Global对象</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 特点：全局对象，这个对象中的方法不需要对象就可以之间访问 </span><br><span class="line">	格式： 方法名()</span><br><span class="line">	eg：</span><br><span class="line"></span><br><span class="line">2. 方法：</span><br><span class="line">	1. encodeURI() : URI编码 </span><br><span class="line">    此函数对特殊字符进行编码，除了： , / ? : @ &amp; = + $ #（请使用 encodeURIComponent() 对这些字符进行编码）。</span><br><span class="line">    eg:</span><br><span class="line">	2. decodeURI() : URI解码 </span><br><span class="line">	此函数对已编码的 URI 进行解码。</span><br><span class="line">	</span><br><span class="line">    //编码的字符更多</span><br><span class="line">	3. decodeURIComponent() ：URI解码</span><br><span class="line">	4. encodeURIComponent() : URI编码</span><br><span class="line">	</span><br><span class="line">	5. parseInt()</span><br><span class="line">			* 逐一判断每一个字符是否是数字，将前面的数字部分转换为number</span><br><span class="line">	6. isNaN();判断一个值是否是NaN</span><br><span class="line">			* NaN十分特殊。NaN参与的==比较全部问false</span><br><span class="line">	7. eval(): 将JavaScript 字符串 作为脚本代码执行执行</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
]]></content>
      <categories>
        <category>javaScript</category>
      </categories>
      <tags>
        <tag>javaScript学习</tag>
      </tags>
  </entry>
  <entry>
    <title>jquery_animation</title>
    <url>/2022/02/16/jquery-animation/</url>
    <content><![CDATA[<h1 id="jquery高级"><a href="#jquery高级" class="headerlink" title="jquery高级"></a>jquery高级</h1><h2 id="一、jQuery动画"><a href="#一、jQuery动画" class="headerlink" title="一、jQuery动画"></a>一、jQuery动画</h2><ol>
<li><p>三种方式显示和隐藏元素</p>
<ul>
<li><p>默认显示和隐藏方式</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">//参数</span><br><span class="line">//1.speed: 动画速度.三个预定义值（&quot;slow&quot;,&quot;normal&quot;,&quot;fast&quot;）,或者传入动画时长毫秒值</span><br><span class="line">//2.easing:</span><br><span class="line">//	* swing:动画执行时效果先慢，中间快，最后慢（默认）</span><br><span class="line">//	* linear:动画匀速</span><br><span class="line">//3.fn:动画完成时执行的函数，每个元素执行一次</span><br><span class="line">1.show([speed],[easing],[fn])</span><br><span class="line">2.hide([speed],[easing],[fn])</span><br><span class="line">3.toggle([speed],[easing],[fn])</span><br><span class="line">eg:</span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.div1</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>元素显示和隐藏动画<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;div1&quot;</span>&gt;</span></span><br><span class="line">        hh</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;b1&quot;</span>&gt;</span>默认动画显示<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;b2&quot;</span>&gt;</span>默认动画隐藏<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;b3&quot;</span>&gt;</span>默认动画显示和隐藏<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">&quot;#b1&quot;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// $(&quot;.div1&quot;).show(&quot;slow&quot;,&quot;swing&quot;,function()&#123;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//     alert(&quot;显示&quot;);</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// &#125;);</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">&quot;.div1&quot;</span>).show(<span class="string">&quot;slow&quot;</span>,<span class="string">&quot;swing&quot;</span>);</span></span><br><span class="line"><span class="javascript">        &#125;);</span></span><br><span class="line"><span class="javascript">        $(<span class="string">&quot;#b2&quot;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// $(&quot;.div1&quot;).hide(&quot;slow&quot;,&quot;swing&quot;,function()&#123;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//     alert(&quot;隐藏&quot;);</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// &#125;);</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">&quot;.div1&quot;</span>).hide(<span class="string">&quot;slow&quot;</span>,<span class="string">&quot;swing&quot;</span>);</span></span><br><span class="line"><span class="javascript">        &#125;);</span></span><br><span class="line"><span class="javascript">        $(<span class="string">&quot;#b3&quot;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// $(&quot;.div1&quot;).toggle(&quot;slow&quot;,&quot;swing&quot;,function()&#123;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//     alert(&quot;隐藏&quot;);</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// &#125;);</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">&quot;.div1&quot;</span>).toggle(<span class="string">&quot;slow&quot;</span>,<span class="string">&quot;swing&quot;</span>);</span></span><br><span class="line"><span class="javascript">        &#125;);</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>滑动显示和隐藏方式</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span> slideDown([speed],[easing],[fn])</span><br><span class="line"><span class="number">2.</span> slideUp([speed],[easing],[fn])</span><br><span class="line"><span class="number">3.</span> slideToggle([speed],[easing],[fn])</span><br></pre></td></tr></table></figure>
</li>
<li><p>淡入淡出显示和隐藏方式</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span>fadeIn([speed],[easing],[fn])</span><br><span class="line"><span class="number">2.</span>fadeOut([speed],[easing],[fn])</span><br><span class="line"><span class="number">3.</span>fadeToggle([speed],[easing],[fn])</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<h2 id="二、jQuery遍历"><a href="#二、jQuery遍历" class="headerlink" title="二、jQuery遍历"></a>二、jQuery遍历</h2><ol>
<li><p>js遍历方式</p>
<ul>
<li><p>for(初始化值；循环结束条件；步长)</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;city&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>北京<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>上海<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>武汉<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>深圳<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>重庆<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>成都<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> ulcity = $(<span class="string">&quot;#city li&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> len = ulcity.length;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i&lt;len;i++)&#123;</span></span><br><span class="line"><span class="javascript">            alert(ulcity[i].innerHTML);</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<ol>
<li><p>jq遍历方式</p>
<ul>
<li><p>jq对象.each(callback函数)</p>
</li>
<li><p><strong>通过callback函数的返回值可以控制循环，达到break和continue的效果</strong></p>
<ul>
<li>return false；相当于break</li>
<li>return true；相当于continue</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;city&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>北京<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>上海<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>武汉<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>深圳<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>重庆<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>成都<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> ulcity = $(<span class="string">&quot;#city li&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="comment">//第一种方式</span></span></span><br><span class="line"><span class="javascript">        ulcity.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//this代表每次遍历得到的js对象</span></span></span><br><span class="line"><span class="javascript">            alert(<span class="built_in">this</span>.innerHTML);</span></span><br><span class="line"><span class="javascript">        &#125;);</span></span><br><span class="line"><span class="javascript">        <span class="comment">//第二种方式</span></span></span><br><span class="line"><span class="javascript">        ulcity.each(<span class="function"><span class="keyword">function</span>(<span class="params">index,element</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//index代表遍历索引</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//element代表每次遍历得到的js对象次</span></span></span><br><span class="line"><span class="javascript">            alert(<span class="string">&quot;第&quot;</span>+index+<span class="string">&quot;次 : &quot;</span>+element.innerHTML);</span></span><br><span class="line"><span class="javascript">        &#125;);</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<ul>
<li><p>(jQuery或者$).each(object,callback函数)————-jquery可以用\$符号代替</p>
<ul>
<li>使用方法同上</li>
</ul>
</li>
<li><p>for..of: （jquery3.0以上）</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">eg:</span><br><span class="line"><span class="keyword">for</span>(li <span class="keyword">of</span> citys)&#123;</span><br><span class="line">	alert($(li).html());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="三、jQuery事件绑定"><a href="#三、jQuery事件绑定" class="headerlink" title="三、jQuery事件绑定"></a>三、jQuery事件绑定</h2><ol>
<li><p>jquery标准的绑定事件方式</p>
<ul>
<li>jq对象.事件方法（回调函数）;</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mouseover(回调函数):鼠标移动到元素上</span><br><span class="line">mouseout(回调函数):鼠标从元素上移出</span><br><span class="line">click(回调函数):鼠标点击</span><br><span class="line">* 特殊的事件</span><br><span class="line">1. focus():直接调用focus()，不传入回调函数，则表示让元素获得焦点。</span><br><span class="line">2. 表单对象.submit(): //让表单提交</span><br></pre></td></tr></table></figure>
</li>
<li><p>on绑定事件/off解除绑定</p>
<ul>
<li>jq对象.on(“事件名称”，回调函数)；</li>
<li>jq对象.off(“事件名称”)；<ul>
<li>如果off()函数不传递任何参数，则会将调用方法的元素上的所有事件全部解绑</li>
</ul>
</li>
</ul>
</li>
<li><p>事件切换：toggle（jquery1.9以上版本将次功能删除，如果要使用则要导入jQuery Migrate(迁移) js文件）</p>
<ul>
<li>jq对象.toggle(fn1,fn2,…)；———-fni 代表第几个回调函数</li>
</ul>
</li>
</ol>
<h2 id="四、案例"><a href="#四、案例" class="headerlink" title="四、案例"></a>四、案例</h2><ol>
<li><p>广告图片显示</p>
<ul>
<li>页面弹出3秒后淡入图片</li>
<li>使用定时器<ul>
<li>setTimeout(函数，时间t)；// t毫秒后执行</li>
<li>setInterval(函数，时间t)；// 每t毫秒后循环执行</li>
</ul>
</li>
<li>定时器停止<ul>
<li>setInterval函数会返回一个startID</li>
<li>clearInterval(startID);和clearTimeout就可以停止</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">&quot;.div1&quot;</span>).fadeToggle(<span class="number">3000</span>,<span class="string">&quot;swing&quot;</span>);</span></span><br><span class="line"><span class="javascript">        &#125;,<span class="number">3000</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">&quot;.div1&quot;</span>).fadeToggle(<span class="number">3000</span>,<span class="string">&quot;swing&quot;</span>);</span></span><br><span class="line"><span class="javascript">        &#125;,<span class="number">8000</span>);</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>抽奖案例</p>
<ul>
<li>点击抽奖按钮，图片进行快速变动</li>
<li>点击停止，图片定格，并且以动画形式显示</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;div1&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./imgs/picture/001.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">id</span>=<span class="string">&quot;img1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;b1&quot;</span>&gt;</span>抽奖<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;b2&quot;</span> <span class="attr">disabled</span>&gt;</span>停止<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./imgs/picture/001.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">id</span>=<span class="string">&quot;img2&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display: none;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> pre_imgssrc = <span class="string">&quot;./imgs/picture/&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> end_imgssrc = <span class="string">&quot;.jpg&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> startID;</span></span><br><span class="line"><span class="javascript">       $(<span class="string">&quot;#b1&quot;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">           $(<span class="string">&quot;#img2&quot;</span>).slideUp(<span class="string">&quot;fast&quot;</span>,<span class="string">&quot;swing&quot;</span>);</span></span><br><span class="line"><span class="javascript">           $(<span class="string">&quot;#b1&quot;</span>).prop(<span class="string">&quot;disabled&quot;</span>,<span class="literal">true</span>);</span></span><br><span class="line"><span class="javascript">           $(<span class="string">&quot;#b2&quot;</span>).prop(<span class="string">&quot;disabled&quot;</span>,<span class="literal">false</span>);</span></span><br><span class="line"><span class="javascript">        startID = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> num = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*<span class="number">199</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> middle = <span class="string">&quot;&quot;</span>;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(num&gt;=<span class="number">100</span>)</span></span><br><span class="line"><span class="javascript">                    middle = <span class="string">&quot;&quot;</span>+num;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">else</span> <span class="keyword">if</span>(num&gt;=<span class="number">10</span>)</span></span><br><span class="line"><span class="javascript">                    middle = <span class="string">&quot;0&quot;</span>+num;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">else</span></span></span><br><span class="line"><span class="javascript">                    middle = <span class="string">&quot;00&quot;</span>+num;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">&quot;#img1&quot;</span>).prop(<span class="string">&quot;src&quot;</span>,pre_imgssrc+middle+end_imgssrc);</span></span><br><span class="line"><span class="javascript">            &#125;,<span class="number">20</span>);</span></span><br><span class="line"><span class="javascript">       &#125;);</span></span><br><span class="line"><span class="javascript">       $(<span class="string">&quot;#b2&quot;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">clearInterval</span>(startID);</span></span><br><span class="line"><span class="javascript">        $(<span class="string">&quot;#img2&quot;</span>).prop(<span class="string">&quot;src&quot;</span>,$(<span class="string">&quot;#img1&quot;</span>).prop(<span class="string">&quot;src&quot;</span>)).slideDown(<span class="string">&quot;slow&quot;</span>,<span class="string">&quot;swing&quot;</span>);</span></span><br><span class="line"><span class="javascript">        $(<span class="string">&quot;#b1&quot;</span>).prop(<span class="string">&quot;disabled&quot;</span>,<span class="literal">false</span>);</span></span><br><span class="line"><span class="javascript">        $(<span class="string">&quot;#b2&quot;</span>).prop(<span class="string">&quot;disabled&quot;</span>,<span class="literal">true</span>);</span></span><br><span class="line"><span class="javascript">       &#125;);</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="五、插件：增强jQuery功能"><a href="#五、插件：增强jQuery功能" class="headerlink" title="五、插件：增强jQuery功能"></a>五、插件：增强jQuery功能</h2><ol>
<li><p>实现方式：</p>
<ul>
<li><p>$.fn.extend(object)</p>
<ul>
<li><p>增强jQuery获取的对象的功能 eg:$(“#id”)</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    $.fn.extend(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">check</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            alert(<span class="string">&quot;123&quot;</span>);</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">&quot;#b1&quot;</span>).check();</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<ul>
<li><p>$.extend(object)</p>
<ul>
<li><p>增强jQuery对象自身的功能</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    $.extend(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">max</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span>(a&gt;b)</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> a;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">else</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> b;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        alert($.max(<span class="number">5</span>,<span class="number">66</span>));</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<ol>
<li><p>案例：</p>
<ol>
<li><p>弹出数字方法：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    $.fn.extend(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">check</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            alert(<span class="string">&quot;123&quot;</span>);</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">&quot;#b1&quot;</span>).check();</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>复选框选中与不选中</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    $.fn.extend(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">check</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.prop(<span class="string">&quot;checked&quot;</span>,<span class="literal">true</span>);</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="attr">uncheck</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.prop(<span class="string">&quot;checked&quot;</span>,<span class="literal">false</span>);</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">&quot;#b1&quot;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">&quot;input[type=&#x27;checkbox&#x27;]&quot;</span>).check();</span></span><br><span class="line"><span class="javascript">        &#125;);</span></span><br><span class="line"><span class="javascript">        $(<span class="string">&quot;#b2&quot;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">&quot;input[type=&#x27;checkbox&#x27;]&quot;</span>).uncheck();</span></span><br><span class="line"><span class="javascript">        &#125;);</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;b1&quot;</span>&gt;</span>全选<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;b2&quot;</span>&gt;</span>全不选<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    a：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;&quot;</span> <span class="attr">id</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">    b：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;&quot;</span> <span class="attr">id</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">    c：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;&quot;</span> <span class="attr">id</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>返回两数中较大的数</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    $.extend(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">max</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span>(a&gt;b)</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> a;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">else</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> b;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        alert($.max(<span class="number">5</span>,<span class="number">66</span>));</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>jquery</category>
      </categories>
      <tags>
        <tag>jquery</tag>
      </tags>
  </entry>
  <entry>
    <title>jquery</title>
    <url>/2022/01/27/jquery/</url>
    <content><![CDATA[<h3 id="1-jquery快速入门"><a href="#1-jquery快速入门" class="headerlink" title="1.jquery快速入门"></a>1.jquery快速入门</h3><ul>
<li>下载jquery</li>
<li>导入jquery的js文件<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;./resources/js/jquery-3.4.1.min.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
<li>使用<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//根据元素id获取元素JQuery对象</span></span><br><span class="line"><span class="keyword">var</span> div1 = $(<span class="string">&quot;#div1&quot;</span>);</span><br><span class="line"><span class="comment">//JS对象使用innerHTML获取标签体的内容，JQuery对象用html()方法</span></span><br><span class="line">alert(div1.html());</span><br></pre></td></tr></table></figure>
<h3 id="2-JQuery对象与JS对象的区别与转换"><a href="#2-JQuery对象与JS对象的区别与转换" class="headerlink" title="2.JQuery对象与JS对象的区别与转换"></a>2.JQuery对象与JS对象的区别与转换</h3></li>
<li>使用js和Jq获取的元素对象是有区别的（方法不通用）  <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1.js和jq两种方式通过标签获取到的元素对象集合都可以当成数组使用，但是jq使用起来更为方便</span></span><br><span class="line"><span class="comment">//获取js元素</span></span><br><span class="line"><span class="keyword">var</span> divs = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">alert(divs.length);</span><br><span class="line"><span class="comment">//获取JQuery元素</span></span><br><span class="line"><span class="keyword">var</span> jqDivs = $(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">alert($divs.length);</span><br><span class="line"><span class="comment">//2. 遍历获取到的元素对象，将标签体的内容修改为“aaa”</span></span><br><span class="line"><span class="comment">// * js 操作</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i&lt;divs.length;i++)&#123;</span><br><span class="line">    divs[i].innerHTML = <span class="string">&quot;aaa&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// * jq操作</span></span><br><span class="line"><span class="comment">// html(&quot;aaa&quot;)会修改所有的元素标签体</span></span><br><span class="line">jqDivs.html(<span class="string">&quot;aaa&quot;</span>);</span><br></pre></td></tr></table></figure></li>
<li><p>相互转换</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//js对象转换为jq对象</span></span><br><span class="line">$(js对象)</span><br><span class="line"><span class="comment">//jq对象转换为js对象</span></span><br><span class="line">jq对象[索引]  <span class="comment">// eg: $(&quot;#div1&quot;)[0]</span></span><br><span class="line">jq对象.get(索引)</span><br></pre></td></tr></table></figure>
<h3 id="3-选择器（筛选具有相同特征的元素）"><a href="#3-选择器（筛选具有相同特征的元素）" class="headerlink" title="3.选择器（筛选具有相同特征的元素）"></a>3.选择器（筛选具有相同特征的元素）</h3></li>
<li><p>获取父元素</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">//parent是找当前元素的第一个父节点，parents是找当前元素的所有父节点 </span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&#x27;div1&#x27;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&#x27;div2&#x27;</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&#x27;div3&#x27;</span> <span class="attr">class</span>=<span class="string">&#x27;a&#x27;</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&#x27;div4&#x27;</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">$(&#x27;p&#x27;).parent()取到的是div2,div3,div4</span><br><span class="line">$(&#x27;p&#x27;).parent(&#x27;.a&#x27;)取到的是div3</span><br><span class="line">$(&#x27;p&#x27;).parent().parent()取到的是div1</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>基本语法学习：</p>
<ul>
<li>事件绑定<ol>
<li>绑定点击事件： <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//js中的写法</span></span><br><span class="line">js对象.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//使用jq对象的click(function)方法，传入一个匿名函数</span></span><br><span class="line">$(<span class="string">&quot;#b1&quot;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li>入口函数<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//js中的写法</span></span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//jq中的写法(dom文档加载完后就执行)</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//两种方式有区别</span></span><br><span class="line"><span class="comment">//* window.onload只能定义一次，多次则会将前面的覆盖</span></span><br><span class="line"><span class="comment">//$(function()方式可以定义多次，绑定多个function</span></span><br></pre></td></tr></table></figure></li>
<li><p>样式控制</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//使用jq对象.css(&quot;&quot;,&quot;&quot;)方法，传入两个参数：样式名称，样式值</span></span><br><span class="line">$(<span class="string">&quot;#div1&quot;</span>).css(<span class="string">&quot;background-color&quot;</span>,<span class="string">&quot;red&quot;</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>分类</p>
<ul>
<li>基本选择器：</li>
<li>1、标签选择器(元素选择器)<ul>
<li>标签选择器：语法:$(“html标签名”)获得所有匹配标签名称的元素</li>
<li>id选择器：语法:$(“#id的属性值”)获得与指定id属性值匹配的元素</li>
<li>类选择器：语法︰$(“.class的属性值”)获得与指定的class属性值匹配的元秦</li>
<li>并集选择器：语法:$(“选择器1,选择器2”)</li>
</ul>
</li>
<li>2、层级选择器<ul>
<li>后代选择器（所有后代）：语法:$(“A B “)选择A元秦内部的所有B元素</li>
<li>子选择器（只选择下一级）：语法:$(“A&gt;B”)选择A元素内部的所有B子元素</li>
</ul>
</li>
<li>3、属性选择器<ul>
<li>属性名称选择器：语法:$(“A[属性名]”)包含指定属性的选择器</li>
<li>属性选择器：语法:$(“A[属性名=’值’]”)包含指定属性等于指定值的选择器<ul>
<li>A[属性名!=’值’]:不等于’值’</li>
<li>A[属性名^=’值’]:以’值’开始</li>
<li>A[属性名$=’值’]:以’值’结束</li>
<li>A[属性名*=’值’]:包函’值’</li>
</ul>
</li>
<li>复合属性选择器：语法:$(“A[属性名=’值’][]…”)包含多个属性条件的选择器</li>
</ul>
</li>
<li>4、过滤选择器<ul>
<li>首元素选择器：语法 —- :first获得选择的元素中的第一个元素</li>
<li>尾元素选择器：语法—- :last获得选择的元素中的最后一个元素</li>
<li>非元素选择器：语法—-   :not(selector)不包括指定内容的元素 eg: $(“div:not(.one)”)</li>
<li>偶数选择器：语法—-      :even偶数，从o 开始计数</li>
<li>奇数选择器：语法—-       :odd奇数，从o 开始计数</li>
<li>等于索引选择器：语法—-   :ea(index)指定索引元素</li>
<li>大于索引选择器：语法—-   :gt(index)大于指定索引元素</li>
<li>小于索引选择器：语法—-   :lt(index)小于指定索引元秦</li>
<li>标题选择器：语法—-           :header获得标题(h1~h6)元素，固定写法</li>
</ul>
</li>
<li>5、表单过滤选择器</li>
<li>可用元素选择器：语法—-           :enabled 获得可用元素</li>
<li>不可用元素选择器：语法—-       :disabled获得不可用元素</li>
<li>选中选择器：语法—-                   : checked 获得单选/复选框选中的元素</li>
<li>选中选择器：语法—-                   :selected 获得下拉框选中的元素</li>
</ul>
</li>
</ul>
</li>
<li><p>DOM操作 </p>
</li>
</ul>
<ol>
<li><p>内容操作</p>
<ol>
<li>html():获取/设置元秦的标签体内容〈a&gt;<font>内容</font>&lt;/a&gt; —&gt;〈font&gt;内容&lt;/font&gt;</li>
<li>text():获取/设置元秦的标签体纯文本内容〈a&gt;<font>内容</font>&lt;/a&gt;—&gt;内容</li>
<li>val(:获取/设置元素的value属性值</li>
</ol>
</li>
<li><p>属性操作</p>
</li>
</ol>
<ul>
<li><p>通用属性操作</p>
<ol>
<li>attr():获取/设置元素的属性</li>
<li>removeAttr():删除属性</li>
<li>prop():获取/设置元素的属性</li>
<li>emoveProp():删除属性</li>
</ol>
<ul>
<li>attr和prop区别?</li>
</ul>
<ol>
<li>如果操作的是元素的固有属性，则建议使用prop</li>
<li>如果操作的是元素自定义的属性，则建议使用attr</li>
</ol>
</li>
<li><p>对class属性操作</p>
</li>
</ul>
<ol>
<li>addclass():添加class属性值</li>
<li>removeclass():删除class属性值</li>
<li>toggleclass():切换class属性</li>
</ol>
<ul>
<li>toggleclass( “one” ) :<ul>
<li>判断如果元素对象上存在class=”one”，则将属性值one删除掉。如果元素对象上不存在class=”one”，则添加</li>
</ul>
</li>
</ul>
<p>3.CRUD操作</p>
<ul>
<li>append():父元素将子元素追加到末尾<ul>
<li>对象1.append(对象2)：将对象2添加到对象1元素的内部的末尾</li>
</ul>
</li>
<li>prepend():父元素将子元素追加到开头<ul>
<li>对象1.prepend(对象2)：对象2添加到对象1元素内部的开头</li>
</ul>
</li>
<li>appendTo():与append()相反<ul>
<li>对象1.append(对象2)：对象1添加到对象2元素末尾</li>
<li>注意：如果 对象1 是已存在的元素，它将从当前位置被移除。</li>
</ul>
</li>
<li>prependTo():与prepend()相反<ul>
<li>对象1.prepend(对象2)：对象1添加到对象2开头</li>
<li>注意：如果 对象1 是已存在的元素，它将从当前位置被移除。</li>
</ul>
</li>
<li>after():添加元素到元素后<ul>
<li>对象1.after(对象2)：将对象2添加到对象1后</li>
</ul>
</li>
<li>before():添加元素到元素前面<ul>
<li>对象1.before(对象2)：将对象2添加到对象1前面</li>
</ul>
</li>
<li>insertAfter():<ul>
<li>对象1.insertAfter(对象2)：将对象1添加到对象2后面</li>
<li>注意：如果 对象1 是已存在的元素，它将从它的当前位置被移除，并被插入在被选元素之后。</li>
</ul>
</li>
<li>insertBefore():<ul>
<li>对象1.insertBefore(对象2)：将对象1添加到对象2前面</li>
</ul>
</li>
<li>remove():<ul>
<li>对象.remove():将对象删除</li>
</ul>
</li>
<li>empty():<ul>
<li>将元素后代元素全部清空，但是保留当前对象和属性</li>
</ul>
</li>
</ul>
<h3 id="jq对象的克隆方法"><a href="#jq对象的克隆方法" class="headerlink" title="jq对象的克隆方法"></a>jq对象的克隆方法</h3><p>$(“”) .clone()，返回当前对象的克隆对象</p>
<p>使用append()方法时如果不想变动当前对象，则可以使用克隆对象</p>
]]></content>
      <categories>
        <category>jquery</category>
      </categories>
      <tags>
        <tag>jquery</tag>
      </tags>
  </entry>
  <entry>
    <title>jsp</title>
    <url>/2021/12/13/jsp/</url>
    <content><![CDATA[<h3 id="一、jsp简介"><a href="#一、jsp简介" class="headerlink" title="一、jsp简介"></a>一、jsp简介</h3><p><strong>JSP</strong>（全称<strong>J</strong>ava<strong>S</strong>erver <strong>P</strong>ages），java服务器页面</p>
<ul>
<li>特殊的页面，即可以定义html又可以定义java代码</li>
<li>用于简化书写</li>
</ul>
<h5 id="1-服务器访问jsp原理"><a href="#1-服务器访问jsp原理" class="headerlink" title="1. 服务器访问jsp原理"></a>1. 服务器访问jsp原理</h5><p><img src="/2021/12/13/jsp/1.png" alt></p>
<ul>
<li>jsp本质上是一个servlet</li>
</ul>
<h5 id="2-jsp脚本：jsp定义Java代码的方式"><a href="#2-jsp脚本：jsp定义Java代码的方式" class="headerlink" title="2. jsp脚本：jsp定义Java代码的方式"></a>2. jsp脚本：jsp定义Java代码的方式</h5><ol>
<li>&lt;%  代码 %&gt;     //在转化的servlet中的service方法中，定义流程</li>
<li>&lt;%! 代码 %&gt;    //在转化的servlet中的成员变量位置，定义成员变量</li>
<li>&lt;%=代码 %&gt;     //输出语句</li>
</ol>
<h5 id="3-jsp内置对象"><a href="#3-jsp内置对象" class="headerlink" title="3. jsp内置对象"></a>3. jsp内置对象</h5><ul>
<li>在jsp页面中不需要获取和创建，可以直接使用的对象</li>
<li>jsp一共有9个内置对象。</li>
</ul>
<ol>
<li>request</li>
<li>response</li>
<li>out：字符输出流对象，可以将数据输出到页面上。<ul>
<li>response.getWriter()与out区别    (服务器优先读取response.getWriter()缓冲区)<ul>
<li>response.getWriter()不管定义在哪，都会在out前输出</li>
</ul>
</li>
</ul>
</li>
</ol>
]]></content>
      <categories>
        <category>servlet</category>
      </categories>
      <tags>
        <tag>jsp</tag>
      </tags>
  </entry>
  <entry>
    <title>mailSend</title>
    <url>/2022/03/12/mailSend/</url>
    <content><![CDATA[<h1 id="java发送邮件"><a href="#java发送邮件" class="headerlink" title="java发送邮件"></a>java发送邮件</h1><p>！！！qq邮箱需要打开协议（获取授权码）</p>
<p><img src="/2022/03/12/mailSend/1.png" alt></p>
<h2 id="1-纯文本邮件发送"><a href="#1-纯文本邮件发送" class="headerlink" title="1. 纯文本邮件发送"></a>1. 纯文本邮件发送</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sendSimpleMail</span><span class="params">()</span></span>&#123;</span><br><span class="line">       Properties prop = <span class="keyword">new</span> Properties();</span><br><span class="line">       <span class="comment">//设置qq邮件服务器</span></span><br><span class="line">       prop.setProperty(<span class="string">&quot;mail.host&quot;</span>,<span class="string">&quot;smtp.qq.com&quot;</span>);</span><br><span class="line">       <span class="comment">//邮件发送协议</span></span><br><span class="line">       prop.setProperty(<span class="string">&quot;mail.transport.protocol&quot;</span>,<span class="string">&quot;smtp&quot;</span>);</span><br><span class="line">       <span class="comment">//需要验证用户名密码</span></span><br><span class="line">       prop.setProperty(<span class="string">&quot;mail.smtp.auth&quot;</span>,<span class="string">&quot;true&quot;</span>);</span><br><span class="line"></span><br><span class="line">       <span class="comment">//关于qq邮箱，还要设置ssl加密，加上以下代码即可</span></span><br><span class="line">       <span class="keyword">try</span> &#123;</span><br><span class="line">           MailSSLSocketFactory sf = <span class="keyword">new</span> MailSSLSocketFactory();</span><br><span class="line">           sf.setTrustAllHosts(<span class="keyword">true</span>);</span><br><span class="line">           prop.put(<span class="string">&quot;mail.smtp.ssl.enable&quot;</span>, <span class="string">&quot;true&quot;</span>);</span><br><span class="line">           prop.put(<span class="string">&quot;mail.smtp.ssl.socketFactory&quot;</span>, <span class="string">&quot;sf&quot;</span>);</span><br><span class="line"></span><br><span class="line">           <span class="comment">//使用JavaMail发送邮件的5个步骤</span></span><br><span class="line"></span><br><span class="line">           <span class="comment">//1. 创建定义整个程序所需的环境信息的Session对象</span></span><br><span class="line"></span><br><span class="line">           <span class="comment">//qq邮箱才有：其他不用</span></span><br><span class="line">           Session session = Session.getDefaultInstance(prop, <span class="keyword">new</span> Authenticator() &#123;</span><br><span class="line">               <span class="meta">@Override</span></span><br><span class="line">               <span class="function"><span class="keyword">protected</span> PasswordAuthentication <span class="title">getPasswordAuthentication</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                   <span class="comment">//发件人邮箱用户名，授权码</span></span><br><span class="line">                   <span class="keyword">return</span> <span class="keyword">new</span> PasswordAuthentication(<span class="string">&quot;**********@qq.com&quot;</span>, <span class="string">&quot;授权码&quot;</span>);</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;);</span><br><span class="line"></span><br><span class="line">           <span class="comment">//开启session的debug模式，查看发送mail的运行状态</span></span><br><span class="line">           session.setDebug(<span class="keyword">true</span>);</span><br><span class="line"></span><br><span class="line">           <span class="comment">//2. 通过Session得到transport对象</span></span><br><span class="line">           Transport transport = session.getTransport();</span><br><span class="line"></span><br><span class="line">           <span class="comment">//3. 使用邮箱的用户名和授权码连接邮件服务器</span></span><br><span class="line">           transport.connect(<span class="string">&quot;smtp.qq.com&quot;</span>,<span class="string">&quot;**********@qq.com&quot;</span>,<span class="string">&quot;授权码&quot;</span>);</span><br><span class="line"></span><br><span class="line">           <span class="comment">//4. 创建邮件</span></span><br><span class="line"></span><br><span class="line">           <span class="comment">//4.1 创建邮件对象</span></span><br><span class="line">           MimeMessage message = <span class="keyword">new</span> MimeMessage(session);</span><br><span class="line">           <span class="comment">//4.2 指明发件人</span></span><br><span class="line">           message.setFrom(<span class="keyword">new</span> InternetAddress(<span class="string">&quot;**********@qq.com&quot;</span>));</span><br><span class="line">           <span class="comment">//4.3 指明收件人，</span></span><br><span class="line">           message.setRecipient(Message.RecipientType.TO,<span class="keyword">new</span> InternetAddress(<span class="string">&quot;**********@qq.com&quot;</span>));</span><br><span class="line">           <span class="comment">//4.4 邮件标题</span></span><br><span class="line">           message.setSubject(<span class="string">&quot;测试邮件&quot;</span>);</span><br><span class="line">           <span class="comment">//4.5 邮件文本内容</span></span><br><span class="line">           message.setContent(<span class="string">&quot;&lt;h1 style=&#x27;color:red&#x27;&gt;你好！&lt;/h1&gt;&quot;</span>,<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">           <span class="comment">//5. 发送邮件</span></span><br><span class="line">           transport.sendMessage(message,message.getAllRecipients());</span><br><span class="line">           transport.close();</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-图片复杂信息发送"><a href="#2-图片复杂信息发送" class="headerlink" title="2. 图片复杂信息发送"></a>2. 图片复杂信息发送</h2><p><img src="/2022/03/12/mailSend/2.png" alt="image-20220312160153430"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mutiMailSend</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Properties prop = <span class="keyword">new</span> Properties();</span><br><span class="line">        <span class="comment">//设置qq邮件服务器</span></span><br><span class="line">        prop.setProperty(<span class="string">&quot;mail.host&quot;</span>,<span class="string">&quot;smtp.qq.com&quot;</span>);</span><br><span class="line">        <span class="comment">//邮件发送协议</span></span><br><span class="line">        prop.setProperty(<span class="string">&quot;mail.transport.protocol&quot;</span>,<span class="string">&quot;smtp&quot;</span>);</span><br><span class="line">        <span class="comment">//需要验证用户名密码</span></span><br><span class="line">        prop.setProperty(<span class="string">&quot;mail.smtp.auth&quot;</span>,<span class="string">&quot;true&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//关于qq邮箱，还要设置ssl加密，加上以下代码即可</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            MailSSLSocketFactory sf = <span class="keyword">new</span> MailSSLSocketFactory();</span><br><span class="line">            sf.setTrustAllHosts(<span class="keyword">true</span>);</span><br><span class="line">            prop.put(<span class="string">&quot;mail.smtp.ssl.enable&quot;</span>, <span class="string">&quot;true&quot;</span>);</span><br><span class="line">            prop.put(<span class="string">&quot;mail.smtp.ssl.socketFactory&quot;</span>, <span class="string">&quot;sf&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//使用JavaMail发送邮件的5个步骤</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//1. 创建定义整个程序所需的环境信息的Session对象</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//qq邮箱才有：其他不用</span></span><br><span class="line">            Session session = Session.getDefaultInstance(prop, <span class="keyword">new</span> Authenticator() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">protected</span> PasswordAuthentication <span class="title">getPasswordAuthentication</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                    <span class="comment">//发件人邮箱用户名，授权码</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">new</span> PasswordAuthentication(<span class="string">&quot;***@qq.com&quot;</span>, <span class="string">&quot;***&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//开启session的debug模式，查看发送mail的运行状态</span></span><br><span class="line">            session.setDebug(<span class="keyword">true</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//2. 通过Session得到transport对象</span></span><br><span class="line">            Transport transport = session.getTransport();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//3. 使用邮箱的用户名和授权码连接邮件服务器</span></span><br><span class="line">            transport.connect(<span class="string">&quot;smtp.qq.com&quot;</span>,<span class="string">&quot;***@qq.com&quot;</span>,<span class="string">&quot;***&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//4. 创建邮件</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//4.1 创建邮件对象</span></span><br><span class="line">            MimeMessage message = <span class="keyword">new</span> MimeMessage(session);</span><br><span class="line">            <span class="comment">//4.2 指明发件人</span></span><br><span class="line">            message.setFrom(<span class="keyword">new</span> InternetAddress(<span class="string">&quot;***@qq.com&quot;</span>));</span><br><span class="line">            <span class="comment">//4.3 指明收件人，</span></span><br><span class="line">            message.setRecipient(Message.RecipientType.TO,<span class="keyword">new</span> InternetAddress(<span class="string">&quot;***@qq.com&quot;</span>));</span><br><span class="line">            <span class="comment">//4.4 邮件标题</span></span><br><span class="line">            message.setSubject(<span class="string">&quot;邮件功能测试&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//4.5 邮件文本内容</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//！！！与简单邮件区别</span></span><br><span class="line">            <span class="comment">//=============================================</span></span><br><span class="line">            <span class="comment">//1. 准备图片数据</span></span><br><span class="line">            MimeBodyPart img = <span class="keyword">new</span> MimeBodyPart();</span><br><span class="line">            <span class="comment">//2. 图片需要经过数据处理 DataHandler</span></span><br><span class="line">             String path = MailSend.class.getClassLoader().getResource(<span class="string">&quot;1.jpg&quot;</span>).getPath();</span><br><span class="line">            DataHandler dh = <span class="keyword">new</span> DataHandler(<span class="keyword">new</span> FileDataSource(path));</span><br><span class="line">            img.setDataHandler(dh);</span><br><span class="line">            img.setContentID(<span class="string">&quot;bz.jpg&quot;</span>);</span><br><span class="line">            <span class="comment">//3. 准备正文数据</span></span><br><span class="line">            MimeBodyPart text = <span class="keyword">new</span> MimeBodyPart();</span><br><span class="line">            <span class="comment">//注意图片路径&lt;img src=&#x27;cid:bz.jpg&#x27;&gt;，前加cid:</span></span><br><span class="line">            text.setContent(<span class="string">&quot;&lt;h1 style=&#x27;color:red&#x27;&gt;你好！邮件包含图片&lt;/h1&gt;&lt;img src=&#x27;cid:bz.jpg&#x27;&gt;&quot;</span>,<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">            <span class="comment">//4. 描述数据关系</span></span><br><span class="line">            MimeMultipart mm = <span class="keyword">new</span> MimeMultipart();</span><br><span class="line">            mm.addBodyPart(text);</span><br><span class="line">            mm.addBodyPart(img);</span><br><span class="line">            mm.setSubType(<span class="string">&quot;related&quot;</span>);<span class="comment">//如果带附件则是mixed</span></span><br><span class="line">            message.setContent(mm);</span><br><span class="line">            message.saveChanges(); <span class="comment">//保存修改</span></span><br><span class="line">            <span class="comment">//=============================================</span></span><br><span class="line">            <span class="comment">//5. 发送邮件</span></span><br><span class="line">            transport.sendMessage(message,message.getAllRecipients());</span><br><span class="line">            transport.close();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-文件发送-设置内容和拼接有变化"><a href="#3-文件发送-设置内容和拼接有变化" class="headerlink" title="3. 文件发送(设置内容和拼接有变化)"></a>3. 文件发送(设置内容和拼接有变化)</h2><p><img src="/2022/03/12/mailSend/3.png" alt="image-20220312165313055"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Properties prop = <span class="keyword">new</span> Properties();</span><br><span class="line">        <span class="comment">//设置qq邮件服务器</span></span><br><span class="line">        prop.setProperty(<span class="string">&quot;mail.host&quot;</span>,<span class="string">&quot;smtp.qq.com&quot;</span>);</span><br><span class="line">        <span class="comment">//邮件发送协议</span></span><br><span class="line">        prop.setProperty(<span class="string">&quot;mail.transport.protocol&quot;</span>,<span class="string">&quot;smtp&quot;</span>);</span><br><span class="line">        <span class="comment">//需要验证用户名密码</span></span><br><span class="line">        prop.setProperty(<span class="string">&quot;mail.smtp.auth&quot;</span>,<span class="string">&quot;true&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//关于qq邮箱，还要设置ssl加密，加上以下代码即可</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            MailSSLSocketFactory sf = <span class="keyword">new</span> MailSSLSocketFactory();</span><br><span class="line">            sf.setTrustAllHosts(<span class="keyword">true</span>);</span><br><span class="line">            prop.put(<span class="string">&quot;mail.smtp.ssl.enable&quot;</span>, <span class="string">&quot;true&quot;</span>);</span><br><span class="line">            prop.put(<span class="string">&quot;mail.smtp.ssl.socketFactory&quot;</span>, <span class="string">&quot;sf&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//使用JavaMail发送邮件的5个步骤</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//1. 创建定义整个程序所需的环境信息的Session对象</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//qq邮箱才有：其他不用</span></span><br><span class="line">            Session session = Session.getDefaultInstance(prop, <span class="keyword">new</span> Authenticator() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">protected</span> PasswordAuthentication <span class="title">getPasswordAuthentication</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                    <span class="comment">//发件人邮箱用户名，授权码</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">new</span> PasswordAuthentication(<span class="string">&quot;***@qq.com&quot;</span>, <span class="string">&quot;***&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//开启session的debug模式，查看发送mail的运行状态</span></span><br><span class="line">            session.setDebug(<span class="keyword">true</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//2. 通过Session得到transport对象</span></span><br><span class="line">            Transport transport = session.getTransport();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//3. 使用邮箱的用户名和授权码连接邮件服务器</span></span><br><span class="line">            transport.connect(<span class="string">&quot;smtp.qq.com&quot;</span>,<span class="string">&quot;***@qq.com&quot;</span>,<span class="string">&quot;***&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//4. 创建邮件</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//4.1 创建邮件对象</span></span><br><span class="line">            MimeMessage message = <span class="keyword">new</span> MimeMessage(session);</span><br><span class="line">            <span class="comment">//4.2 指明发件人</span></span><br><span class="line">            message.setFrom(<span class="keyword">new</span> InternetAddress(<span class="string">&quot;***@qq.com&quot;</span>));</span><br><span class="line">            <span class="comment">//4.3 指明收件人，</span></span><br><span class="line">            message.setRecipient(Message.RecipientType.TO,<span class="keyword">new</span> InternetAddress(<span class="string">&quot;***@qq.com&quot;</span>));</span><br><span class="line">            <span class="comment">//4.4 邮件标题</span></span><br><span class="line">            message.setSubject(<span class="string">&quot;邮件功能测试&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//4.5 邮件文本内容</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//！！！与简单邮件区别</span></span><br><span class="line">            <span class="comment">//=============================================</span></span><br><span class="line">            <span class="comment">//1. 准备图片数据</span></span><br><span class="line">            MimeBodyPart img = <span class="keyword">new</span> MimeBodyPart();</span><br><span class="line">            <span class="comment">//2. 图片需要经过数据处理 DataHandler</span></span><br><span class="line">            String path = MailSend.class.getClassLoader().getResource(<span class="string">&quot;1.jpg&quot;</span>).getPath();</span><br><span class="line">            DataHandler dh = <span class="keyword">new</span> DataHandler(<span class="keyword">new</span> FileDataSource(path));</span><br><span class="line">            img.setDataHandler(dh);</span><br><span class="line">            img.setContentID(<span class="string">&quot;bz.jpg&quot;</span>);</span><br><span class="line">            <span class="comment">//3. 准备正文数据</span></span><br><span class="line">            MimeBodyPart text = <span class="keyword">new</span> MimeBodyPart();</span><br><span class="line">            text.setContent(<span class="string">&quot;&lt;h1 style=&#x27;color:red&#x27;&gt;你好！邮件包含图片&lt;/h1&gt;&lt;img src=&#x27;cid:bz.jpg&#x27;&gt;&quot;</span>,<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="comment">//*****************************************</span></span><br><span class="line">            <span class="comment">//3. 传递附件file</span></span><br><span class="line">            <span class="comment">//*****************************************</span></span><br><span class="line">            MimeBodyPart file1 = <span class="keyword">new</span> MimeBodyPart();</span><br><span class="line">            String filePath = MailFileSend.class.getClassLoader().getResource(<span class="string">&quot;mailcode.txt&quot;</span>).getPath();</span><br><span class="line">            file1.setDataHandler(<span class="keyword">new</span> DataHandler(<span class="keyword">new</span> FileDataSource(filePath)));</span><br><span class="line">            file1.setFileName(<span class="string">&quot;wenjian.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//4. 描述数据关系</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//4.1 拼接文本和图片</span></span><br><span class="line">            MimeMultipart mm = <span class="keyword">new</span> MimeMultipart();</span><br><span class="line">            mm.addBodyPart(text);</span><br><span class="line">            mm.addBodyPart(img);</span><br><span class="line">            mm.setSubType(<span class="string">&quot;related&quot;</span>);<span class="comment">//如果是附件则是mixed</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//*******************************************************************</span></span><br><span class="line">            <span class="comment">//4.2 拼接文本图片和附件文件</span></span><br><span class="line">            <span class="comment">//4.2.1 将之前MimeMultipart拼接的文本图片重新设置成一个MimeBodyPart，与附件mixed拼接</span></span><br><span class="line">            MimeBodyPart contextText = <span class="keyword">new</span> MimeBodyPart();</span><br><span class="line">            contextText.setContent(mm);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//4.2.2 最终拼接</span></span><br><span class="line">            MimeMultipart all = <span class="keyword">new</span> MimeMultipart();</span><br><span class="line">            all.addBodyPart(file1);</span><br><span class="line">            all.addBodyPart(contextText);</span><br><span class="line">            all.setSubType(<span class="string">&quot;mixed&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//*******************************************************************</span></span><br><span class="line"></span><br><span class="line">            message.setContent(all);</span><br><span class="line">            message.saveChanges(); <span class="comment">//保存修改</span></span><br><span class="line">            <span class="comment">//=============================================</span></span><br><span class="line">            <span class="comment">//5. 发送邮件</span></span><br><span class="line">            transport.sendMessage(message,message.getAllRecipients());</span><br><span class="line">            transport.close();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>javaweb</category>
      </categories>
      <tags>
        <tag>mail</tag>
      </tags>
  </entry>
  <entry>
    <title>maven</title>
    <url>/2022/02/26/maven/</url>
    <content><![CDATA[<h1 id="Maven"><a href="#Maven" class="headerlink" title="Maven"></a>Maven</h1><p><img src="/2022/02/26/maven/33.png" alt></p>
<h2 id="一、idea默认整合了Maven"><a href="#一、idea默认整合了Maven" class="headerlink" title="一、idea默认整合了Maven"></a>一、idea默认整合了Maven</h2><p><img src="/2022/02/26/maven/1.png" alt></p>
<h2 id="二、下载（如果想使用指定版本的）"><a href="#二、下载（如果想使用指定版本的）" class="headerlink" title="二、下载（如果想使用指定版本的）"></a>二、下载（如果想使用指定版本的）</h2><ol>
<li>maven.apache.org,点击download</li>
</ol>
<p>​        <img src="/2022/02/26/maven/2.png" alt></p>
<ol>
<li><p>在idea中配置</p>
<p><img src="/2022/02/26/maven/3.png" alt></p>
</li>
<li><p>conf目录下：settings.xml 全局配置文件</p>
</li>
<li><p>.m2文件夹</p>
<ul>
<li><p>在安装配置好maven之后，你会发现在用户目录下不存在.m2文件夹</p>
<ul>
<li><p>我们仅仅是对maven进行了安装以及环境变量的配置，需要注意的是，我们并没有让maven执行真正的任务。说到这里，你应该明白了，只要我们执行任何一个maven任务，.m2文件夹就会在用户目录自动的被创建。</p>
</li>
<li><p>下面我们在cmd命令下执行<strong>mvn -help:system</strong></p>
<p>执行完该任务后，你就会发现maven在你当前登录的用户文件夹下自动创建了.m2文件夹。</p>
</li>
<li><p>默认情况下.m2文件夹下放置了maven本地仓库<strong>.m2/repository</strong>。所有的maven构件都被存储到该仓库中，以便重用。</p>
</li>
</ul>
</li>
<li><p>此时.m2文件夹没有settings.xml ，可以官网下载maven再复制到</p>
</li>
</ul>
</li>
</ol>
<h2 id="三、远程仓库配置"><a href="#三、远程仓库配置" class="headerlink" title="三、远程仓库配置"></a>三、远程仓库配置</h2><h3 id="1-默认的远程仓库使用的是Apache提供的中央仓库"><a href="#1-默认的远程仓库使用的是Apache提供的中央仓库" class="headerlink" title="1. 默认的远程仓库使用的是Apache提供的中央仓库"></a>1. 默认的远程仓库使用的是Apache提供的中央仓库</h3><p>mvnrepository.com</p>
<h3 id="2-在-m2文件夹settings-xml-中配置"><a href="#2-在-m2文件夹settings-xml-中配置" class="headerlink" title="2. 在.m2文件夹settings.xml 中配置"></a>2. 在.m2文件夹settings.xml 中配置</h3><h3 id="3-镜像仓库配置（使国内访问更快）"><a href="#3-镜像仓库配置（使国内访问更快）" class="headerlink" title="3.镜像仓库配置（使国内访问更快）"></a>3.镜像仓库配置（使国内访问更快）</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!--指定镜像id（可自定义）--&gt;</span></span><br><span class="line"> 		<span class="tag">&lt;<span class="name">id</span>&gt;</span>nexus-aliyun<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!--匹配中央仓库（阿里云仓库名称，不可自定义）--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!--指定镜像名称（可自定义）--&gt;</span></span><br><span class="line"> 		<span class="tag">&lt;<span class="name">name</span>&gt;</span>Nexus aliyun<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!--指定镜像地址（镜像地址）--&gt;</span></span><br><span class="line">	 	<span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!--添加jar包依赖--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.mybatis/mybatis --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="四、本地仓库设置"><a href="#四、本地仓库设置" class="headerlink" title="四、本地仓库设置"></a>四、本地仓库设置</h2><h3 id="1-在-m2文件夹settings-xml-中配置"><a href="#1-在-m2文件夹settings-xml-中配置" class="headerlink" title="1. 在.m2文件夹settings.xml 中配置"></a>1. 在.m2文件夹settings.xml 中配置</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">localRepository</span>&gt;</span>/path/to/local/repo<span class="tag">&lt;/<span class="name">localRepository</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="五、仓库优先级"><a href="#五、仓库优先级" class="headerlink" title="五、仓库优先级"></a>五、仓库优先级</h2><ol>
<li>先从本地仓库查找，如果没有找到</li>
<li>如果没有配置镜像仓库则到默认中央仓库查找</li>
<li>如果配置了镜像，则从镜像仓库查找。还没找到会到默认中央仓库查找。</li>
</ol>
<h2 id="六、指定编译运行的jdk"><a href="#六、指定编译运行的jdk" class="headerlink" title="六、指定编译运行的jdk"></a>六、指定编译运行的jdk</h2><h3 id="在settings-xml中配置"><a href="#在settings-xml中配置" class="headerlink" title="在settings.xml中配置"></a>在settings.xml中配置</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">id</span>&gt;</span>jdk-1.8<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">activeByDefault</span>&gt;</span>true<span class="tag">&lt;/<span class="name">activeByDefault</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">jdk</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">jdk</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">maven.compiler.compilerVersion</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.compilerVersion</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="七、maven项目类型"><a href="#七、maven项目类型" class="headerlink" title="七、maven项目类型"></a>七、maven项目类型</h2><h3 id="1-pom工程"><a href="#1-pom工程" class="headerlink" title="1. pom工程"></a>1. pom工程</h3><ul>
<li>逻辑工程，用在父级工程或聚合工程中。用来做jar包的版本控制</li>
</ul>
<h3 id="2-jar工程"><a href="#2-jar工程" class="headerlink" title="2. jar工程"></a>2. jar工程</h3><ul>
<li>将会打包成jar包，作为jar包使用。即为常见的本地工程—-》java project</li>
</ul>
<h3 id="3-war工程"><a href="#3-war工程" class="headerlink" title="3. war工程"></a>3. war工程</h3><ul>
<li>将会打包成war，发布在服务器上的工程</li>
</ul>
<h2 id="八、创建maven项目"><a href="#八、创建maven项目" class="headerlink" title="八、创建maven项目"></a>八、创建maven项目</h2><ol>
<li>新建maven项目</li>
</ol>
<p>​    <img src="/2022/02/26/maven/5.png" alt></p>
<ol>
<li><p>填写相关信息</p>
<p><img src="/2022/02/26/maven/6.png" alt></p>
<p><img src="/2022/02/26/maven/7.png" alt></p>
</li>
</ol>
<h2 id="九、项目结构"><a href="#九、项目结构" class="headerlink" title="九、项目结构"></a>九、项目结构</h2><p><img src="/2022/02/26/maven/8.png" alt></p>
<p>在pom.xml文件根元素project下的dependencies标签中，配置依赖信息，内可以包含多个dependence元素，以声明多个依赖。每个依赖dependence标签都应该包含以下元素: groupld, artifactld, version:依赖的基本坐标，对于任何一个依赖来说，基本坐标是最重要的，Maven根据坐标才能找到需要的依赖。</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.hestialx<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>MavenTest01<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="十、maven项目的依赖，继承，聚合"><a href="#十、maven项目的依赖，继承，聚合" class="headerlink" title="十、maven项目的依赖，继承，聚合"></a>十、maven项目的依赖，继承，聚合</h2><h3 id="1-依赖关系和其传递性"><a href="#1-依赖关系和其传递性" class="headerlink" title="1. 依赖关系和其传递性"></a>1. 依赖关系和其传递性</h3><ul>
<li><p>创建maven项目A，在pom.xml中引入mybatis jar包</p>
</li>
<li><p>首先将maven项目A打包为jar</p>
<ul>
<li><p>点击右侧maven</p>
</li>
<li><p>选择项目</p>
</li>
<li><p>点击install生成项目jar包</p>
<p><img src="/2022/02/26/maven/9.png" alt></p>
</li>
</ul>
</li>
<li><p>打包好后，在项目Bpom.xml中引入项目A jar包</p>
</li>
<li><p>此时项目B不仅引入了项目A jar包，还引入了mybatis jar包</p>
</li>
</ul>
<h3 id="2-依赖的版本冲突问题"><a href="#2-依赖的版本冲突问题" class="headerlink" title="2. 依赖的版本冲突问题"></a>2. 依赖的版本冲突问题</h3><ol>
<li><p>最短路径优先原则</p>
<ul>
<li><p>如果导入依赖存在版本冲突问题优先选择依赖路径最短的版本</p>
<p><img src="/2022/02/26/maven/10.png" alt>    </p>
</li>
</ul>
</li>
<li><p>最先声明原则</p>
<ul>
<li>如果依赖路径是一样长的，同样出现了版本冲突，则看在pom.xml中的声明顺序引入最先声明的</li>
</ul>
</li>
<li><p>排除依赖</p>
<ul>
<li><p>可以pom.xml文件中在引入时配置排除的jar包</p>
<ul>
<li><p>eg:在引入jar包依赖时排除mybatis</p>
<p><img src="/2022/02/26/maven/11.png" alt></p>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 id="3-依赖的范围"><a href="#3-依赖的范围" class="headerlink" title="3. 依赖的范围"></a>3. 依赖的范围</h3><p>在pom.xml中配置scope</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span><span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2022/02/26/maven/13.png" alt></p>
<h3 id="4-继承"><a href="#4-继承" class="headerlink" title="4.继承"></a>4.继承</h3><p>创建pom项目</p>
<p><img src="/2022/02/26/maven/14.png" alt></p>
<p>本质是pom.xml文件的继承</p>
<h3 id="5-聚合"><a href="#5-聚合" class="headerlink" title="5. 聚合"></a>5. 聚合</h3><h2 id="十一、maven插件"><a href="#十一、maven插件" class="headerlink" title="十一、maven插件"></a>十一、maven插件</h2><h3 id="1-编译器jdk版本插件"><a href="#1-编译器jdk版本插件" class="headerlink" title="1. 编译器jdk版本插件"></a>1. 编译器jdk版本插件</h3><p><img src="/2022/02/26/maven/17.png" alt></p>
<h3 id="2-资源拷贝插件"><a href="#2-资源拷贝插件" class="headerlink" title="2. 资源拷贝插件"></a>2. 资源拷贝插件</h3><ul>
<li>一般情况，maven 项目打包（install）会将resources目录下的资源文件打包到classes文件下，src下的资源文件不会打包</li>
</ul>
<p><img src="/2022/02/26/maven/18.png" alt></p>
<ul>
<li>现在想把非resources下面的文件也打包到classes下面:需要配置:</li>
</ul>
<p><img src="/2022/02/26/maven/19.png" alt></p>
<h3 id="3-tomcat插件"><a href="#3-tomcat插件" class="headerlink" title="3. tomcat插件"></a>3. tomcat插件</h3><h4 id="创建maven的web项目"><a href="#创建maven的web项目" class="headerlink" title="* 创建maven的web项目"></a>* 创建maven的web项目</h4><p><img src="/2022/02/26/maven/20.png" alt></p>
<p><img src="/2022/02/26/maven/21.png" alt></p>
<p><img src="/2022/02/26/maven/22.png" alt></p>
<p><img src="/2022/02/26/maven/23.png" alt></p>
<p>在项目pom.xml文件中添加tomcat插件配置</p>
<p><img src="/2022/02/26/maven/24.png" alt></p>
<p>点击右侧maven菜单运行tomcat</p>
<p><img src="/2022/02/26/maven/25.png" alt></p>
<h4 id="插件配置模板设置"><a href="#插件配置模板设置" class="headerlink" title="* 插件配置模板设置　　"></a>* 插件配置模板设置　　</h4><ul>
<li><p>打开idea　点击setting</p>
</li>
<li><p>搜索Live Template</p>
</li>
<li><p>创建个人Template组</p>
<p><img src="/2022/02/26/maven/26.png" alt></p>
</li>
<li><p>在Template组下定义动态模板</p>
<p><img src="/2022/02/26/maven/27.png" alt></p>
</li>
</ul>
<h2 id="十二、maven命令控制"><a href="#十二、maven命令控制" class="headerlink" title="十二、maven命令控制"></a>十二、maven命令控制</h2><ol>
<li>mvn clean<ul>
<li>将编译的target目录删除</li>
</ul>
</li>
<li>mvn compile（编译）<ul>
<li>将src  main 目录下的文件进行编译，放置在target目录下</li>
</ul>
</li>
<li>mvn test（测试）<ul>
<li>编译src  main 目录和test 的文件，并放置在target目录下</li>
</ul>
</li>
<li>mvn package（打包）<ul>
<li>编译src  main 目录和test 的文件，并放置在target目录下，并打包成war包</li>
</ul>
</li>
<li>mvn install（安装）<ul>
<li>编译src  main 目录和test 的文件，并放置在target目录下，并打包成war包，并放置在本地仓库</li>
</ul>
</li>
<li>mvn deploy（发布）</li>
</ol>
<p><img src="/2022/02/26/maven/33.png" alt></p>
]]></content>
  </entry>
  <entry>
    <title>redis</title>
    <url>/2022/02/21/redis/</url>
    <content><![CDATA[<h1 id="redis学习"><a href="#redis学习" class="headerlink" title="redis学习"></a>redis学习</h1><h2 id="一、概念"><a href="#一、概念" class="headerlink" title="一、概念"></a>一、概念</h2><p>Redis（Remote Dictionary Server )，即远程字典服务，是一个开源的使用ANSI C语言编写、支持网络、可基于内存亦可持久化的日志型、Key-Value数据，并提供多种语言的API。</p>
<p>Redis是非关系型数据库</p>
<ul>
<li>关系型数据库和非关系型数据库的区别</li>
</ul>
<p><img src="/2022/02/21/redis/1.png" alt></p>
<h2 id="二、下载"><a href="#二、下载" class="headerlink" title="二、下载"></a>二、下载</h2><ol>
<li>官网：<a href="https://redis.io">https://redis.io</a></li>
<li>中文网：<a href="https://www.redis.net.cn">https://www.redis.net.cn</a></li>
<li>下载windows版本，解压可以直接使用<ul>
<li>redis.windows.conf:配置文件</li>
<li>redis-cli.exe:redis的客户端</li>
<li>redis-server.exe:redis服务器端</li>
</ul>
</li>
</ol>
<h2 id="三、命令操作"><a href="#三、命令操作" class="headerlink" title="三、命令操作"></a>三、命令操作</h2><h3 id="1-打开服务"><a href="#1-打开服务" class="headerlink" title="1. 打开服务"></a>1. 打开服务</h3><p>打开一个 <strong>cmd</strong> 窗口 使用 cd 命令切换目录到 <strong>C:\redis</strong> 运行：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">redis-server.exe redis.windows.conf</span><br></pre></td></tr></table></figure>
<h3 id="2-打开客户端"><a href="#2-打开客户端" class="headerlink" title="2. 打开客户端"></a>2. 打开客户端</h3><p>这时候另启一个 cmd 窗口，原来的不要关闭，不然就无法访问服务端了。</p>
<p>切换到 redis 目录下运行:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">redis-cli.exe -h 127.0.0.1 -p 6379</span><br></pre></td></tr></table></figure>
<p>设置键值对:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">set myKey abc</span><br></pre></td></tr></table></figure>
<p>取出键值对:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">get myKey</span><br></pre></td></tr></table></figure>
<h3 id="redis的数据结构"><a href="#redis的数据结构" class="headerlink" title="redis的数据结构"></a>redis的数据结构</h3><ul>
<li>redis存储的是：键值对格式的数据，其中key都是字符串</li>
</ul>
<p>Redis中的 value支持五种数据类型：</p>
<ol>
<li><p>string（字符串），</p>
<ul>
<li><p>存储</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">set myKey abc</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">get myKey</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">del myKey</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>hash（哈希），：map格式</p>
<ul>
<li><p>存储</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hset key field value</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//获取单个值</span><br><span class="line">hget key field value</span><br><span class="line">//获取全部</span><br><span class="line">hgetall key</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//删除指定值</span><br><span class="line">hdel key field</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>list（列表），：LinkedList</p>
<ul>
<li><p>存储</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//在左侧添加元素</span><br><span class="line">lpush key value</span><br><span class="line">//在右侧添加元素</span><br><span class="line">rpush key value</span><br><span class="line">//</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//范围获取</span><br><span class="line">lrange key start end:</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">lpop key:删除列表最左边的元素，并将元素返回</span><br><span class="line">rpop key:删除列表最右边的元素，并将元素返回</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>set（集合）：不允许重复</p>
<ul>
<li><p>存储</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sadd key value</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//获取几何中所有元素</span><br><span class="line">smembers key</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//删除set集合中的某个元素</span><br><span class="line">srem key value</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>zset(sorted set：无重复的有序集合)</p>
<ul>
<li><p>存储</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">zadd key score value;</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">zrange key start end withscores</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">zrem key value</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<h3 id="通用命令"><a href="#通用命令" class="headerlink" title="通用命令"></a>通用命令</h3><ol>
<li>keys *：查询所有的键</li>
<li>type key：获取键对应的value的类型</li>
<li>del key：删除指定的key value</li>
</ol>
<h2 id="四、持久化"><a href="#四、持久化" class="headerlink" title="四、持久化"></a>四、持久化</h2><ol>
<li><p>redis是一个内存数据库，当redis服务器重启，数据会丢失</p>
</li>
<li><p>redis持久化机制：</p>
<ul>
<li><p>RDB：默认方式，不需要进行配置，默认就使用这种机制</p>
<ul>
<li><p>在一定间隔的时间中，检测key的变化情况，然后持久化数据</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#   In the example below the behaviour will be to save:</span><br><span class="line">#   after 900 sec (15 min) if at least 1 key changed</span><br><span class="line">#   after 300 sec (5 min) if at least 10 keys changed</span><br><span class="line">#   after 60 sec if at least 10000 keys changed</span><br><span class="line">#</span><br><span class="line">#   Note: you can disable saving completely by commenting out all &quot;save&quot; lines.</span><br><span class="line">#</span><br><span class="line">#   It is also possible to remove all the previously configured save</span><br><span class="line">#   points by adding a save directive with a single empty string argument</span><br><span class="line">#   like in the following example:</span><br><span class="line">#</span><br><span class="line">#   save &quot;&quot;</span><br><span class="line"></span><br><span class="line">save 900 1</span><br><span class="line">save 300 10</span><br><span class="line">save 60 10000</span><br></pre></td></tr></table></figure>
</li>
<li><p>重启redis服务器，并指定配置文件名称</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">redis-server.exe redis.windows.conf</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>AOF：日志记录的方式，可以记录每一条命令的操作。可以每一次操作后进行持久化数据</p>
<ul>
<li><p>编辑redis.windows.conf配置文件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">appendonly on ---&gt; appendonly yes (开启aof)</span><br><span class="line"># appendfsync always 每一次操作都持久化</span><br><span class="line">appendfsync always everysec : 每秒持久化一次</span><br><span class="line"># appendfsync no 不进行持久化</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 id="五、Java客户端-Jedis"><a href="#五、Java客户端-Jedis" class="headerlink" title="五、Java客户端 Jedis"></a>五、Java客户端 Jedis</h2><ul>
<li><p>导入jar包</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">commons-pool2-2.11.1.jar</span><br><span class="line">jedis-2.9.0.jar</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">/空参构造，默认值是localhost和<span class="number">6379</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">jedistest</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Jedis j = <span class="keyword">new</span> Jedis(<span class="string">&quot;localhost&quot;</span>,<span class="number">6379</span>);</span><br><span class="line">        j.set(<span class="string">&quot;username&quot;</span>,<span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">        j.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>jedis操作redis各种数据</p>
<ol>
<li><p>string</p>
<ul>
<li><p>get</p>
</li>
<li><p>set</p>
</li>
<li><p>setex</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">jedistest2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//空参构造，默认值是localhost和6379</span></span><br><span class="line">        Jedis j = <span class="keyword">new</span> Jedis(<span class="string">&quot;localhost&quot;</span>,<span class="number">6379</span>);</span><br><span class="line">        j.set(<span class="string">&quot;username&quot;</span>,<span class="string">&quot;li&quot;</span>);</span><br><span class="line">        String username = j.get(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        System.out.println(username);</span><br><span class="line">        <span class="comment">//可以使用setex（）方法存储指定过期时间的key value</span></span><br><span class="line">    	<span class="comment">//10秒后过期</span></span><br><span class="line">        j.setex(<span class="string">&quot;limitcode&quot;</span>,<span class="number">10</span>,<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        j.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>hash：map</p>
<ul>
<li><p>hset()</p>
</li>
<li><p>hget()</p>
</li>
<li><p>hgetAll()</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//hash类型操作</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">jedistest3</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//空参构造，默认值是localhost和6379</span></span><br><span class="line">        Jedis j = <span class="keyword">new</span> Jedis(<span class="string">&quot;localhost&quot;</span>,<span class="number">6379</span>);</span><br><span class="line">        j.hset(<span class="string">&quot;user&quot;</span>,<span class="string">&quot;name&quot;</span>,<span class="string">&quot;lx&quot;</span>);</span><br><span class="line">        j.hset(<span class="string">&quot;user&quot;</span>,<span class="string">&quot;age&quot;</span>,<span class="string">&quot;10&quot;</span>);</span><br><span class="line">        j.hset(<span class="string">&quot;user&quot;</span>,<span class="string">&quot;phone&quot;</span>,<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        String uname = j.hget(<span class="string">&quot;user&quot;</span>, <span class="string">&quot;name&quot;</span>);</span><br><span class="line">        System.out.println(uname);</span><br><span class="line">        <span class="comment">//获取所有值</span></span><br><span class="line">        Map&lt;String, String&gt; user = j.hgetAll(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">        Set&lt;String&gt; keySet = user.keySet();</span><br><span class="line">        <span class="keyword">for</span> (String s : keySet) &#123;</span><br><span class="line">            System.out.println(s+<span class="string">&quot;:&quot;</span>+user.get(s));</span><br><span class="line">        &#125;</span><br><span class="line">        j.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>list：linkedlist</p>
<ul>
<li><p>lpush/rpush</p>
</li>
<li><p>lpop/rpop</p>
</li>
<li><p>lrange</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//list类型操作</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">jedistest4</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//空参构造，默认值是localhost和6379</span></span><br><span class="line">        Jedis j = <span class="keyword">new</span> Jedis(<span class="string">&quot;localhost&quot;</span>,<span class="number">6379</span>);</span><br><span class="line">        j.del(<span class="string">&quot;number&quot;</span>);</span><br><span class="line">        <span class="comment">//存储</span></span><br><span class="line">        j.lpush(<span class="string">&quot;number&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;3&quot;</span>,<span class="string">&quot;9&quot;</span>);</span><br><span class="line">        j.rpush(<span class="string">&quot;number&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;3&quot;</span>,<span class="string">&quot;9&quot;</span>);</span><br><span class="line">        <span class="comment">//结果[9, 3, 1, 1, 3, 9]</span></span><br><span class="line">        <span class="comment">//获取所有</span></span><br><span class="line">        List&lt;String&gt; number = j.lrange(<span class="string">&quot;number&quot;</span>, <span class="number">0</span>, -<span class="number">1</span>);</span><br><span class="line">        System.out.println(number);</span><br><span class="line">        <span class="comment">//弹出</span></span><br><span class="line">        j.rpop(<span class="string">&quot;number&quot;</span>);</span><br><span class="line">        List&lt;String&gt; number1 = j.lrange(<span class="string">&quot;number&quot;</span>, <span class="number">0</span>, -<span class="number">1</span>);</span><br><span class="line">        System.out.println(number1);</span><br><span class="line">        j.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
</li>
</ul>
<ol>
<li><p>set：</p>
<ul>
<li><p>sadd</p>
</li>
<li><p>smembers</p>
</li>
<li><p>srem</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//set类型操作</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">jedistest5</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//空参构造，默认值是localhost和6379</span></span><br><span class="line">        Jedis j = <span class="keyword">new</span> Jedis(<span class="string">&quot;localhost&quot;</span>,<span class="number">6379</span>);</span><br><span class="line">        j.sadd(<span class="string">&quot;com&quot;</span>,<span class="string">&quot;php&quot;</span>,<span class="string">&quot;c++&quot;</span>,<span class="string">&quot;java&quot;</span>);</span><br><span class="line">        Set&lt;String&gt; java = j.smembers(<span class="string">&quot;java&quot;</span>);</span><br><span class="line">        System.out.println(java);</span><br><span class="line">        j.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<ol>
<li><p>sortedset：</p>
<ul>
<li><p>zadd</p>
</li>
<li><p>zrange</p>
</li>
<li><p>zrem</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//set类型操作</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">jedistest6</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//空参构造，默认值是localhost和6379</span></span><br><span class="line">        Jedis j = <span class="keyword">new</span> Jedis(<span class="string">&quot;localhost&quot;</span>,<span class="number">6379</span>);</span><br><span class="line">        j.zadd(<span class="string">&quot;hero&quot;</span>,<span class="number">50</span>,<span class="string">&quot;yase&quot;</span>);</span><br><span class="line">        j.zadd(<span class="string">&quot;hero&quot;</span>,<span class="number">10</span>,<span class="string">&quot;heshang&quot;</span>);</span><br><span class="line">        j.zadd(<span class="string">&quot;hero&quot;</span>,<span class="number">70</span>,<span class="string">&quot;sunwukong&quot;</span>);</span><br><span class="line">        Set&lt;String&gt; hero = j.zrange(<span class="string">&quot;hero&quot;</span>, <span class="number">0</span>, -<span class="number">1</span>);</span><br><span class="line">        System.out.println(hero);</span><br><span class="line">        j.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<ul>
<li><p>jedis连接池</p>
<ol>
<li><p>使用</p>
<ol>
<li><p>创建连接池JedisPool对象</p>
</li>
<li><p>调用方法：getResource（）方法获取jedis链接</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//jedis连接池</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">jedistest7</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//创建一个配置对象</span></span><br><span class="line">        JedisPoolConfig config = <span class="keyword">new</span> JedisPoolConfig();</span><br><span class="line">        <span class="comment">//最大连接数</span></span><br><span class="line">        config.setMaxTotal(<span class="number">50</span>);</span><br><span class="line">        <span class="comment">//最大空闲连接</span></span><br><span class="line">        config.setMaxIdle(<span class="number">10</span>);</span><br><span class="line">        JedisPool jedisPool = <span class="keyword">new</span> JedisPool(config,<span class="string">&quot;localhost&quot;</span>,<span class="number">6379</span>);</span><br><span class="line">        Jedis jedis = jedisPool.getResource();</span><br><span class="line">        String username = jedis.get(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        System.out.println(username);</span><br><span class="line">        jedis.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>JedisPoolConfig参数意义</p>
<p><img src="/2022/02/21/redis/2.png" alt></p>
</li>
</ol>
</li>
</ol>
</li>
</ul>
<h2 id="六、案例"><a href="#六、案例" class="headerlink" title="六、案例"></a>六、案例</h2><p><img src="/2022/02/21/redis/3.png" alt></p>
]]></content>
      <categories>
        <category>redis</category>
      </categories>
      <tags>
        <tag>redis</tag>
      </tags>
  </entry>
  <entry>
    <title>servlet-1</title>
    <url>/2021/12/02/servlet-1/</url>
    <content><![CDATA[<h3 id="一、servlet基础"><a href="#一、servlet基础" class="headerlink" title="一、servlet基础"></a>一、servlet基础</h3><p>servlet : server applet</p>
<ul>
<li><p>概念∶运行在服务器端的小程序</p>
</li>
<li><p>Servlet就是一个接口，定义了Java类被浏览器访问到(tomcat识别)的规则。*将来我们自定义一个类，实现servlet接口，复写方法。</p>
</li>
</ul>
<h5 id="1-快速入门∶"><a href="#1-快速入门∶" class="headerlink" title="1. 快速入门∶"></a>1. 快速入门∶</h5><p>1．创建avaEE项目</p>
<p>2．定义一个类，实现servlet接口</p>
<p>3．实现接口中的抽象方法</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class servlet_demo1 implements Servlet &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void init(ServletConfig servletConfig) throws ServletException &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public ServletConfig getServletConfig() &#123;</span><br><span class="line">        return null;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void service(ServletRequest servletRequest, ServletResponse servletResponse) throws ServletException, IOException &#123;</span><br><span class="line">        System.out.println(&quot;dddd&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public String getServletInfo() &#123;</span><br><span class="line">        return null;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void destroy() &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>4．配置servlet</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">web.xml</span><br><span class="line">&lt;!--配置servlet--&gt;</span><br><span class="line">    &lt;servlet&gt;</span><br><span class="line">        &lt;servlet-name&gt;demo1&lt;/servlet-name&gt;</span><br><span class="line">        &lt;servlet-class&gt;first_test.servlet_demo1&lt;/servlet-class&gt;</span><br><span class="line">    &lt;/servlet&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;servlet-mapping&gt;</span><br><span class="line">        &lt;servlet-name&gt;demo1&lt;/servlet-name&gt;</span><br><span class="line">        &lt;url-pattern&gt;/first&lt;/url-pattern&gt;</span><br><span class="line">    &lt;/servlet-mapping&gt;</span><br></pre></td></tr></table></figure>
<p>执行原理︰</p>
<ol>
<li><p>当服务器接受到客户端浏览器的请求后，会解析请求URL路径，获取访问的servlet的资源路径</p>
</li>
<li><p>查找web.xml文件，是否有对应的<url-pattern>标签体内容。</url-pattern></p>
</li>
<li><p>如果有，则在找到对应的<servlet-class>全类名</servlet-class></p>
</li>
<li><p>tomcat会将字节码文件加载进内存，并且创建其对象</p>
</li>
<li><p>调用其方法</p>
</li>
</ol>
<ul>
<li><p>servlet中的生命周期︰</p>
<p>1．被创建:执行init方法，只执行一次</p>
<ul>
<li><p>可以通过web.xml配置调用时间 </p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>标签值为负数或不写，则是第一次被访问时创建。</span><br><span class="line">    				0或正数是服务器启动时创建</span><br><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>demo1<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>first_test.servlet_demo1<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>5<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Servlet是单例的，所以当多个用户同时访问时可能出安全问题。</p>
<p>解决方法：</p>
<ul>
<li>尽量不在Servlet类中定义成员变量。</li>
<li>定义了也不要在其中修改值。</li>
</ul>
</li>
</ul>
<p>2．提供服务:执行service方法，执行多次</p>
<ul>
<li>每次访问，执行一次</li>
</ul>
<p>3．被销毁:执行destroy方法，执行一次</p>
<ul>
<li>servlet被销毁时执行。服务器关闭，servlet销毁。</li>
<li>只有服务器正常关闭，才会执行destroy。</li>
<li>通常用于释放资源。</li>
</ul>
</li>
</ul>
<h5 id="2-servlet3-0"><a href="#2-servlet3-0" class="headerlink" title="2. servlet3.0"></a>2. servlet3.0</h5><ul>
<li><p>好处</p>
<ul>
<li><p>支持注解配置。可以不需要在web.xml中配置servlet了</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">*步骤︰</span><br><span class="line"></span><br><span class="line">1．创建JavaEE项目，选择servlet的版本3.0以上，可以不创建web.xml</span><br><span class="line">2．定义一个类，实现servlet接口</span><br><span class="line">3．复写方法</span><br><span class="line">4.在类上使用@WebServlet注解，进行配置</span><br><span class="line"></span><br><span class="line">@WebServlet(urlPatterns = &#123;&quot;/login&quot;&#125;)</span><br><span class="line">或者</span><br><span class="line">@WebServlet(&#123;&quot;/login&quot;&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h5 id="3-idea与tomcat相关配置"><a href="#3-idea与tomcat相关配置" class="headerlink" title="3. idea与tomcat相关配置"></a>3. idea与tomcat相关配置</h5><ul>
<li>idea运行会为每一个项目单独建立配置文件：路径在每次启动显示（如下）</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Using CATALINA_BASE:   &quot;C:\Users\lixu\.IntelliJIdea2018.3\system\tomcat\Tomcat_9_0_55_java_web_2&quot;</span><br></pre></td></tr></table></figure>
<p>通过idea使用 edit configurations 配置</p>
<ul>
<li>tomcat部署的项目和idea中的不一样</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">！！！tomcat部署的项目在out文件目录下</span><br></pre></td></tr></table></figure>
<ul>
<li>WEB-INF目录下文件不能被浏览器直接访问</li>
</ul>
]]></content>
      <categories>
        <category>servlet</category>
      </categories>
      <tags>
        <tag>servlet入门</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>/2022/03/14/mybatis/</url>
    <content><![CDATA[<p>title: mybatis<br>date: 2022-03-14 21:15:41<br>categories: SSM<br>tags: mybatis</p>
<h1 id="MyBatis"><a href="#MyBatis" class="headerlink" title="MyBatis"></a>MyBatis</h1><h2 id="一、mybatis的介绍"><a href="#一、mybatis的介绍" class="headerlink" title="一、mybatis的介绍"></a>一、mybatis的介绍</h2><p>​    MyBatis 本是apache的一个开源项目iBatis, 2010年这个项目由apache software foundation 迁移到了</p>
<p>google code，并且改名为MyBatis 。 2013 年 11 月迁移到Github。 MyBatis是一个优秀的持久层框</p>
<p>架，它对jdbc的操作数据库的过程进行封装，使开发者只需要关注 SQL 本身，而不需要花费精力去处</p>
<p>理例如注册驱动、创建connection、创建statement、手动设置参数、结果集检索等jdbc繁杂的过程代</p>
<p>码。</p>
<p>​    Mybatis通过xml或注解的方式将要执行的各种statement（statement、preparedStatement、</p>
<p>CallableStatement）配置起来，并通过java对象和statement中的sql进行映射生成最终执行的sql语</p>
<p>句，最后由mybatis框架执行sql并将结果映射成java对象并返回。</p>
<h4 id="jdbc编程"><a href="#jdbc编程" class="headerlink" title="jdbc编程"></a>jdbc编程</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Connection connection = <span class="keyword">null</span>;</span><br><span class="line">    PreparedStatement preparedStatement = <span class="keyword">null</span>;</span><br><span class="line">    ResultSet resultSet = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//加载数据库驱动</span></span><br><span class="line">        Class.forName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">        <span class="comment">//通过驱动管理类获取数据库链接</span></span><br><span class="line">        connection =</span><br><span class="line">        DriverManager.getConnection(<span class="string">&quot;jdbc:mysql://localhost:3306/mybatis?</span></span><br><span class="line"><span class="string">        characterEncoding=utf-8&quot;</span>, <span class="string">&quot;root&quot;</span>, <span class="string">&quot;root&quot;</span>);</span><br><span class="line">        <span class="comment">//定义sql语句 ?表示占位符</span></span><br><span class="line">        String sql = <span class="string">&quot;select * from user where username = ?&quot;</span>;</span><br><span class="line">        <span class="comment">//获取预处理statement</span></span><br><span class="line">        preparedStatement = connection.prepareStatement(sql);</span><br><span class="line">        <span class="comment">//设置参数，第一个参数为sql语句中参数的序号（从 1 开始），第二个参数为设置的参</span></span><br><span class="line">        数值</span><br><span class="line">        preparedStatement.setString( <span class="number">1</span> , <span class="string">&quot;王五&quot;</span>);</span><br><span class="line">        <span class="comment">//向数据库发出sql执行查询，查询出结果集</span></span><br><span class="line">        resultSet = preparedStatement.executeQuery();</span><br><span class="line">        <span class="comment">//遍历查询结果集</span></span><br><span class="line">        <span class="keyword">while</span>(resultSet.next())&#123;</span><br><span class="line">        System.out.println(resultSet.getString(<span class="string">&quot;id&quot;</span>)+<span class="string">&quot;</span></span><br><span class="line"><span class="string">        &quot;</span>+resultSet.getString(<span class="string">&quot;username&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">finally</span>&#123;</span><br><span class="line">        <span class="comment">//释放资源</span></span><br><span class="line">        <span class="keyword">if</span>(resultSet!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                resultSet.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(preparedStatement!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                preparedStatement.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(connection!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                connection.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>jdbc操作数据库有什么问题</p>
<ol>
<li>数据库链接创建、释放频繁造成系统资源浪费从而影响系统性能，如果使用数据库链接池可解决此</li>
</ol>
<p>问题。</p>
<ol>
<li>Sql语句在代码中硬编码，造成代码不易维护，实际应用sql变化的可能较大，sql变动需要改变java</li>
</ol>
<p>代码。</p>
<ol>
<li>使用preparedStatement向占有位符号传参数存在硬编码，因为sql语句的where条件不一定，可</li>
</ol>
<p>能多也可能少，修改sql还要修改代码，系统不易维护。</p>
<ol>
<li>对结果集解析存在硬编码（查询列名），sql变化导致解析代码变化，系统不易维护，如果能将数</li>
</ol>
<p>据库记录封装成pojo对象解析比较方便。</p>
<h4 id="mybatis的架构"><a href="#mybatis的架构" class="headerlink" title="mybatis的架构"></a>mybatis的架构</h4><ol>
<li>mybatis配置</li>
</ol>
<p>SqlMapConfig.xml: 此文件作为mybatis的全局配置文件，配置了mybatis的运行环境等信</p>
<p>息，比如数据库连接信息。</p>
<p>mapper.xml：sql映射文件，文件中配置了操作数据库的sql语句。 需要在</p>
<p>SqlMapConfig.xml中加载。</p>
<ol>
<li><p>通过mybatis环境等配置信息构造SqlSessionFactory即会话工厂。</p>
</li>
<li><p>由会话工厂创建sqlSession即会话，操作数据库需要通过sqlSession进行。</p>
</li>
<li><p>mybatis底层自定义了Executor执行器接口操作数据库，Executor接口有两个实现，一个是基本执</p>
</li>
</ol>
<p>行器、一个是缓存执行器。</p>
<ol>
<li>MappedStatement也是mybatis一个底层封装对象，它包装了mybatis配置信息及sql映射信息</li>
</ol>
<p>等。 mapper.xml文件中一个sql对应一个MappedStatement对象 ，sql的id即是Mapped</p>
<p>statement的id</p>
<ol>
<li>MappedStatement对sql执行输入参数进行定义，包括HashMap、基本类型、pojo，Executor通</li>
</ol>
<p>过Mapped Statement在执行sql前将输入的java对象映射至sql中，输入参数映射就是jdbc编程中</p>
<p>对preparedStatement设置参数。</p>
<ol>
<li>Mapped Statement对sql执行输出结果进行定义，包括HashMap、基本类型、pojo，Executor通</li>
</ol>
<p>过Mapped</p>
<p>Statement在执行sql后将输出结果映射至java对象中，输出结果映射过程相当于jdbc编程中对结果</p>
<p>的解析处理过程。</p>
<ol>
<li>Mapped StateMent总结：拿到左边的输入映射进行sql参数配置，结合session会话完成对数据库</li>
</ol>
<p>的sql操作，并拿到最终结果并输出到右边的输出映射数据中。</p>
<h5 id="总结"><a href="#总结" class="headerlink" title="总结:"></a>总结:</h5><ol>
<li>Mybatis是一个轻量级的持久层框架，它将sql语句定制到xml配置文件中，并将sql执行的结果自</li>
</ol>
<p>动映射到指定的数据类型:map,list,pojo,基本类型</p>
<ol>
<li>Mybatis简单架构</li>
</ol>
<h2 id="二、mybatis入门程序"><a href="#二、mybatis入门程序" class="headerlink" title="二、mybatis入门程序"></a>二、mybatis入门程序</h2><h3 id="mybatis下载"><a href="#mybatis下载" class="headerlink" title="mybatis下载"></a>mybatis下载</h3><p>mybaits的代码由github.com管理，地址：<a href="https://github.com/mybatis/mybatis-3/releases">https://github.com/mybatis/mybatis-3/releases</a></p>
<p>mybatis-3.5.9.jar——mybatis的核心包</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.9<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="案例程序"><a href="#案例程序" class="headerlink" title="案例程序"></a>案例程序</h3><h4 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h4><p>实现以下功能:</p>
<ol>
<li><p>根据用户id查询一个用户信息</p>
</li>
<li><p>根据用户名称模糊查询用户信息列表</p>
</li>
<li><p>添加用户</p>
</li>
<li><p>更新用户</p>
</li>
<li><p>删除用户</p>
</li>
</ol>
<h4 id="开发步骤"><a href="#开发步骤" class="headerlink" title="开发步骤"></a>开发步骤</h4><p>首先编写mybatis-config.xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span></span></span><br><span class="line"><span class="meta">  <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">  <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;driver&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;url&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;username&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;password&#125;&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;org/mybatis/example/BlogMapper.xml&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="1-编写获取SqlSession工具类"><a href="#1-编写获取SqlSession工具类" class="headerlink" title="1. 编写获取SqlSession工具类"></a>1. 编写获取SqlSession工具类</h5><p><img src="/2022/03/14/mybatis/1.png" alt></p>
<p><img src="/2022/03/14/mybatis/2.png" alt></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MybatisUtil</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> SqlSessionFactory sqlSessionFactory;</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        String resource = <span class="string">&quot;mybatis-config.xml&quot;</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            InputStream is = Resources.getResourceAsStream(resource);</span><br><span class="line">            sqlSessionFactory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(is);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> SqlSession <span class="title">getSqlSession</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sqlSessionFactory.openSession();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="2-编写pojo类"><a href="#2-编写pojo类" class="headerlink" title="2. 编写pojo类"></a>2. 编写pojo类</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">user1</span> </span>&#123;</span><br><span class="line">    Integer id;</span><br><span class="line">    String name;</span><br><span class="line">    Integer age;</span><br><span class="line">     <span class="function"><span class="keyword">public</span> Integer <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(Integer age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="3-编写pojo-mapper接口"><a href="#3-编写pojo-mapper接口" class="headerlink" title="3. 编写pojo mapper接口"></a>3. 编写pojo mapper接口</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">user1Mapper</span> </span>&#123;</span><br><span class="line">    <span class="function">List&lt;user1&gt; <span class="title">getAllUser1</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="4-编写mapper-xml"><a href="#4-编写mapper-xml" class="headerlink" title="4. 编写mapper.xml"></a>4. 编写mapper.xml</h5><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--namespace绑定一个对应的mapper接口的相对路径--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;mapper.user1Mapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--select查询方法，id为mapper接口中对应方法的名字--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getAllUser1&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;pojo.user1&quot;</span>&gt;</span></span><br><span class="line">      select * from user1</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="5-mybatis-config-xml-绑定mapper-xml"><a href="#5-mybatis-config-xml-绑定mapper-xml" class="headerlink" title="5. mybatis-config.xml 绑定mapper.xml"></a>5. mybatis-config.xml 绑定mapper.xml</h5><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;mapper/user1Mapper.xml&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="6-测试程序"><a href="#6-测试程序" class="headerlink" title="6. 测试程序"></a>6. 测试程序</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mybatis_test</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//获得sqlSession</span></span><br><span class="line">        SqlSession sqlSession = MybatisUtil.getSqlSession();</span><br><span class="line">        <span class="comment">//方式一：getMapper</span></span><br><span class="line">        user1Mapper uMapper = sqlSession.getMapper(user1Mapper.class);</span><br><span class="line">        List&lt;user1&gt; uList = uMapper.getAllUser1();</span><br><span class="line">        System.out.println(uList);</span><br><span class="line">        <span class="comment">//方式二：直接使用sqlSession(不推荐)</span></span><br><span class="line">        List&lt;user1&gt; ul = sqlSession.selectList(<span class="string">&quot;mapper.user1Mapper.getAllUser1&quot;</span>);</span><br><span class="line">        System.out.println(ul);</span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h5 id="可能遇到的问题"><a href="#可能遇到的问题" class="headerlink" title="可能遇到的问题"></a>可能遇到的问题</h5><p>你们可以能会遇到的问题:</p>
<ol>
<li><p>配置文件没有注册</p>
</li>
<li><p>绑定接口错误。</p>
</li>
<li><p>方法名不对</p>
</li>
<li><p>返回类型不对</p>
</li>
<li><p>Maven导出资源问题</p>
</li>
</ol>
<h2 id="三、CRUD"><a href="#三、CRUD" class="headerlink" title="三、CRUD"></a>三、CRUD</h2><h3 id="3-1-select"><a href="#3-1-select" class="headerlink" title="3.1 select"></a>3.1 select</h3><ul>
<li>id：是对应的方法的名称</li>
<li>resultType：是sql语句执行的返回值类的路径</li>
<li>parameterType：是方法参数类型</li>
<li>parameterMap：是方法的参数列表</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">user1Mapper</span> </span>&#123;</span><br><span class="line">    <span class="function">List&lt;user1&gt; <span class="title">getAllUser1</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">user1 <span class="title">getUser1ByID</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;mapper.user1Mapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getAllUser1&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;pojo.user1&quot;</span>&gt;</span></span><br><span class="line">      select * from user1</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUser1ByID&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;pojo.user1&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;int&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- id = #&#123;id&#125; 中#&#123;id&#125;与上面接口的形参名称int id相同--&gt;</span></span><br><span class="line">      select * from user1 where id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="3-2-insert"><a href="#3-2-insert" class="headerlink" title="3.2 insert"></a>3.2 insert</h3><ul>
<li><h1 id="id-name-age-与pojo-user1类属性一致"><a href="#id-name-age-与pojo-user1类属性一致" class="headerlink" title="{id},#{name},#{age} 与pojo.user1类属性一致"></a>{id},#{name},#{age} 与pojo.user1类属性一致</h1></li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;addUser1&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;pojo.user1&quot;</span>&gt;</span></span><br><span class="line">        insert into user1 (id,name,age) values(#&#123;id&#125;,#&#123;name&#125;,#&#123;age&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>注意，增删改需要提交事务</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//增删改需要提交事务</span></span><br><span class="line">   <span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertUser</span><span class="params">()</span></span>&#123;</span><br><span class="line">       user1 u1 = <span class="keyword">new</span> user1(<span class="number">97</span>, <span class="string">&quot;sdas&quot;</span>, <span class="number">200</span>);</span><br><span class="line">       SqlSession sqlSession = MybatisUtil.getSqlSession();</span><br><span class="line">       user1Mapper mapper = sqlSession.getMapper(user1Mapper.class);</span><br><span class="line">       <span class="keyword">int</span> res = mapper.addUser1(u1);</span><br><span class="line">       <span class="keyword">if</span>(res&gt;<span class="number">0</span>)&#123;</span><br><span class="line">           System.out.println(<span class="string">&quot;插入成功&quot;</span>);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">//提交事务</span></span><br><span class="line">       sqlSession.commit();</span><br><span class="line">       sqlSession.close();</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-3-update"><a href="#3-3-update" class="headerlink" title="3.3 update"></a>3.3 update</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateUser1&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;pojo.user1&quot;</span>&gt;</span></span><br><span class="line">    update user1 set name=#&#123;name&#125;,age=#&#123;age&#125; where id=#&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="3-4-delect"><a href="#3-4-delect" class="headerlink" title="3.4 delect"></a>3.4 delect</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;delectUser1&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;int&quot;</span>&gt;</span></span><br><span class="line">    delete from user1 where id=#&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h3><p>mybatis中的增删改查，就是编写接口与配置文件中的sql</p>
<h2 id="四、map传值，模糊查询"><a href="#四、map传值，模糊查询" class="headerlink" title="四、map传值，模糊查询"></a>四、map传值，模糊查询</h2><h3 id="4-1-传递map值"><a href="#4-1-传递map值" class="headerlink" title="4.1  传递map值"></a>4.1  传递map值</h3><ul>
<li>使用map进行参数传递，在更新单个数据时就不需要new一个新的对象，只需要传递需要修改的参数</li>
<li><strong>使用map可以避免新建对象产生的冗余信息</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">mapUpdateUName</span><span class="params">(Map&lt;String,Object&gt; m)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;mapUpdateUName&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;map&quot;</span>&gt;</span></span><br><span class="line">     update user1 set name=#&#123;name&#125; where id=#&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mapUpdateN</span><span class="params">()</span></span>&#123;</span><br><span class="line">    SqlSession sqlSession = MybatisUtil.getSqlSession();</span><br><span class="line">    user1Mapper mapper = sqlSession.getMapper(user1Mapper.class);</span><br><span class="line">    HashMap&lt;String, Object&gt; m = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    m.put(<span class="string">&quot;id&quot;</span>,<span class="number">1</span>);</span><br><span class="line">    m.put(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;天海&quot;</span>);</span><br><span class="line">    <span class="keyword">int</span> res = mapper.mapUpdateUName(m);</span><br><span class="line">    <span class="keyword">if</span>(res&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;修改成功&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    sqlSession.commit();</span><br><span class="line">    sqlSession.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-2-模糊查询"><a href="#4-2-模糊查询" class="headerlink" title="4.2 模糊查询"></a>4.2 模糊查询</h3><h4 id="1-java代码执行时传递通配符"><a href="#1-java代码执行时传递通配符" class="headerlink" title="1. java代码执行时传递通配符"></a>1. java代码执行时传递通配符</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">select * from user1 where id = #&#123;val&#125;</span><br><span class="line">String val = <span class="string">&quot;%val%&quot;</span> </span><br></pre></td></tr></table></figure>
<h4 id="2-在配置文件中拼接"><a href="#2-在配置文件中拼接" class="headerlink" title="2. 在配置文件中拼接"></a>2. 在配置文件中拼接</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">select * from user1 where id = &quot;%&quot;#&#123;id&#125;&quot;%&quot;</span><br></pre></td></tr></table></figure>
<h2 id="五、配置解析"><a href="#五、配置解析" class="headerlink" title="五、配置解析"></a>五、配置解析</h2><h3 id="5-1-核心配置文件"><a href="#5-1-核心配置文件" class="headerlink" title="5.1 核心配置文件"></a>5.1 核心配置文件</h3><ul>
<li><p>mybatis-config.xml</p>
<p><img src="/2022/03/14/mybatis/3.png" alt></p>
</li>
</ul>
<h4 id="1）环境配置（environments）"><a href="#1）环境配置（environments）" class="headerlink" title="1）环境配置（environments）"></a>1）环境配置（environments）</h4><p>MyBatis 可以配置成适应多种环境，</p>
<p><strong>不过要记住：尽管可以配置多个环境，但每个 SqlSessionFactory 实例只能选择一种环境。</strong></p>
<ul>
<li><strong>每个数据库对应一个 SqlSessionFactory 实例</strong></li>
</ul>
<p>为了指定创建哪种环境，只要将它作为可选的参数传递给 SqlSessionFactoryBuilder 即可。可以接受环境配置的两个方法签名是：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">SqlSessionFactory factory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(reader, environment);</span><br><span class="line">SqlSessionFactory factory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(reader, environment, properties);</span><br></pre></td></tr></table></figure>
<p>如果忽略了环境参数，那么将会加载默认环境，如下所示：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">SqlSessionFactory factory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(reader);</span><br><span class="line">SqlSessionFactory factory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(reader, properties);</span><br></pre></td></tr></table></figure>
<p>environments 元素定义了如何配置环境。</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;...&quot;</span> <span class="attr">value</span>=<span class="string">&quot;...&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">transactionManager</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;driver&#125;&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;url&#125;&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;username&#125;&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;password&#125;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>注意一些关键点:</p>
<ul>
<li>默认使用的环境 ID（比如：default=”development”）。</li>
<li>每个 environment 元素定义的环境 ID（比如：id=”development”）。</li>
<li>事务管理器的配置（比如：type=”JDBC”）。</li>
<li>数据源的配置（比如：type=”POOLED”）。</li>
</ul>
<p>默认环境和环境 ID 顾名思义。 环境可以随意命名，但务必保证默认的环境 ID 要匹配其中一个环境 ID。</p>
<h5 id="数据源（dataSource）"><a href="#数据源（dataSource）" class="headerlink" title="数据源（dataSource）"></a>数据源（dataSource）</h5><p>dataSource 元素使用标准的 JDBC 数据源接口来配置 JDBC 连接对象的资源。</p>
<ul>
<li>大多数 MyBatis 应用程序会按示例中的例子来配置数据源。虽然数据源配置是可选的，但如果要启用延迟加载特性，就必须配置数据源。</li>
</ul>
<p>有三种内建的数据源类型（也就是 type=”[UNPOOLED|POOLED|JNDI]”）：</p>
<p><strong>一般只使用连接池的方式</strong></p>
<p><strong>POOLED</strong>– 这种数据源的实现利用“池”的概念将 JDBC 连接对象组织起来，避免了创建新的连接实例时所必需的初始化和认证时间。 这种处理方式很流行，能使并发 Web 应用快速响应请求。</p>
<p>除了上述提到 UNPOOLED 下的属性外，还有更多属性用来配置 POOLED 的数据源：</p>
<ul>
<li><code>poolMaximumActiveConnections</code> – 在任意时间可存在的活动（正在使用）连接数量，默认值：10</li>
<li><code>poolMaximumIdleConnections</code> – 任意时间可能存在的空闲连接数。</li>
<li><code>poolMaximumCheckoutTime</code> – 在被强制返回之前，池中连接被检出（checked out）时间，默认值：20000 毫秒（即 20 秒）</li>
<li><code>poolTimeToWait</code> – 这是一个底层设置，如果获取连接花费了相当长的时间，连接池会打印状态日志并重新尝试获取一个连接（避免在误配置的情况下一直失败且不打印日志），默认值：20000 毫秒（即 20 秒）。</li>
<li><code>poolMaximumLocalBadConnectionTolerance</code> – 这是一个关于坏连接容忍度的底层设置， 作用于每一个尝试从缓存池获取连接的线程。 如果这个线程获取到的是一个坏的连接，那么这个数据源允许这个线程尝试重新获取一个新的连接，但是这个重新尝试的次数不应该超过 <code>poolMaximumIdleConnections</code> 与 <code>poolMaximumLocalBadConnectionTolerance</code> 之和。 默认值：3（新增于 3.4.5）</li>
<li><code>poolPingQuery</code> – 发送到数据库的侦测查询，用来检验连接是否正常工作并准备接受请求。默认是“NO PING QUERY SET”，这会导致多数数据库驱动出错时返回恰当的错误消息。</li>
<li><code>poolPingEnabled</code> – 是否启用侦测查询。若开启，需要设置 <code>poolPingQuery</code> 属性为一个可执行的 SQL 语句（最好是一个速度非常快的 SQL 语句），默认值：false。</li>
<li><code>poolPingConnectionsNotUsedFor</code> – 配置 poolPingQuery 的频率。可以被设置为和数据库连接超时时间一样，来避免不必要的侦测，默认值：0（即所有连接每一时刻都被侦测 — 当然仅当 poolPingEnabled 为 true 时适用）。</li>
</ul>
<h5 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h5><p>mybatis默认的事务管理器就是JDBC，连接池：POOLED</p>
<h4 id="2-属性-properties（放在configuration开头）"><a href="#2-属性-properties（放在configuration开头）" class="headerlink" title="2) 属性 properties（放在configuration开头）"></a>2) 属性 properties（放在configuration开头）</h4><p>我们可以通过properties属性来实现引用配置文件</p>
<p> 这些属性可以在外部进行配置，并可以进行动态替换。你既可以在典型的 Java 属性文件中配置这些属性，也可以在 properties 元素的子元素中设置。</p>
<h5 id="1-编写一个properties"><a href="#1-编写一个properties" class="headerlink" title="1. 编写一个properties"></a>1. 编写一个properties</h5><p><strong>“注意”：这里jdbcurl不能命名为”url“，因为${url}在mybatis中有默认值</strong></p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">driverClassName</span>=<span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="attr">jdbcurl</span>=<span class="string">jdbc:mysql://localhost:3306/user?serverTimezone=UTC&amp;characterEncoding=utf8&amp;useUnicode=true&amp;useSSL=false</span></span><br><span class="line"><span class="attr">username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">password</span>=<span class="string">111111</span></span><br></pre></td></tr></table></figure>
<h5 id="2-在核心配置文件中引入"><a href="#2-在核心配置文件中引入" class="headerlink" title="2. 在核心配置文件中引入"></a>2. 在核心配置文件中引入</h5><p><img src="/2022/03/14/mybatis/4.png" alt></p>
<ul>
<li>properties导入必须在configuration的最前面</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span> <span class="attr">resource</span>=<span class="string">&quot;org/mybatis/example/config.properties&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;dev_user&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;F2Fa3!33TYyg&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>导入后，就可以根据properties中配置的值使用${key}获取对应的值</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;driver&#125;&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;url&#125;&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;username&#125;&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;password&#125;&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>可以直接引入外部文件</li>
<li>可以在其中添加属性</li>
<li>如果两个文件有同一个字段，优先使用外部配置文件的</li>
</ul>
<h4 id="3）类型别名（typeAliases）（放在configuration中第三的位置（setting之后））"><a href="#3）类型别名（typeAliases）（放在configuration中第三的位置（setting之后））" class="headerlink" title="3）类型别名（typeAliases）（放在configuration中第三的位置（setting之后））"></a>3）类型别名（typeAliases）（放在configuration中第三的位置（setting之后））</h4><p>类型别名可为 Java 类型设置一个缩写名字。 它仅用于 XML 配置，意在降低冗余的全限定类名书写。例如：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">alias</span>=<span class="string">&quot;Author&quot;</span> <span class="attr">type</span>=<span class="string">&quot;domain.blog.Author&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">alias</span>=<span class="string">&quot;Blog&quot;</span> <span class="attr">type</span>=<span class="string">&quot;domain.blog.Blog&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">alias</span>=<span class="string">&quot;Comment&quot;</span> <span class="attr">type</span>=<span class="string">&quot;domain.blog.Comment&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">alias</span>=<span class="string">&quot;Post&quot;</span> <span class="attr">type</span>=<span class="string">&quot;domain.blog.Post&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">alias</span>=<span class="string">&quot;Section&quot;</span> <span class="attr">type</span>=<span class="string">&quot;domain.blog.Section&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">alias</span>=<span class="string">&quot;Tag&quot;</span> <span class="attr">type</span>=<span class="string">&quot;domain.blog.Tag&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>当这样配置时，<code>Blog</code> 可以用在任何使用 <code>domain.blog.Blog</code> 的地方。</p>
<p>也可以指定一个包名，MyBatis 会在包名下面搜索需要的 Java Bean，比如：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;domain.blog&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>每一个在包 <code>domain.blog</code> 中的 Java Bean，在没有注解的情况下，会使用 Bean 的首字母小写的非限定类名来作为它的别名。 比如 <code>domain.blog.Author</code> 的别名为 <code>author</code>；若有注解，则别名为其注解值。见下面的例子：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Alias(&quot;author&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Author</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="4-设置-setting"><a href="#4-设置-setting" class="headerlink" title="4) 设置 setting"></a>4) 设置 setting</h4><p>这是 MyBatis 中极为重要的调整设置，它们会改变 MyBatis 的运行时行为。 下表描述了设置中各项设置的含义、默认值等。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">设置名</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">有效值</th>
<th style="text-align:left">默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">cacheEnabled</td>
<td style="text-align:left">全局性地开启或关闭所有映射器配置文件中已配置的任何缓存。</td>
<td style="text-align:left">true \</td>
<td style="text-align:left">false</td>
<td>true</td>
</tr>
<tr>
<td style="text-align:left">lazyLoadingEnabled</td>
<td style="text-align:left">延迟加载的全局开关。当开启时，所有关联对象都会延迟加载。 特定关联关系中可通过设置 <code>fetchType</code> 属性来覆盖该项的开关状态。</td>
<td style="text-align:left">true \</td>
<td style="text-align:left">false</td>
<td>false</td>
</tr>
<tr>
<td style="text-align:left">logImpl</td>
<td style="text-align:left">指定 MyBatis 所用日志的具体实现，未指定时将自动查找。</td>
<td style="text-align:left">SLF4J \</td>
<td style="text-align:left">LOG4J(deprecated since 3.5.9) \</td>
<td>LOG4J2 \</td>
<td>JDK_LOGGING \</td>
<td>COMMONS_LOGGING \</td>
<td>STDOUT_LOGGING \</td>
<td>NO_LOGGING</td>
<td>未设置</td>
</tr>
</tbody>
</table>
</div>
<h4 id="5-映射器（mappers）"><a href="#5-映射器（mappers）" class="headerlink" title="5) 映射器（mappers）"></a>5) 映射器（mappers）</h4><p>绑定资源</p>
<p>方式一、配置配置文件路径</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 使用相对于类路径的资源引用 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;org/mybatis/builder/AuthorMapper.xml&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;org/mybatis/builder/BlogMapper.xml&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;org/mybatis/builder/PostMapper.xml&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>方式二、扫描包</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 将包内的映射器接口实现全部注册为映射器 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;org.mybatis.builder&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>注意：此方法有一些约束</p>
<ul>
<li>xml配置文件和接口必须同名</li>
<li>xml配置文件和接口必须在同一个包下</li>
</ul>
<p>方式三、</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 使用映射器接口实现类的完全限定类名 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.builder.AuthorMapper&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.builder.BlogMapper&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.builder.PostMapper&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>注意：此方法有一些约束</p>
<ul>
<li>xml配置文件和接口必须同名</li>
<li>xml配置文件和接口必须在同一个包下</li>
</ul>
<h2 id="六、生命周期和作用域"><a href="#六、生命周期和作用域" class="headerlink" title="六、生命周期和作用域"></a>六、生命周期和作用域</h2><p>生命周期类别是至关重要的，因为错误的使用会导致非常严重的并发问题。</p>
<p><img src="/2022/03/14/mybatis/5.png" alt></p>
<h3 id="6-1-sqlSessionFactoryBuilder"><a href="#6-1-sqlSessionFactoryBuilder" class="headerlink" title="6.1 sqlSessionFactoryBuilder:"></a>6.1 sqlSessionFactoryBuilder:</h3><ul>
<li>一旦创建sqlSessionFactory就不需要sqlSessionFactoryBuilder了</li>
<li>局部变量</li>
</ul>
<h3 id="6-2-sqlSessionFactory"><a href="#6-2-sqlSessionFactory" class="headerlink" title="6.2 sqlSessionFactory"></a>6.2 sqlSessionFactory</h3><ul>
<li>SqlSessionFactory 一旦被创建就应该在应用的运行期间一直存在，因此 SqlSessionFactory 的最佳作用域是应用作用域。</li>
<li>最简单的就是使用单例模式或者静态单例模式。</li>
</ul>
<h3 id="6-3-sqlSession"><a href="#6-3-sqlSession" class="headerlink" title="6.3 sqlSession"></a>6.3 sqlSession</h3><ul>
<li>每个线程都应该有它自己的 SqlSession 实例。</li>
<li>SqlSession 的实例不是线程安全的，因此是不能被共享的，所以它的最佳的作用域是请求或方法作用域。</li>
<li>每次收到 HTTP 请求，就可以打开一个 SqlSession，返回一个响应后，就关闭它。 这个关闭操作很重要，为了确保每次都能执行关闭操作，你应该把这个关闭操作放到 finally 块中。</li>
</ul>
<h2 id="七、解决属性名和字段名不一致问题"><a href="#七、解决属性名和字段名不一致问题" class="headerlink" title="七、解决属性名和字段名不一致问题"></a>七、解决属性名和字段名不一致问题</h2><h3 id="7-1-新建数据库表"><a href="#7-1-新建数据库表" class="headerlink" title="7.1  新建数据库表"></a>7.1  新建数据库表</h3><p><img src="/2022/03/14/mybatis/6.png" alt></p>
<h3 id="7-2-创建实体类，属性名与数据库表中字段不一致"><a href="#7-2-创建实体类，属性名与数据库表中字段不一致" class="headerlink" title="7.2 创建实体类，属性名与数据库表中字段不一致"></a>7.2 创建实体类，属性名与数据库表中字段不一致</h3><p><img src="/2022/03/14/mybatis/7.png" alt></p>
<ul>
<li>注意<ul>
<li>这里实体类如果只有参构造方法，并且构造函数参数顺序与数据库表中字段名顺序一致，则也能正常查询出结果</li>
<li>如果只有空构造，则名称不对应的字段值显示为空</li>
<li>如果只有参构造方法，并且参数错位，则会报错</li>
</ul>
</li>
</ul>
<h3 id="7-3-使用resultMap解决"><a href="#7-3-使用resultMap解决" class="headerlink" title="7.3 使用resultMap解决"></a>7.3 使用resultMap解决</h3><p><code>resultMap</code> 元素是 MyBatis 中最重要最强大的元素。ResultMap 的设计思想是，对简单的语句做到零配置，对于复杂一点的语句，只需要描述语句之间的关系就行了。</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--id为resultMap名称，type为映射的pojo对象--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;userMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;pojo.user&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--column为数据库中的列名，property为实体类中的属性set方法名--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;uid&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;name&quot;</span> <span class="attr">property</span>=<span class="string">&quot;uName&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;email&quot;</span> <span class="attr">property</span>=<span class="string">&quot;uemail&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findAllUser&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;userMap&quot;</span>&gt;</span></span><br><span class="line">  select * from user</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="八、日志"><a href="#八、日志" class="headerlink" title="八、日志"></a>八、日志</h2><h3 id="8-1-日志工厂"><a href="#8-1-日志工厂" class="headerlink" title="8.1 日志工厂"></a>8.1 日志工厂</h3><ul>
<li>如果一个数据库操作，出现了异常，排错时，日志是最好的工具。</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>logImpl</th>
<th>指定 MyBatis 所用日志的具体实现，未指定时将自动查找。</th>
<th>SLF4J \</th>
<th>LOG4J(deprecated since 3.5.9) \</th>
<th>LOG4J2 \</th>
<th>JDK_LOGGING \</th>
<th>COMMONS_LOGGING \</th>
<th>STDOUT_LOGGING \</th>
<th>NO_LOGGING</th>
<th>未设置</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
</div>
<p>重点掌握</p>
<ul>
<li><p>LOG4J</p>
</li>
<li><p>STDOUT_LOGGING </p>
</li>
</ul>
<p>使用哪一个在setting中进行配置</p>
<h3 id="8-2-STDOUT-LOGGING-标准日志输出"><a href="#8-2-STDOUT-LOGGING-标准日志输出" class="headerlink" title="8.2 STDOUT_LOGGING 标准日志输出"></a>8.2 STDOUT_LOGGING 标准日志输出</h3><p>在核心配置文件中配置settings（在第二个位置，properties后）</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;logImpl&quot;</span> <span class="attr">value</span>=<span class="string">&quot;STDOUT_LOGGING&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2022/03/14/mybatis/8.png" alt></p>
<h3 id="8-3-LOG4J2"><a href="#8-3-LOG4J2" class="headerlink" title="8.3 LOG4J2"></a>8.3 LOG4J2</h3><h4 id="LOG4J2环境配置"><a href="#LOG4J2环境配置" class="headerlink" title="LOG4J2环境配置"></a>LOG4J2环境配置</h4><ol>
<li><p>先导包</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.17.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.17.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><strong>Log4j2简介</strong></p>
<p>log4j2是log4j 1.x 的升级版，2015年5月，Apache宣布log4j1.x 停止更新。最新版为1.2.17。</p>
<p>log4j2参考了logback的一些优秀的设计，并且修复了一些问题，因此带来了一些重大的提升，主要有：</p>
<p>1、异常处理：在logback中，Appender中的异常不会被应用感知到，但是在log4j2中，提供了一些异常处理机制。</p>
<p>2、性能提升：log4j2相较于log4j 1和logback都具有很明显的性能提升。</p>
<p>3、自动重载配置：参考了logback的设计，提供自动刷新参数配置，可以动态的修改日志的级别而不需要重启应用。</p>
<p>4、无垃圾机制，log4j2在大部分情况下，都可以使用其设计的一套无垃圾机制，避免频繁的日志收集导致的jvm gc。</p>
<p><strong>以Java项目为例介绍log4j2配置步骤</strong></p>
<p>工程结构如下</p>
<p> <a href="data:image/png;base64,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"><img src="data:image/png;base64,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" alt="img"></a>   </p>
<p>1.添加log4j2相关jar包（maven）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!--添加log4j2相关jar包--&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;2.7&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;2.7&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>
<p>2.log4j2.xml配置和简单说明</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;configuration status=&quot;error&quot;&gt;</span><br><span class="line">    &lt;!--先定义所有的appender --&gt;</span><br><span class="line">    &lt;appenders&gt;</span><br><span class="line">        &lt;!--这个输出控制台的配置 --&gt;</span><br><span class="line">        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;</span><br><span class="line">            &lt;!--             控制台只输出level及以上级别的信息（onMatch），其他的直接拒绝（onMismatch） --&gt;</span><br><span class="line">            &lt;ThresholdFilter level=&quot;trace&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;</span><br><span class="line">            &lt;!--             这个都知道是输出日志的格式 --&gt;</span><br><span class="line">            &lt;PatternLayout pattern=&quot;%d&#123;HH:mm:ss.SSS&#125; %-5level %class&#123;36&#125; %L %M - %msg%xEx%n&quot;/&gt;</span><br><span class="line">        &lt;/Console&gt;</span><br><span class="line"> </span><br><span class="line">        &lt;!--文件会打印出所有信息，这个log每次运行程序会自动清空，由append属性决定，这个也挺有用的，适合临时测试用 --&gt;</span><br><span class="line">        &lt;!--append为TRUE表示消息增加到指定文件中，false表示消息覆盖指定的文件内容，默认值是true --&gt;</span><br><span class="line">        &lt;File name=&quot;log&quot; fileName=&quot;D:/logs/log4j2.log&quot; append=&quot;false&quot;&gt;</span><br><span class="line">            &lt;PatternLayout pattern=&quot;%d&#123;HH:mm:ss.SSS&#125; %-5level %class&#123;36&#125; %L %M - %msg%xEx%n&quot;/&gt;</span><br><span class="line">        &lt;/File&gt;</span><br><span class="line"> </span><br><span class="line">        &lt;!--添加过滤器ThresholdFilter,可以有选择的输出某个级别以上的类别  onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;意思是匹配就接受,否则直接拒绝  --&gt;</span><br><span class="line">        &lt;File name=&quot;ERROR&quot; fileName=&quot;D:/logs/error.log&quot;&gt;</span><br><span class="line">            &lt;ThresholdFilter level=&quot;error&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;</span><br><span class="line">            &lt;PatternLayout pattern=&quot;%d&#123;yyyy.MM.dd &#x27;at&#x27; HH:mm:ss z&#125; %-5level %class&#123;36&#125; %L %M - %msg%xEx%n&quot;/&gt;</span><br><span class="line">        &lt;/File&gt;</span><br><span class="line"> </span><br><span class="line">        &lt;!--这个会打印出所有的信息，每次大小超过size，则这size大小的日志会自动存入按年份-月份建立的文件夹下面并进行压缩，作为存档 --&gt;</span><br><span class="line">        &lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;D:/logs/web.log&quot;</span><br><span class="line">                     filePattern=&quot;logs/$$&#123;date:yyyy-MM&#125;/web-%d&#123;MM-dd-yyyy&#125;-%i.log.gz&quot;&gt;</span><br><span class="line">            &lt;PatternLayout pattern=&quot;%d&#123;yyyy-MM-dd &#x27;at&#x27; HH:mm:ss z&#125; %-5level %class&#123;36&#125; %L %M - %msg%xEx%n&quot;/&gt;</span><br><span class="line">            &lt;SizeBasedTriggeringPolicy size=&quot;2MB&quot;/&gt;</span><br><span class="line">        &lt;/RollingFile&gt;</span><br><span class="line">    &lt;/appenders&gt;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">    &lt;!--然后定义logger，只有定义了logger并引入的appender，appender才会生效 --&gt;</span><br><span class="line">    &lt;loggers&gt;</span><br><span class="line">        &lt;root level=&quot;trace&quot;&gt;</span><br><span class="line">            &lt;appender-ref ref=&quot;RollingFile&quot;/&gt;</span><br><span class="line">            &lt;appender-ref ref=&quot;Console&quot;/&gt;</span><br><span class="line">            &lt;appender-ref ref=&quot;ERROR&quot; /&gt;</span><br><span class="line">            &lt;appender-ref ref=&quot;log&quot;/&gt;</span><br><span class="line">        &lt;/root&gt;</span><br><span class="line">    &lt;/loggers&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>
<p>3.测试类</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import org.apache.logging.log4j.LogManager;</span><br><span class="line">import org.apache.logging.log4j.Logger;</span><br><span class="line"> </span><br><span class="line">public class log4j2Test &#123;</span><br><span class="line"> </span><br><span class="line">    private static Logger logger= LogManager.getLogger(LogManager.ROOT_LOGGER_NAME);</span><br><span class="line"> </span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        for(int i=0;i&lt;3;i++)&#123;</span><br><span class="line">            // 记录trace级别的信息</span><br><span class="line">            logger.trace(&quot;log4j2日志输出：This is trace message.&quot;);</span><br><span class="line">            // 记录debug级别的信息</span><br><span class="line">            logger.debug(&quot;log4j2日志输出：This is debug message.&quot;);</span><br><span class="line">            // 记录info级别的信息</span><br><span class="line">            logger.info(&quot;log4j2日志输出：This is info message.&quot;);</span><br><span class="line">            // 记录error级别的信息</span><br><span class="line">            logger.error(&quot;log4j2日志输出：This is error message.&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>log4j2配置说明</strong></p>
<p>log4j 2.x版本不再支持像1.x中的.properties后缀的文件配置方式，2.x版本常用.xml后缀的文件进行配置，除此之外还包含.json和.jsn配置文件</p>
<p>log4j2虽然采用xml风格进行配置，依然包含三个组件,分别是 Logger(记录器)、Appender(输出目的地)、Layout(日志布局)。</p>
<p>XML配置文件解析</p>
<p>1、根节点Configuration有两个属性:status和monitorinterval,有两个子节点:Appenders和Loggers(表明可以定义多个Appender和Logger).</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">status用来指定log4j本身的打印日志的级别.</span><br><span class="line">monitorinterval为log4j 2.x新特点自动重载配置。指定自动重新配置的监测间隔时间，单位是s,最小是5s。</span><br></pre></td></tr></table></figure>
<p>2、Appenders节点，常见的有三种子节点:Console、File、RollingFile</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Console节点用来定义输出到控制台的Appender.</span><br><span class="line">File节点用来定义输出到指定位置的文件的Appender.</span><br><span class="line">RollingFile节点用来定义超过指定大小自动删除旧的创建新的的Appender.</span><br></pre></td></tr></table></figure>
<p>通过在子节点中加入<PatternLayout pattern="自定义信息格式">进行日志布局</PatternLayout></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">%c 输出所属类的全名，可写为 %c&#123;Num&#125; ,Num类名输出的范围 如：&quot;com.sun.aaa.classB&quot;,%C&#123;2&#125;将使日志输出输出范围为：aaa.classB</span><br><span class="line">%d 输出日志时间其格式为 可指定格式 如 %d&#123;HH:mm:ss&#125;等</span><br><span class="line">%l 输出日志事件发生位置，包括类目名、发生线程，在代码中的行数</span><br><span class="line">%n 换行符</span><br><span class="line">%m 输出代码指定信息，如info(“message”),输出message</span><br><span class="line">%p 输出日志的优先级，即 FATAL ,ERROR 等</span><br><span class="line">%r 输出从启动到显示该条日志信息所耗费的时间（毫秒数）</span><br><span class="line">%t 输出产生该日志事件的线程名</span><br></pre></td></tr></table></figure>
<p>3、Loggers节点，常见的有两种:Root和Logger.</p>
<p>Root节点用来指定项目的根日志，如果没有单独指定Logger，那么就会默认使用该Root日志输出</p>
<p>Logger节点用来单独指定日志的形式，比如要为指定包下的class指定不同的日志级别等。</p>
<p><strong>logback log4j log4j2 性能实测</strong></p>
<p>可见在同步日志模式下, Logback的性能是最糟糕的</p>
<p>而log4j2的性能无论在同步日志模式还是异步日志模式下都是最佳的</p>
<h4 id="mybatis引入log4j2"><a href="#mybatis引入log4j2" class="headerlink" title="mybatis引入log4j2"></a>mybatis引入log4j2</h4><p>mybatis核心配置文件</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--标准日志--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;setting name=&quot;logImpl&quot; value=&quot;STDOUT_LOGGING&quot;/&gt;--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--log4j2--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;logImpl&quot;</span> <span class="attr">value</span>=<span class="string">&quot;LOG4J2&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>log4j2.xml 在loggers中增加配置</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 将业务dao接口所在的包填写进去,并用在控制台和文件中输出 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;mapper&quot;</span> <span class="attr">level</span>=<span class="string">&quot;TRACE&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">additivity</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">AppenderRef</span> <span class="attr">ref</span>=<span class="string">&quot;Console&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">AppenderRef</span> <span class="attr">ref</span>=<span class="string">&quot;MyFile&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">logger</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="使用"><a href="#使用" class="headerlink" title="使用:"></a>使用:</h4><p><img src="/2022/03/14/mybatis/9.png" alt></p>
<h2 id="九、注解"><a href="#九、注解" class="headerlink" title="九、注解"></a>九、注解</h2><h3 id="9-1-使用步骤"><a href="#9-1-使用步骤" class="headerlink" title="9.1 使用步骤"></a>9.1 使用步骤</h3><ol>
<li><p>注解用在接口方法上</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">userMapper</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Select(&quot;select * from user&quot;)</span></span><br><span class="line">    <span class="function">List&lt;user&gt; <span class="title">findAllUser</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置核心配置文件</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">class</span>=<span class="string">&quot;mapper.userMapper&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>本质：反射机制实现</p>
<p>底层：动态代理</p>
<h2 id="十、Lombok（简化编程的插件）"><a href="#十、Lombok（简化编程的插件）" class="headerlink" title="十、Lombok（简化编程的插件）"></a>十、Lombok（简化编程的插件）</h2><p>在pojo类中使用注解，省略编写get，set方法，和toString 方法，EqualsAndHashCode方法，构造方法等</p>
<ol>
<li><p>在idea中安装Lombok插件</p>
<p><img src="/2022/03/14/mybatis/10.png" alt></p>
</li>
<li><p>导入Lombok jar包</p>
</li>
</ol>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.22<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol>
<li>Lombok注解</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Getter</span> and <span class="meta">@Setter</span></span><br><span class="line"><span class="meta">@FieldNameConstants</span></span><br><span class="line"><span class="meta">@ToString</span></span><br><span class="line"><span class="meta">@EqualsAndHashCode</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span>, <span class="meta">@RequiredArgsConstructor</span> and <span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@Log</span>, <span class="meta">@Log4j</span>, <span class="meta">@Log4j2</span>, <span class="meta">@Slf4j</span>, <span class="meta">@XSlf4j</span>, <span class="meta">@CommonsLog</span>, <span class="meta">@JBossLog</span>, <span class="meta">@Flogger</span>, <span class="meta">@CustomLog</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Builder</span></span><br><span class="line"><span class="meta">@SuperBuilder</span></span><br><span class="line"><span class="meta">@Singular</span></span><br><span class="line"><span class="meta">@Delegate</span></span><br><span class="line"><span class="meta">@Value</span></span><br><span class="line"><span class="meta">@Accessors</span></span><br><span class="line"><span class="meta">@Wither</span></span><br><span class="line"><span class="meta">@With</span></span><br><span class="line"><span class="meta">@SneakyThrows</span></span><br><span class="line"><span class="meta">@val</span></span><br><span class="line"><span class="meta">@var</span></span><br></pre></td></tr></table></figure>
<p>其中最重要的是@Data注解</p>
<ul>
<li>给pojo类加上@Data注解<ul>
<li>自动生成：无参构造方法、get、set、tostring、hashcode、equals方法</li>
</ul>
</li>
<li>@AllArgsConstructor,@NoArgsConstructor（生成构造方法）</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>servlet-2</title>
    <url>/2021/12/03/servlet-2/</url>
    <content><![CDATA[<h3 id="一、servlet继承体系结构"><a href="#一、servlet继承体系结构" class="headerlink" title="一、servlet继承体系结构"></a>一、servlet继承体系结构</h3><h5 id="1-servlet接口继承结构"><a href="#1-servlet接口继承结构" class="headerlink" title="1. servlet接口继承结构"></a>1. servlet接口继承结构</h5><p>接口：servlet（一般不用）</p>
<p>⬆  </p>
<p>抽象类：GenericServlet（一般不用）</p>
<p>⬆</p>
<p>抽象类：HttpServlet（推荐使用）</p>
<ul>
<li>GenericServlet<ul>
<li>（做了除了service方法外的空实现，如果继承GenericServlet则只用重写service方法）</li>
</ul>
</li>
<li>HttpServlet（http请求方式有post和get两种，HttpServlet对其进行了区别）<ul>
<li>重写了service方法，判断是http请求方式是post还是get，并调用doGet()和doPost()处理</li>
<li>不用再重写service方法判断http请求方式</li>
<li>直接重写doGet()和doPost()</li>
</ul>
</li>
</ul>
<h5 id="2-servlet相关配置"><a href="#2-servlet相关配置" class="headerlink" title="2. servlet相关配置"></a>2. servlet相关配置</h5><ol>
<li><p>urlpartten: servlet访问路径</p>
<ol>
<li>一个servlet可以定义多个访问路径︰ @webServlet({“/d4” , “ /dd4” , “ /ddd4”})</li>
<li>路径定义规则:<ol>
<li>/xxx</li>
<li>/ xxx/xxx:多层路径，目录结构</li>
<li>*.do</li>
</ol>
</li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>servlet</category>
      </categories>
      <tags>
        <tag>servlet学习</tag>
      </tags>
  </entry>
  <entry>
    <title>servletcontext</title>
    <url>/2021/12/09/servletcontext/</url>
    <content><![CDATA[<h3 id="一、ServletContext对象"><a href="#一、ServletContext对象" class="headerlink" title="一、ServletContext对象"></a>一、ServletContext对象</h3><h5 id="1-概念"><a href="#1-概念" class="headerlink" title="1. 概念"></a>1. 概念</h5><p>代表整个web应用，可以和程序的容器(服务器)来通信</p>
<h5 id="2-获取ServletContext对象"><a href="#2-获取ServletContext对象" class="headerlink" title="2. 获取ServletContext对象"></a>2. 获取ServletContext对象</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//通过request对象获取</span></span><br><span class="line"><span class="number">1.</span> request.getServletContext();</span><br><span class="line"><span class="comment">//通过HttpServletContext获取</span></span><br><span class="line"><span class="number">2.</span> <span class="keyword">this</span>.getServletContext();</span><br><span class="line">getServletContext();</span><br></pre></td></tr></table></figure>
<h5 id="3-功能"><a href="#3-功能" class="headerlink" title="3. 功能"></a>3. 功能</h5><ul>
<li><p>获取MIME类型(格式： 大类型/小类型  eg: image/jpeg text/html)</p>
<ul>
<li>MIME多用途互联网邮件扩展类型</li>
<li>定义详情参考百度</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ServletContext的方法获取MIME类型</span></span><br><span class="line"><span class="function">String <span class="title">getMimeType</span><span class="params">(String file)</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>共享数据（ServletContext是一个域对象）</p>
<ul>
<li><p>作用范围是整个web应用</p>
<p><img src="/2021/12/09/servletcontext/1.png" alt></p>
</li>
<li><p>setAttribute(String name,Object value)</p>
</li>
<li><p>Object getAttribute(String name)</p>
</li>
<li><p>removeAttribute(String name)</p>
</li>
</ul>
</li>
<li><p>获取文件的真实路径</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ServletContext的方法</span></span><br><span class="line">getRealPath(String name)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="二、文件下载案例"><a href="#二、文件下载案例" class="headerlink" title="二、文件下载案例"></a>二、文件下载案例</h3><h5 id="案例需求："><a href="#案例需求：" class="headerlink" title="案例需求："></a>案例需求：</h5><ol>
<li>页面显示超链接</li>
<li>点击超链接后弹出下载提示框</li>
<li>完成图片下载</li>
</ol>
<h5 id="分析："><a href="#分析：" class="headerlink" title="分析："></a>分析：</h5><ol>
<li><p>超链接指向的资源如果能够被浏览器解析，则在浏览器中展示，如果不能解析，则弹出下载提示框。不满足需求</p>
</li>
<li><p>需求：任何资源都必须弹出下载提示框</p>
</li>
<li><p>使用响应头设置资源的打开方式:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">content-disposition:attachment;filename=xxx</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="步骤："><a href="#步骤：" class="headerlink" title="步骤："></a>步骤：</h5><ol>
<li>定义页面，编辑超链接href属性，指向servlet，传递资源名称filename</li>
<li>定义servlet<ul>
<li>获取文件名称</li>
<li>使用字节输入流加载文件进内存</li>
<li>指定response的响应头:content-disposition:attachment;filename=xxx</li>
<li>将数据写出到response输出流</li>
</ul>
</li>
</ol>
]]></content>
      <categories>
        <category>servlet</category>
      </categories>
      <tags>
        <tag>servletContext</tag>
      </tags>
  </entry>
  <entry>
    <title>hexo问题集合</title>
    <url>/2021/09/24/test-my-site/</url>
    <content><![CDATA[<h1 id="1-更换next主题无法显示博客页面"><a href="#1-更换next主题无法显示博客页面" class="headerlink" title="1.更换next主题无法显示博客页面"></a>1.更换next主题无法显示博客页面</h1><p>新版hexo没有安装：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm i hexo-renderer-swig </span><br></pre></td></tr></table></figure>
<h1 id="2-next主题添加搜索功能"><a href="#2-next主题添加搜索功能" class="headerlink" title="2.next主题添加搜索功能"></a>2.next主题添加搜索功能</h1><ol>
<li><p>下载插件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>修改站点配置文件———添加</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br><span class="line">  format: html</span><br><span class="line">  limit: 10000</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改主题配置文件———修改local_search的enable为true：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Local search</span><br><span class="line"># Dependencies: https://github.com/flashlab/hexo-generator-search</span><br><span class="line">local_search:</span><br><span class="line">  enable: true</span><br><span class="line">  # if auto, trigger search by changing input</span><br><span class="line">  # if manual, trigger search by pressing enter key or search button</span><br><span class="line">  trigger: auto</span><br><span class="line">  # show top n results per article, show all results by setting to -1</span><br><span class="line">  top_n_per_article: 1</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="3-添加图片"><a href="#3-添加图片" class="headerlink" title="3.添加图片"></a>3.添加图片</h1><h2 id="第一步：安装插件，在hexo根目录打开Git-Bash-执行"><a href="#第一步：安装插件，在hexo根目录打开Git-Bash-执行" class="headerlink" title="第一步：安装插件，在hexo根目录打开Git Bash,执行"></a>第一步：安装插件，在hexo根目录打开Git Bash,执行</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install hexo-asset-image --save</span><br></pre></td></tr></table></figure>
<h2 id="第二步：打开hexo的配置文件-config-yml"><a href="#第二步：打开hexo的配置文件-config-yml" class="headerlink" title="第二步：打开hexo的配置文件_config.yml"></a>第二步：打开hexo的配置文件_config.yml</h2><h2 id="找到-post-asset-folder，把这个选项从false改成true"><a href="#找到-post-asset-folder，把这个选项从false改成true" class="headerlink" title="找到 post_asset_folder，把这个选项从false改成true"></a>找到 post_asset_folder，把这个选项从false改成true</h2><h2 id="第三步：打开"><a href="#第三步：打开" class="headerlink" title="第三步：打开"></a>第三步：打开</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/node_modules/hexo-asset-image/index.js</span><br></pre></td></tr></table></figure>
<p>将内容更换为下面的代码<br> （在此感谢Ericam_ 大神：<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fblog.csdn.net%2Fxjm850552586">https://blog.csdn.net/xjm850552586</a>）</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;use strict&#x27;</span>;</span><br><span class="line">var cheerio = require(<span class="string">&#x27;cheerio&#x27;</span>);</span><br><span class="line"></span><br><span class="line">// http://stackoverflow.com/questions/14480345/how-to-get-the-nth-occurrence-in-a-string</span><br><span class="line"><span class="keyword">function</span> getPosition(str, m, i) &#123;</span><br><span class="line">  <span class="built_in">return</span> str.split(m, i).join(m).length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var version = String(hexo.version).split(<span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">hexo.extend.filter.register(<span class="string">&#x27;after_post_render&#x27;</span>, <span class="keyword">function</span>(data)&#123;</span><br><span class="line">  var config = hexo.config;</span><br><span class="line">  <span class="keyword">if</span>(config.post_asset_folder)&#123;</span><br><span class="line">        var link = data.permalink;</span><br><span class="line">    <span class="keyword">if</span>(version.length &gt; 0 &amp;&amp; Number(version[0]) == 3)</span><br><span class="line">       var beginPos = getPosition(link, <span class="string">&#x27;/&#x27;</span>, 1) + 1;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">       var beginPos = getPosition(link, <span class="string">&#x27;/&#x27;</span>, 3) + 1;</span><br><span class="line">    // In hexo 3.1.1, the permalink of <span class="string">&quot;about&quot;</span> page is like <span class="string">&quot;.../about/index.html&quot;</span>.</span><br><span class="line">    var endPos = link.lastIndexOf(<span class="string">&#x27;/&#x27;</span>) + 1;</span><br><span class="line">    link = link.substring(beginPos, endPos);</span><br><span class="line"></span><br><span class="line">    var toprocess = [<span class="string">&#x27;excerpt&#x27;</span>, <span class="string">&#x27;more&#x27;</span>, <span class="string">&#x27;content&#x27;</span>];</span><br><span class="line">    <span class="keyword">for</span>(var i = 0; i &lt; toprocess.length; i++)&#123;</span><br><span class="line">      var key = toprocess[i];</span><br><span class="line"> </span><br><span class="line">      var $ = cheerio.load(data[key], &#123;</span><br><span class="line">        ignoreWhitespace: <span class="literal">false</span>,</span><br><span class="line">        xmlMode: <span class="literal">false</span>,</span><br><span class="line">        lowerCaseTags: <span class="literal">false</span>,</span><br><span class="line">        decodeEntities: <span class="literal">false</span></span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">      $(<span class="string">&#x27;img&#x27;</span>).each(<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        <span class="keyword">if</span> ($(this).attr(<span class="string">&#x27;src&#x27;</span>))&#123;</span><br><span class="line">            // For windows style path, we replace <span class="string">&#x27;\&#x27;</span> to <span class="string">&#x27;/&#x27;</span>.</span><br><span class="line">            var src = $(this).attr(<span class="string">&#x27;src&#x27;</span>).replace(<span class="string">&#x27;\\&#x27;</span>, <span class="string">&#x27;/&#x27;</span>);</span><br><span class="line">            <span class="keyword">if</span>(!/http[s]*.*|\/\/.*/.<span class="built_in">test</span>(src) &amp;&amp;</span><br><span class="line">               !/^\s*\//.<span class="built_in">test</span>(src)) &#123;</span><br><span class="line">              // For <span class="string">&quot;about&quot;</span> page, the first part of <span class="string">&quot;src&quot;</span> can<span class="string">&#x27;t be removed.</span></span><br><span class="line"><span class="string">              // In addition, to support multi-level local directory.</span></span><br><span class="line"><span class="string">              var linkArray = link.split(&#x27;</span>/<span class="string">&#x27;).filter(function(elem)&#123;</span></span><br><span class="line"><span class="string">                return elem != &#x27;</span><span class="string">&#x27;;</span></span><br><span class="line"><span class="string">              &#125;);</span></span><br><span class="line"><span class="string">              var srcArray = src.split(&#x27;</span>/<span class="string">&#x27;).filter(function(elem)&#123;</span></span><br><span class="line"><span class="string">                return elem != &#x27;</span><span class="string">&#x27; &amp;&amp; elem != &#x27;</span>.<span class="string">&#x27;;</span></span><br><span class="line"><span class="string">              &#125;);</span></span><br><span class="line"><span class="string">              if(srcArray.length &gt; 1)</span></span><br><span class="line"><span class="string">                srcArray.shift();</span></span><br><span class="line"><span class="string">              src = srcArray.join(&#x27;</span>/<span class="string">&#x27;);</span></span><br><span class="line"><span class="string">              $(this).attr(&#x27;</span>src<span class="string">&#x27;, config.root + link + src);</span></span><br><span class="line"><span class="string">              console.info&amp;&amp;console.info(&quot;update link as:--&gt;&quot;+config.root + link + src);</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">        &#125;else&#123;</span></span><br><span class="line"><span class="string">            console.info&amp;&amp;console.info(&quot;no src attr, skipped...&quot;);</span></span><br><span class="line"><span class="string">            console.info&amp;&amp;console.info($(this));</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;);</span></span><br><span class="line"><span class="string">      data[key] = $.html();</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;);</span></span><br></pre></td></tr></table></figure>
<p>第四步：现在就可以插入图片了，比如hexo new post photo之后<br> 就在source/_posts生成photo.md文件和photo文件夹，我们把要插入的图片复制到photo文件夹内，<br> 在photo.md文件里面按markdown的标准写,（我的文件名是head.jpeg）比如</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">![这是代替图片的文字，随便写](head.jpeg)</span><br></pre></td></tr></table></figure>
<h1 id="4-文章折叠"><a href="#4-文章折叠" class="headerlink" title="4.文章折叠"></a>4.文章折叠</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- more --&gt;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>hexo_next主题</tag>
      </tags>
  </entry>
  <entry>
    <title>tomcat</title>
    <url>/2021/12/02/tomcat/</url>
    <content><![CDATA[<h3 id="一、tomcat服务器"><a href="#一、tomcat服务器" class="headerlink" title="一、tomcat服务器"></a>一、tomcat服务器</h3><h5 id="1-简介"><a href="#1-简介" class="headerlink" title="1. 简介"></a>1. 简介</h5><p>​    Tomcat是Apache 软件基金会（Apache Software Foundation）的Jakarta 项目中的一个核心项目，由Apache、Sun 和其他一些公司及个人共同开发而成。由于有了Sun 的参与和支持，最新的Servlet 和JSP 规范总是能在Tomcat 中得到体现，Tomcat 5支持最新的Servlet 2.4 和JSP 2.0 规范。因为Tomcat 技术先进、性能稳定，而且免费，因而深受Java 爱好者的喜爱并得到了部分软件开发商的认可，成为比较流行的Web 应用服务器。</p>
<h5 id="2-使用"><a href="#2-使用" class="headerlink" title="2. 使用"></a>2. 使用</h5><ol>
<li><p>下载</p>
<p><a href="https://tomcat.apache.org/">tomcat官网下载</a></p>
</li>
<li><p>安装</p>
<p>解压压缩包，注意目录不要有中文和空格</p>
</li>
<li><p>卸载</p>
<p>删除目录</p>
</li>
<li><p>启动</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. bin目录下: 运行startup.bat文件</span><br><span class="line">如果失败：</span><br><span class="line">	cmd输入netstat -ano，查看端口8080是否被占用</span><br></pre></td></tr></table></figure>
</li>
<li><p>关闭</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. bin目录下: 运行shutdown.bat文件</span><br><span class="line">2. ctrl + c</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>配置</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 修改默认端口号 （80则可以直接用域名或者ip访问）</span><br><span class="line">打开 server.xml</span><br><span class="line">修改：port=&quot;80&quot;</span><br><span class="line">  &lt;Connector executor=&quot;tomcatThreadPool&quot;</span><br><span class="line">               port=&quot;80&quot; protocol=&quot;HTTP/1.1&quot;</span><br><span class="line">               connectionTimeout=&quot;20000&quot;</span><br><span class="line">               redirectPort=&quot;8443&quot; /&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="3-目录结构"><a href="#3-目录结构" class="headerlink" title="3. 目录结构"></a>3. 目录结构</h5><p><img src="/2021/12/02/tomcat/1.png" alt></p>
<h5 id="4-项目部署"><a href="#4-项目部署" class="headerlink" title="4. 项目部署"></a>4. 项目部署</h5><ul>
<li><ol>
<li>将项目放到webapps目录下</li>
</ol>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">通常直接将项目打包成war包，放入webapps目录下，tomcat会自动解析，删除war包，会自动将解析的项目删除。</span><br></pre></td></tr></table></figure>
<ul>
<li><ol>
<li>配置 server.xml</li>
</ol>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">在&lt;Host&gt;标签体中配置</span><br><span class="line">&lt;Context docBase=&quot;D:\hello&quot; path=&quot;/hehe&quot;&gt;</span><br><span class="line">docBase 代表项目存放路径</span><br><span class="line">path 代表访问路径</span><br></pre></td></tr></table></figure>
<ul>
<li><ol>
<li>在conf\Catalina\localhost创建xml配置文件（推荐）</li>
</ol>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;Context docBase=&quot;D:\hello&quot;&gt;</span><br><span class="line">访问路径为xml文件名</span><br></pre></td></tr></table></figure>
<h5 id="5-Javaweb-动态项目目录结构"><a href="#5-Javaweb-动态项目目录结构" class="headerlink" title="5. Javaweb 动态项目目录结构"></a>5. Javaweb 动态项目目录结构</h5><p>java动态项目的目录结构∶</p>
<p>—项目的根目录</p>
<p>​    —wEB-INF目录︰</p>
<p>​        — web.xml : web项目的核心配置文件</p>
<p>​        — classes目录︰放置字节码文件的目录</p>
<p>​        — lib目录∶放置依赖的jar包</p>
<h5 id="6-tomcat集成到idea"><a href="#6-tomcat集成到idea" class="headerlink" title="6. tomcat集成到idea"></a>6. tomcat集成到idea</h5><ol>
<li><p>集成</p>
<ul>
<li>点击run/Edit Configurations…</li>
</ul>
<p><img src="/2021/12/02/tomcat/2.png" alt></p>
<ul>
<li></li>
</ul>
</li>
<li><p>创建javaee项目</p>
<ul>
<li>添加modules，选择JavaEnterprise，勾选Web Application，勾选web.xml</li>
</ul>
</li>
<li><p>部署项目</p>
</li>
</ol>
]]></content>
      <categories>
        <category>tomcat</category>
      </categories>
      <tags>
        <tag>tomcat</tag>
      </tags>
  </entry>
  <entry>
    <title>verification_code</title>
    <url>/2021/12/06/verification-code/</url>
    <content><![CDATA[<h2 id="1-response运行流程"><a href="#1-response运行流程" class="headerlink" title="1.response运行流程"></a>1.response运行流程</h2><p><img src="/2021/12/06/verification-code/1.jpg" alt></p>
<h2 id="2-response设置http响应"><a href="#2-response设置http响应" class="headerlink" title="2.response设置http响应"></a>2.response设置http响应</h2><p><strong>http响应</strong><br><img src="/2021/12/06/verification-code/2.jpg" alt></p>
<h3 id="设置http响应行中的状态码"><a href="#设置http响应行中的状态码" class="headerlink" title="设置http响应行中的状态码"></a>设置http响应行中的状态码</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">response.setStatus(302);//302表示重定向</span><br></pre></td></tr></table></figure>
<h3 id="通过response设置响应头"><a href="#通过response设置响应头" class="headerlink" title="通过response设置响应头"></a>通过response设置响应头</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//add表示添加，set表示设置</span><br><span class="line">addHeader(String name,String value);</span><br><span class="line">addIntHeader(String name,int value);</span><br><span class="line">addDateHeader(String name,long date);</span><br><span class="line">setHeader(String name,String value);//重要</span><br><span class="line">setDateHeader(String name,long date);</span><br><span class="line">addIntHeader(String name,int value);</span><br><span class="line">response.sendRedirect(&quot;&quot;);//重定向</span><br><span class="line">//其中响应头Location，url为跳转</span><br><span class="line">//refresh,秒数;url=&quot;url&quot;.表示定时刷新</span><br></pre></td></tr></table></figure>
<h3 id="通过response设置响应体"><a href="#通过response设置响应体" class="headerlink" title="通过response设置响应体"></a>通过response设置响应体</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//防止乱码</span><br><span class="line">response.setHeader(&quot;Content-Type&quot;,&quot;text/html;charset=UTF-8&quot;);//设置文件编码格式</span><br><span class="line">//或者</span><br><span class="line">response.setContentType(&quot;text/html;charset=UTF-8&quot;);//设置文件编码格式</span><br><span class="line">PrintWrite writer = response.getWriter();</span><br><span class="line">writer.write(&quot;&quot;);</span><br></pre></td></tr></table></figure>
<h3 id="使用response的outputstream-下载功能"><a href="#使用response的outputstream-下载功能" class="headerlink" title="使用response的outputstream(下载功能)"></a>使用response的outputstream(下载功能)</h3><h4 id="文件下载"><a href="#文件下载" class="headerlink" title="文件下载"></a>文件下载</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//获取页面访问时传递的文件名参数</span><br><span class="line">String filename = request.getParameter(&quot;filename&quot;);</span><br><span class="line">//设置下载文件的类型---客户端通过文件的mime类型去区分类型</span><br><span class="line">response.setContentType(this.getServletContext().getMimeType(filename));</span><br><span class="line">//告诉客户端该文件不是直接打开而是(下载)</span><br><span class="line">response.setHeader(&quot;Content-Disposition&quot;,&quot;attachment;filename=&quot;+filename);</span><br><span class="line">ServletOutputStream out = response.getOutputStream();</span><br><span class="line">//获取服务器上的文件</span><br><span class="line">String realpath = this.getServletContext().getRealPath(&quot;相对路径&quot;);</span><br><span class="line">//读取服务器文件</span><br><span class="line">InputStream in = new FileInputStream(realpath);</span><br><span class="line">int len = 0;</span><br><span class="line">byte[] buffer = new byte[1024];</span><br><span class="line">while((len=in.read(buffer))&gt;0)&#123;</span><br><span class="line">    out.write(buffer,0,len);</span><br><span class="line">&#125;</span><br><span class="line">in.close();</span><br><span class="line">out.close();</span><br></pre></td></tr></table></figure>
<h4 id="文件下载名中文乱码问题"><a href="#文件下载名中文乱码问题" class="headerlink" title="文件下载名中文乱码问题"></a>文件下载名中文乱码问题</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//解决获取中文参数乱码问题</span><br><span class="line">filename = new String(filename.getBytes(&quot;ISO8859-1&quot;),&quot;utf-8&quot;);</span><br><span class="line"></span><br><span class="line">//各个浏览器兼容</span><br><span class="line">// 解决中文文件名乱码问题  </span><br><span class="line">if (request.getHeader(&quot;User-Agent&quot;).toLowerCase()  </span><br><span class="line">        .indexOf(&quot;firefox&quot;) &gt; 0) &#123;  </span><br><span class="line">        fname = new String(fileName.getBytes(&quot;UTF-8&quot;), &quot;ISO8859-1&quot;); // firefox浏览器  </span><br><span class="line">&#125; else if (request.getHeader(&quot;User-Agent&quot;).toUpperCase()  </span><br><span class="line">        .indexOf(&quot;MSIE&quot;) &gt; 0) &#123;  </span><br><span class="line">    fname = URLEncoder.encode(fileName, &quot;UTF-8&quot;);// IE浏览器  </span><br><span class="line">&#125;else if (request.getHeader(&quot;User-Agent&quot;).toUpperCase()  </span><br><span class="line">        .indexOf(&quot;CHROME&quot;) &gt; 0) &#123;  </span><br><span class="line">    fname = new String(fileName.getBytes(&quot;UTF-8&quot;), &quot;ISO8859-1&quot;);// 谷歌  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-应用实例动态生成验证码"><a href="#3-应用实例动态生成验证码" class="headerlink" title="3.应用实例动态生成验证码"></a>3.应用实例动态生成验证码</h2><h3 id="生成验证码工具类"><a href="#生成验证码工具类" class="headerlink" title="生成验证码工具类"></a>生成验证码工具类</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package yanzheng;</span><br><span class="line"></span><br><span class="line">import java.awt.Color;</span><br><span class="line">import java.awt.Font;</span><br><span class="line">import java.awt.Graphics;</span><br><span class="line">import java.awt.Graphics2D;</span><br><span class="line">import java.awt.RenderingHints;</span><br><span class="line">import java.awt.geom.AffineTransform;</span><br><span class="line">import java.awt.image.BufferedImage;</span><br><span class="line">import java.io.File;</span><br><span class="line">import java.io.FileOutputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.OutputStream;</span><br><span class="line">import java.util.Arrays;</span><br><span class="line">import java.util.Random;</span><br><span class="line"></span><br><span class="line">import javax.imageio.ImageIO;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public class VerifyCodeUtils &#123;</span><br><span class="line"></span><br><span class="line">    //使用到Algerian字体，系统里没有的话需要安装字体，字体只显示大写，去掉了1,0,i,o几个容易混淆的字符</span><br><span class="line">    public static final String VERIFY_CODES = &quot;23456789ABCDEFGHJKLMNPQRSTUVWXYZ&quot;;</span><br><span class="line">    private static Random random = new Random();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 使用系统默认字符源生成验证码</span><br><span class="line">     * @param verifySize    验证码长度</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public static String generateVerifyCode(int verifySize)&#123;</span><br><span class="line">        return generateVerifyCode(verifySize, VERIFY_CODES);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 使用指定源生成验证码</span><br><span class="line">     * @param verifySize    验证码长度</span><br><span class="line">     * @param sources   验证码字符源</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public static String generateVerifyCode(int verifySize, String sources)&#123;</span><br><span class="line">        if(sources == null || sources.length() == 0)&#123;</span><br><span class="line">            sources = VERIFY_CODES;</span><br><span class="line">        &#125;</span><br><span class="line">        int codesLen = sources.length();</span><br><span class="line">        Random rand = new Random(System.currentTimeMillis());</span><br><span class="line">        StringBuilder verifyCode = new StringBuilder(verifySize);</span><br><span class="line">        for(int i = 0; i &lt; verifySize; i++)&#123;</span><br><span class="line">            verifyCode.append(sources.charAt(rand.nextInt(codesLen-1)));</span><br><span class="line">        &#125;</span><br><span class="line">        return verifyCode.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 生成随机验证码文件,并返回验证码值</span><br><span class="line">     * @param w</span><br><span class="line">     * @param h</span><br><span class="line">     * @param outputFile</span><br><span class="line">     * @param verifySize</span><br><span class="line">     * @return</span><br><span class="line">     * @throws IOException</span><br><span class="line">     */</span><br><span class="line">    public static String outputVerifyImage(int w, int h, File outputFile, int verifySize) throws IOException&#123;</span><br><span class="line">        String verifyCode = generateVerifyCode(verifySize);</span><br><span class="line">        outputImage(w, h, outputFile, verifyCode);</span><br><span class="line">        return verifyCode;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 输出随机验证码图片流,并返回验证码值</span><br><span class="line">     * @param w</span><br><span class="line">     * @param h</span><br><span class="line">     * @param os</span><br><span class="line">     * @param verifySize</span><br><span class="line">     * @return</span><br><span class="line">     * @throws IOException</span><br><span class="line">     */</span><br><span class="line">    public static String outputVerifyImage(int w, int h, OutputStream os, int verifySize) throws IOException&#123;</span><br><span class="line">        String verifyCode = generateVerifyCode(verifySize);</span><br><span class="line">        outputImage(w, h, os, verifyCode);</span><br><span class="line">        return verifyCode;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 生成指定验证码图像文件</span><br><span class="line">     * @param w</span><br><span class="line">     * @param h</span><br><span class="line">     * @param outputFile</span><br><span class="line">     * @param code</span><br><span class="line">     * @throws IOException</span><br><span class="line">     */</span><br><span class="line">    public static void outputImage(int w, int h, File outputFile, String code) throws IOException&#123;</span><br><span class="line">        if(outputFile == null)&#123;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        File dir = outputFile.getParentFile();</span><br><span class="line">        if(!dir.exists())&#123;</span><br><span class="line">            dir.mkdirs();</span><br><span class="line">        &#125;</span><br><span class="line">        try&#123;</span><br><span class="line">            outputFile.createNewFile();</span><br><span class="line">            FileOutputStream fos = new FileOutputStream(outputFile);</span><br><span class="line">            outputImage(w, h, fos, code);</span><br><span class="line">            fos.close();</span><br><span class="line">        &#125; catch(IOException e)&#123;</span><br><span class="line">            throw e;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 输出指定验证码图片流</span><br><span class="line">     * @param w</span><br><span class="line">     * @param h</span><br><span class="line">     * @param os</span><br><span class="line">     * @param code</span><br><span class="line">     * @throws IOException</span><br><span class="line">     */</span><br><span class="line">    public static void outputImage(int w, int h, OutputStream os, String code) throws IOException&#123;</span><br><span class="line">        int verifySize = code.length();</span><br><span class="line">        BufferedImage image = new BufferedImage(w, h, BufferedImage.TYPE_INT_RGB);</span><br><span class="line">        Random rand = new Random();</span><br><span class="line">        Graphics2D g2 = image.createGraphics();</span><br><span class="line">        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);</span><br><span class="line">        Color[] colors = new Color[5];</span><br><span class="line">        Color[] colorSpaces = new Color[] &#123; Color.WHITE, Color.CYAN,</span><br><span class="line">                Color.GRAY, Color.LIGHT_GRAY, Color.MAGENTA, Color.ORANGE,</span><br><span class="line">                Color.PINK, Color.YELLOW &#125;;</span><br><span class="line">        float[] fractions = new float[colors.length];</span><br><span class="line">        for(int i = 0; i &lt; colors.length; i++)&#123;</span><br><span class="line">            colors[i] = colorSpaces[rand.nextInt(colorSpaces.length)];</span><br><span class="line">            fractions[i] = rand.nextFloat();</span><br><span class="line">        &#125;</span><br><span class="line">        Arrays.sort(fractions);</span><br><span class="line"></span><br><span class="line">        g2.setColor(Color.GRAY);// 设置边框色</span><br><span class="line">        g2.fillRect(0, 0, w, h);</span><br><span class="line"></span><br><span class="line">        Color c = getRandColor(200, 250);</span><br><span class="line">        g2.setColor(c);// 设置背景色</span><br><span class="line">        g2.fillRect(0, 2, w, h-4);</span><br><span class="line"></span><br><span class="line">        //绘制干扰线</span><br><span class="line">        Random random = new Random();</span><br><span class="line">        g2.setColor(getRandColor(160, 200));// 设置线条的颜色</span><br><span class="line">        for (int i = 0; i &lt; 20; i++) &#123;</span><br><span class="line">            int x = random.nextInt(w - 1);</span><br><span class="line">            int y = random.nextInt(h - 1);</span><br><span class="line">            int xl = random.nextInt(6) + 1;</span><br><span class="line">            int yl = random.nextInt(12) + 1;</span><br><span class="line">            g2.drawLine(x, y, x + xl + 40, y + yl + 20);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // 添加噪点</span><br><span class="line">        float yawpRate = 0.05f;// 噪声率</span><br><span class="line">        int area = (int) (yawpRate * w * h);</span><br><span class="line">        for (int i = 0; i &lt; area; i++) &#123;</span><br><span class="line">            int x = random.nextInt(w);</span><br><span class="line">            int y = random.nextInt(h);</span><br><span class="line">            int rgb = getRandomIntColor();</span><br><span class="line">            image.setRGB(x, y, rgb);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        shear(g2, w, h, c);// 使图片扭曲</span><br><span class="line"></span><br><span class="line">        g2.setColor(getRandColor(100, 160));</span><br><span class="line">        int fontSize = h-4;</span><br><span class="line">        Font font = new Font(&quot;Algerian&quot;, Font.ITALIC, fontSize);</span><br><span class="line">        g2.setFont(font);</span><br><span class="line">        char[] chars = code.toCharArray();</span><br><span class="line">        for(int i = 0; i &lt; verifySize; i++)&#123;</span><br><span class="line">            AffineTransform affine = new AffineTransform();</span><br><span class="line">            affine.setToRotation(Math.PI / 4 * rand.nextDouble() * (rand.nextBoolean() ? 1 : -1), (w / verifySize) * i + fontSize/2, h/2);</span><br><span class="line">            g2.setTransform(affine);</span><br><span class="line">            g2.drawChars(chars, i, 1, ((w-10) / verifySize) * i + 5, h/2 + fontSize/2 - 10);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        g2.dispose();</span><br><span class="line">        ImageIO.write(image, &quot;png&quot;, os);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private static Color getRandColor(int fc, int bc) &#123;</span><br><span class="line">        if (fc &gt; 255)</span><br><span class="line">            fc = 255;</span><br><span class="line">        if (bc &gt; 255)</span><br><span class="line">            bc = 255;</span><br><span class="line">        int r = fc + random.nextInt(bc - fc);</span><br><span class="line">        int g = fc + random.nextInt(bc - fc);</span><br><span class="line">        int b = fc + random.nextInt(bc - fc);</span><br><span class="line">        return new Color(r, g, b);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private static int getRandomIntColor() &#123;</span><br><span class="line">        int[] rgb = getRandomRgb();</span><br><span class="line">        int color = 0;</span><br><span class="line">        for (int c : rgb) &#123;</span><br><span class="line">            color = color &lt;&lt; 8;</span><br><span class="line">            color = color | c;</span><br><span class="line">        &#125;</span><br><span class="line">        return color;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private static int[] getRandomRgb() &#123;</span><br><span class="line">        int[] rgb = new int[3];</span><br><span class="line">        for (int i = 0; i &lt; 3; i++) &#123;</span><br><span class="line">            rgb[i] = random.nextInt(255);</span><br><span class="line">        &#125;</span><br><span class="line">        return rgb;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private static void shear(Graphics g, int w1, int h1, Color color) &#123;</span><br><span class="line">        shearX(g, w1, h1, color);</span><br><span class="line">        shearY(g, w1, h1, color);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private static void shearX(Graphics g, int w1, int h1, Color color) &#123;</span><br><span class="line"></span><br><span class="line">        int period = random.nextInt(2);</span><br><span class="line"></span><br><span class="line">        boolean borderGap = true;</span><br><span class="line">        int frames = 1;</span><br><span class="line">        int phase = random.nextInt(2);</span><br><span class="line"></span><br><span class="line">        for (int i = 0; i &lt; h1; i++) &#123;</span><br><span class="line">            double d = (double) (period &gt;&gt; 1)</span><br><span class="line">                    * Math.sin((double) i / (double) period</span><br><span class="line">                            + (6.2831853071795862D * (double) phase)</span><br><span class="line">                            / (double) frames);</span><br><span class="line">            g.copyArea(0, i, w1, 1, (int) d, 0);</span><br><span class="line">            if (borderGap) &#123;</span><br><span class="line">                g.setColor(color);</span><br><span class="line">                g.drawLine((int) d, i, 0, i);</span><br><span class="line">                g.drawLine((int) d + w1, i, w1, i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private static void shearY(Graphics g, int w1, int h1, Color color) &#123;</span><br><span class="line"></span><br><span class="line">        int period = random.nextInt(40) + 10; // 50;</span><br><span class="line"></span><br><span class="line">        boolean borderGap = true;</span><br><span class="line">        int frames = 20;</span><br><span class="line">        int phase = 7;</span><br><span class="line">        for (int i = 0; i &lt; w1; i++) &#123;</span><br><span class="line">            double d = (double) (period &gt;&gt; 1)</span><br><span class="line">                    * Math.sin((double) i / (double) period</span><br><span class="line">                            + (6.2831853071795862D * (double) phase)</span><br><span class="line">                            / (double) frames);</span><br><span class="line">            g.copyArea(i, 0, 1, h1, 0, (int) d);</span><br><span class="line">            if (borderGap) &#123;</span><br><span class="line">                g.setColor(color);</span><br><span class="line">                g.drawLine(i, (int) d, i, 0);</span><br><span class="line">                g.drawLine(i, (int) d + h1, i, h1);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    public static void main(String[] args) throws IOException&#123;</span><br><span class="line">        File dir = new File(&quot;C:/Users/H__D/Desktop/&quot;);</span><br><span class="line">        int w = 200, h = 80;</span><br><span class="line">        String verifyCode = generateVerifyCode(4);</span><br><span class="line">        File file = new File(dir, verifyCode + &quot;.jpg&quot;);</span><br><span class="line">        outputImage(w, h, file, verifyCode);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="使用流程"><a href="#使用流程" class="headerlink" title="使用流程"></a>使用流程</h3><p><img src="/2021/12/06/verification-code/3.jpg" alt></p>
<h3 id="服务端生成验证码servlet"><a href="#服务端生成验证码servlet" class="headerlink" title="服务端生成验证码servlet"></a>服务端生成验证码servlet</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package testserver;</span><br><span class="line"></span><br><span class="line">import java.io.IOException;</span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.annotation.WebServlet;</span><br><span class="line">import javax.servlet.http.HttpServlet;</span><br><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line">import javax.servlet.http.HttpServletResponse;</span><br><span class="line">import yanzheng.VerifyCodeUtils;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Servlet implementation class servletyanzheng</span><br><span class="line"> */</span><br><span class="line">@WebServlet(&quot;/niceyz&quot;)</span><br><span class="line">public class servletyanzheng extends HttpServlet &#123;</span><br><span class="line">	private static final long serialVersionUID = 1L;</span><br><span class="line">       </span><br><span class="line">    @Override</span><br><span class="line">    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line">        resp.setHeader(&quot;Pragma&quot;, &quot;No-cache&quot;);</span><br><span class="line">        resp.setHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);</span><br><span class="line">        resp.setDateHeader(&quot;Expires&quot;, 0);</span><br><span class="line">        resp.setContentType(&quot;image/jpeg&quot;);</span><br><span class="line"></span><br><span class="line">        //生成随机字串</span><br><span class="line">        String verifyCode = VerifyCodeUtils.generateVerifyCode(4);</span><br><span class="line">        //存入会话session</span><br><span class="line">        req.getSession().setAttribute(&quot;CODE&quot;, verifyCode.toLowerCase());</span><br><span class="line"></span><br><span class="line">        //生成图片</span><br><span class="line">        int width = 100;//宽</span><br><span class="line">        int height = 40;//高</span><br><span class="line">        VerifyCodeUtils.outputImage(width, height, resp.getOutputStream(), verifyCode);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line">        // TODO Auto-generated method stub</span><br><span class="line">        doGet(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="服务器端验证验证码servlet"><a href="#服务器端验证验证码servlet" class="headerlink" title="服务器端验证验证码servlet"></a>服务器端验证验证码servlet</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package testserver;</span><br><span class="line"></span><br><span class="line">import java.io.IOException;</span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.annotation.WebServlet;</span><br><span class="line">import javax.servlet.http.HttpServlet;</span><br><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line">import javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line">@WebServlet(&quot;/yz&quot;)</span><br><span class="line">public class yanzheng extends HttpServlet &#123;</span><br><span class="line">	private static final long serialVersionUID = 1L;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line"></span><br><span class="line">        String code = req.getParameter(&quot;code&quot;);</span><br><span class="line">        String key = (String) req.getSession().getAttribute(&quot;CODE&quot;);</span><br><span class="line">        if(code != null &amp;&amp; code.equalsIgnoreCase(key))&#123;</span><br><span class="line">            req.getSession().removeAttribute(&quot;CODE&quot;);</span><br><span class="line">            resp.getWriter().println(true);</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            resp.getWriter().println(false);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line">        // TODO Auto-generated method stub</span><br><span class="line">        super.doGet(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="前端html文件"><a href="#前端html文件" class="headerlink" title="前端html文件"></a>前端html文件</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;</span><br><span class="line">    pageEncoding=&quot;UTF-8&quot; %&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line"></span><br><span class="line">    //改变验证码事件</span><br><span class="line">    function changeImg(obj)&#123;</span><br><span class="line">    	obj.src=&quot;/atest/niceyz?time=&quot;+new Date().getTime();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //提交验证并验证验证码</span><br><span class="line">    function submit()&#123;</span><br><span class="line">        var input = document.getElementsByTagName(&#x27;input&#x27;)[0];</span><br><span class="line">        window.location.href=&quot;/atest/yz?code=&quot;+input.value;  </span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h2&gt;测试验证码：&lt;/h2&gt;</span><br><span class="line">    请输入验证码：&lt;input type=&quot;text&quot; name=&quot;code&quot; /&gt;</span><br><span class="line">    &lt;img id=&quot;codeimg&quot; src=&quot;/atest/niceyz&quot; onclick=&quot;changeImg(this)&quot;&gt;   </span><br><span class="line">    &lt;button onclick=&quot;submit()&quot;&gt;提交&lt;/button&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>servlet</category>
      </categories>
      <tags>
        <tag>验证码</tag>
      </tags>
  </entry>
  <entry>
    <title>xml</title>
    <url>/2021/11/28/xml/</url>
    <content><![CDATA[<h3 id="一、XML基础"><a href="#一、XML基础" class="headerlink" title="一、XML基础"></a>一、XML基础</h3><h5 id="1．概念"><a href="#1．概念" class="headerlink" title="1．概念:"></a>1．概念:</h5><p>Extensible Markup Language可扩展标记语言</p>
<ul>
<li><p>可扩展∶</p>
<p>标签都是自定义的。<user> <student></student></user></p>
</li>
<li><p>功能</p>
<p>字存储数据</p>
<p>1．配置文件</p>
<p>2．在网络中传输</p>
</li>
<li><p>xm1与html的区别</p>
</li>
</ul>
<ol>
<li>xml标签都是自定义的，html标签是预定义。</li>
<li>xml的语法严格，html语法松散</li>
<li>xml是存储数据的，html是展示数据</li>
</ol>
<h5 id="2-语法"><a href="#2-语法" class="headerlink" title="2. 语法"></a>2. 语法</h5><ul>
<li><p>基本语法︰</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. xml文档的后缀名.xml</span><br><span class="line">2. xml第一行必须定义为文档声明</span><br><span class="line">3. xml文档中有且仅有一个根标签</span><br><span class="line"></span><br><span class="line">4. 属性值必须使用引号(单双都可)引起来</span><br><span class="line">5. 标签必须正确关闭</span><br><span class="line">6.  xml标签名称区分大小写</span><br></pre></td></tr></table></figure>
</li>
<li><p>快速入门</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&#x27;1.0&#x27; ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">users</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">user</span> <span class="attr">id</span> = <span class="string">&#x27;1&#x27;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>神仙<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">age</span>&gt;</span>10<span class="tag">&lt;/<span class="name">age</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">user</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">user</span> <span class="attr">id</span> = <span class="string">&#x27;2&#x27;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>神仙1<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">age</span>&gt;</span>100<span class="tag">&lt;/<span class="name">age</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">user</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">users</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>组成部分</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1.文档声明</span><br><span class="line">	1.格式：&lt;?xml 属性列表 ?&gt;</span><br><span class="line">	2.属性列表：</span><br><span class="line">		* version：版本号</span><br><span class="line">		* encoding：编码方式。告知解析引擎当前文档使用的字符集</span><br><span class="line">		* standalone: 是否独立(不重要)</span><br><span class="line">			1. yes</span><br><span class="line">			2. no</span><br><span class="line">2.指令(不重要)</span><br><span class="line">3.标签：名称自定义</span><br><span class="line">4.属性：</span><br><span class="line">	* id属性值唯一</span><br><span class="line">5.文本：</span><br><span class="line">	* CDATA区 --该区域的数据原样展示</span><br><span class="line">		格式：</span><br><span class="line">			&lt;![CDATA[数据]]&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="二、XML约束"><a href="#二、XML约束" class="headerlink" title="二、XML约束"></a>二、XML约束</h3><h5 id="基础："><a href="#基础：" class="headerlink" title="基础："></a>基础：</h5><p><strong>约束:规定xml文档的书写规则</strong></p>
<p>作为框架的使用者(程序员)∶</p>
<p>1．能够在xml中引入约束文档</p>
<p>2．能够简单的读懂约束文档</p>
<ul>
<li><p>分类:</p>
<ol>
<li><p>DTD:—种简单的约束技术</p>
</li>
<li><p>schema:—种复杂的约束技术</p>
</li>
</ol>
</li>
</ul>
<h5 id="引入："><a href="#引入：" class="headerlink" title="引入："></a>引入：</h5><ul>
<li><p>DTD ∶</p>
<p>引入人dtd文档到xml文档中</p>
<ul>
<li><p>内部dtd :将约束规则定义在xml文档中</p>
<ul>
<li><img src="/2021/11/28/xml/1.png" alt="img"></li>
</ul>
</li>
<li><p>外部dtd:将约束的规则定义在外部的dtd文件中</p>
<p>本地:<DOCTYPE 根标签名 system "dtd文件的位置"></DOCTYPE></p>
<p>网络:&lt;!DOCTYPE 根标签名PUBLIC “dtd文件名字””dtd文件的位置URL”&gt;</p>
<p><img src="/2021/11/28/xml/2.png" alt></p>
<p><img src="/2021/11/28/xml/3.pmg" alt></p>
</li>
</ul>
</li>
<li><p>schema:</p>
<p>引入：</p>
<ol>
<li><p>填写xml文档的根元素</p>
</li>
<li><p>引入xsi前缀． xmlns:xsi=”http: / / www .w3.org/2001/XMLSchema-instance”</p>
</li>
<li><p>引入xsd文件命名空间. xsi:schemaLocation=”http: / / www.itcast.cn/xml student.xsd”</p>
</li>
<li><p>为每一个xsd约束声明一个前缀,作为标识xmlns=”http: / / www.itcast.cn/xml “</p>
</li>
</ol>
<p><img src="/2021/11/28/xml/4.png" alt></p>
</li>
</ul>
<h5 id="解析："><a href="#解析：" class="headerlink" title="解析："></a>解析：</h5><p><strong>操作xml文档，将文档中的数据读取到内存中</strong> </p>
<ul>
<li><p>操作xml文档</p>
<p>1．解析(读取):将文档中的数据读取到内存中</p>
<p>2．写入:将内存中的数据保存到xml文档中。持久化的存储</p>
</li>
<li><p>解析xml的方式:</p>
<ol>
<li><p>DOM∶将标记语言文档一次性加载进内存，在内存中形成一颗dom树（服务器）</p>
<ul>
<li><p>优点∶操作方便，可以对文档进行CRUD的所有操作</p>
</li>
<li><p>缺点:占内存</p>
</li>
</ul>
</li>
<li><p>SAX∶逐行读取，基于事件驱动的。（手机）</p>
<ul>
<li><p>优点:不占内存。</p>
</li>
<li><p>缺点:只能读耿，不能增删改</p>
</li>
</ul>
</li>
</ol>
</li>
</ul>
<h6 id="常见的解析器"><a href="#常见的解析器" class="headerlink" title="常见的解析器"></a>常见的解析器</h6><ol>
<li><p>JAXP: sun公司提供的解析器，支持dom，sax两种思想（基本不用）</p>
</li>
<li><p>DOM4J ：dom4j是一个Java的XML API，是jdom的升级品，用来读写XML文件的。</p>
</li>
<li><p>Jsoup：jsoup 是一款Java 的HTML解析器，可直接解析某个URL地址、HTML文本内容。它提供了一套非常省力的API，可通过DOM，CSS以及类似于jQuery的操作方法来取出和操作数据。</p>
</li>
<li><p>PULL:android操作系统内置解析器，sax方式</p>
</li>
</ol>
<h6 id="Jsoup学习"><a href="#Jsoup学习" class="headerlink" title="Jsoup学习"></a>Jsoup学习</h6><p>对象的使用∶</p>
<p>1.Jsoup :工具类，可以解析html或xml文档，返回Document</p>
<ul>
<li><p>parse :解析html或xml文档，返回Document</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">parse(File in，String charsetName):解析xml或html文件的。</span><br><span class="line"></span><br><span class="line">parse(string str):解析xml或html字符串(str是xml或html内容)</span><br><span class="line"></span><br><span class="line">parse(URL url, int timeoutMillis):通过网络路径获取指定的html或xml的文档对象</span><br></pre></td></tr></table></figure>
<p><strong>网络url获取</strong></p>
<p><img src="/2021/11/28/xml/5.png" alt></p>
</li>
</ul>
<ol>
<li><p>Document :文档对象。代表内存中的dom树</p>
<ul>
<li><p>获取element对象</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">getElementsByTag(String name) ----根据标签名称获取</span><br><span class="line">getElementsByAttribute(string key):根据属性名称获取元素对象集合</span><br><span class="line">getElementsByAttributeValue(string key,string value):根据对应的属性名和属性值获取元素对象</span><br><span class="line">getElementById(String id): 根据id属性值获取唯一的元素</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Elements ∶元素Element对象的集合。可以当做 ArrayList<Element>来使用4. Element :元秦对象</Element></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 获取子元素对象</span><br><span class="line">	getElementsByTag(String name) ----根据标签名称获取</span><br><span class="line">    getElementsByAttribute(string key):根据属性名称获取元素对象集合</span><br><span class="line">    getElementsByAttributeValue(string key,string value):根据对应的属性名和属性值获取元素对象</span><br><span class="line">    getElementById(String id): 根据id属性值获取唯一的元素</span><br><span class="line">    child(int index) : 返回第几个子元素</span><br><span class="line">2. 获取属性值</span><br><span class="line">	String attr(String key):根据属性名称获取属性值</span><br><span class="line">3. 获取文本内容</span><br><span class="line">	String text():获取文本内容</span><br><span class="line">	String html():获取标签体的所有内容(包括子标签&lt;&gt;的内容)</span><br></pre></td></tr></table></figure>
</li>
<li><p>Node :节点对象</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">document和element的父类</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h6 id="基础入门"><a href="#基础入门" class="headerlink" title="基础入门"></a>基础入门</h6><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import org.jsoup.nodes.Document;</span><br><span class="line">import org.jsoup.nodes.Element;</span><br><span class="line">import org.jsoup.select.Elements;</span><br><span class="line">import java.io.*;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public class xml_analysis &#123;</span><br><span class="line">    public static void main(String[] args) throws Exception &#123;</span><br><span class="line">        //获取Document对象，根据xml文档获取</span><br><span class="line">        //1.获取student.xml的path</span><br><span class="line">        String path = xml_analysis.class.getClassLoader().getResource(&quot;test.xml&quot;).getPath();</span><br><span class="line">        //2. 解析xml文档，加载文档进内存，获取dom树 ----&gt;document</span><br><span class="line">        Document dom = Jsoup.parse(new File(path),&quot;utf-8&quot;);</span><br><span class="line">        //3. 获取元素对象Element</span><br><span class="line">        Elements student_list = dom.getElementsByTag(&quot;student&quot;);</span><br><span class="line">        System.out.println(student_list.size());</span><br><span class="line">        for (Element element : student_list) &#123;</span><br><span class="line">            System.out.println(element.child(3).text());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="快捷查询"><a href="#快捷查询" class="headerlink" title="快捷查询"></a>快捷查询</h6><ol>
<li><p>select:选择器</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">document.select(String cssQuery)</span><br><span class="line">其中cssQuery语法与css选择器类似</span><br><span class="line">1.选择标签名 ： 直接写eg： ”name“</span><br><span class="line">2.选择id #号+值 ：eg &quot;#test&quot; (注意test是id的值)</span><br><span class="line">3.获取指定标签含有指定属性值的元素 ： eg &quot;student[number=&#x27;1000&#x27;]&quot;  (其中student是标签，number是属性值)</span><br><span class="line">...</span><br><span class="line">根据Selector类中定义的语法来选择</span><br></pre></td></tr></table></figure>
</li>
<li><p>Xpath：XML路径语言，它是一种用来确定XML文档中某部分位置的语言。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">使用：</span><br><span class="line">	1.获取xml文件路径</span><br><span class="line">	2.获取document对象</span><br><span class="line">	3.根据document对象，创建JXDocument对象</span><br><span class="line">		JXDocument jxDocument = new JXDocument(dom);</span><br><span class="line">	4.结合xpath语法查询</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>   选取节点 XPath 使用路径表达式在 XML 文档中选取节点。节点是通过沿着路径或者 step 来选取的。</p>
<p>   下面列出了最有用的路径表达式：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>表达式</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>nodename</td>
<td>选取此节点的所有子节点。</td>
</tr>
<tr>
<td>/</td>
<td>从根节点选取。</td>
</tr>
<tr>
<td>//</td>
<td>从匹配选择的当前节点选择文档中的节点，而不考虑它们的位置。</td>
</tr>
<tr>
<td>.</td>
<td>选取当前节点。</td>
</tr>
<tr>
<td>..</td>
<td>选取当前节点的父节点。</td>
</tr>
<tr>
<td>@</td>
<td>选取属性。</td>
</tr>
</tbody>
</table>
</div>
<p>   在下面的表格中，我们已列出了一些路径表达式以及表达式的结果：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>路径表达式</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>bookstore</td>
<td>选取 bookstore 元素的所有子节点。</td>
</tr>
<tr>
<td>/bookstore</td>
<td>选取根元素 bookstore。注释：假如路径起始于正斜杠( / )，则此路径始终代表到某元素的绝对路径！</td>
</tr>
<tr>
<td>bookstore/book</td>
<td>选取属于 bookstore 的子元素的所有 book 元素。</td>
</tr>
<tr>
<td>//book</td>
<td>选取所有 book 子元素，而不管它们在文档中的位置。</td>
</tr>
<tr>
<td>bookstore//book</td>
<td>选择属于 bookstore 元素的后代的所有 book 元素，而不管它们位于 bookstore 之下的什么位置。</td>
</tr>
<tr>
<td>//@lang</td>
<td>选取名为 lang 的所有属性。</td>
</tr>
</tbody>
</table>
</div>
]]></content>
      <categories>
        <category>xml</category>
      </categories>
      <tags>
        <tag>xml学习</tag>
      </tags>
  </entry>
</search>
